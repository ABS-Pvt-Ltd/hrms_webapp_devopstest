import{y as Ze,r as h,D as Je,o as Ce,v as ce,b as N,c as et,d as a,e as i,m as _,g as e,j as E,i as d,f as t,n as b,t as c,F as P,l as z,h as A,k as D,w as We,T as pt}from"./app-e1ab7da0.js";import{_ as tt,a as ut,b as _t,c as st,d as mt,t as vt}from"./teamAppraisal-4937070a.js";import{u as Ke,a as ze}from"./pmsMainStore-a8268de2.js";import{S as Ve}from"./Service-a2d19084.js";import{L as Ie}from"./LoadingSpinner-1df67a25.js";import{r as ot,u as He}from"./index.esm-8509f6bf.js";import"./dayjs.min-ac6c82aa.js";import{u as at,s as lt,m as it,p as rt,a as nt,b as dt,_ as ct,c as ft}from"./pms_main_dashboard-add3a376.js";import gt from"./pmsConfig-98ce5519.js";import{u as ht}from"./dashboard_service-f3459655.js";/* empty css                                                                       */import"./xlsx-4ad528ac.js";import"./exceljs.min-3890d7de.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./autoprefixer-6643fbca.js";const xt={class:""},bt={key:0,class:"grid grid-cols-3 gap-2"},wt={key:0,class:"card h-[200px] p-4"},yt={class:"flex justify-start items-center"},kt={class:"flex items-center justify-center"},$t=["src"],Dt={class:"flex flex-col justify-center mx-4"},Ft={class:"text-[#000] font-semibold font-['poppins']"},St={class:"text-[#535353] font-['poppins'] my-1"},Ct={class:"flex flex-col justify-start my-2"},Kt=t("p",{class:"text-[#535353] font-['poppins'] my-1"},"Reporting Manager",-1),Vt={class:"text-[#000] font-semibold font-['poppins']"},At={class:"flex flex-col justify-start my-2"},Bt=t("p",{class:"text-[#535353] font-['poppins'] my-1"},"Review Period",-1),Tt={class:"text-[#000] font-semibold font-['poppins']"},jt={key:1,class:"card h-[200px]"},Et=t("div",{class:"bg-[#E6E6E6] p-3"},[t("h1",{class:"text-[#000] font-semibold font-['poppins']"},"Current Rating")],-1),Nt={class:"p-3"},It={class:"text-[#535353] font-['poppins'] my-1"},Rt={class:"text-[#000] font-semibold font-['poppins'] my-1"},Ut=t("h1",{class:"text-[#535353] font-['poppins'] mt-[25px] my-2"},"Scores",-1),Ot={class:"grid grid-cols-3 gap-2 !font-['poppins']"},Pt={class:"h-[54px] bg-[#F6F6F6] rounded-md flex flex-col justify-center items-center p-2"},Gt=t("h1",{class:"font-semibold mt-2"},"Self",-1),Lt={class:"flex justify-center items-center"},Mt={key:0,class:"my-2"},Wt={key:1,class:"flex items-center justify-center"},Ht={key:0,class:"pi pi-arrow-up text-[#387C2D]"},zt={key:1,class:"pi text-[#B20000] pi-arrow-down"},qt={class:"h-[54px] bg-[#F6F6F6] rounded-md flex flex-col justify-center items-center p-2"},Yt=t("h1",{class:"font-semibold"},"Manager",-1),Qt={class:"flex justify-center items-center"},Xt={key:0,class:"my-2"},Zt={key:1,class:"flex items-center justify-center"},Jt={key:0,class:"pi pi-arrow-up text-[#387C2D]"},es={key:1,class:"pi text-[#B20000] pi-arrow-down"},ts={class:"h-[54px] bg-[#F6F6F6] rounded-md flex flex-col justify-center items-center p-2"},ss=t("h1",{class:"font-semibold"},"HR",-1),os={class:""},as={key:0,class:"my-2"},ls={key:1,class:"flex justify-center items-center"},is={key:0,class:"pi pi-arrow-up text-[#387C2D]"},rs={key:1,class:"pi text-[#B20000] pi-arrow-down"},ns={key:2,class:"card h-[200px]"},ds=t("div",{class:"bg-[#E6E6E6] p-3"},[t("h1",{class:"text-[#000] font-semibold font-['poppins']"},"Overall Ratings")],-1),cs={class:"p-3"},ps=t("p",{class:"my-2 font-['poppins']"},"Overall Annual Score",-1),us={class:"flex justify-start items-center"},_s=t("span",{class:"mt-[25px] font-['poppins'] mb-1 mr-4"}," Recommendation : ",-1),ms={class:"mt-[25px] text-[#000] font-['poppins'] font-semibold text-[13px]"},vs={class:"text-green-500"},fs={class:"my-4"},gs={class:"flex flex-col relative items-center"},hs={class:"flex justify-between mt-2"},xs={class:"divide-x nav nav-pills divide-solid nav-tabs-dashed mb-3 border-b-[3px] border-gray-300",role:"presentation"},bs={class:"nav-item",role:"presentation"},ws=t("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"},null,-1),ys=t("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-500"},null,-1),ks=[ws,ys],$s={key:0,class:"relative h-1 rounded-l-3xl top-1",style:{border:"2px solid #F9BE00 !important"}},Ds={class:"nav-item",role:"presentation"},Fs={key:0,class:"relative h-1 rounded-l-3xl top-1",style:{border:"2px solid #F9BE00 !important"}},Ss={class:"border-0 nav-item position-relative",role:"presentation"},Cs={key:0,class:"h-1 relative top-1 bottom-[1px] left-0 w-[100%]",style:{border:"2px solid #F9BE00 !important"}},Ks={key:0,class:"flex justify-between m-3"},Vs=t("i",{class:"mr-2 pi pi-plus"},null,-1),As={key:0,class:""},Bs={class:"flex justify-center items-center gap-2"},Ts=["src"],js={class:"flex flex-col justify-start items-start"},Es={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Ns={class:"font-['poppins'] text-[#535353] text-[12px]"},Is={class:"flex flex-col justify-start items-start"},Rs={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Us={class:"font-['poppins'] text-[#535353] text-[12px]"},Os={key:0,class:"flex justify-center"},Ps=["onClick"],Gs=t("i",{class:"pi pi-eye"},null,-1),Ls=[Gs],Ms={key:1,class:""},Ws={class:"flex justify-center items-center gap-2"},Hs=["src"],zs={class:"flex flex-col justify-start items-start"},qs={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Ys={class:"font-['poppins'] text-[#535353] text-[12px]"},Qs={class:"flex flex-col justify-start items-start"},Xs={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Zs={class:"font-['poppins'] text-[#535353] text-[12px]"},Js={key:0},eo={class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},to={key:1},so={class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},oo={class:"flex justify-center items-center"},ao=["onClick"],lo=["onClick"],io=t("i",{class:"pi pi-eye"},null,-1),ro=[io],no={class:"p-0 m-0 d-flex flex-column rounded-md overflow-hidden"},co=["onClick"],po=["onClick"],uo={key:1},_o=["onClick"],mo=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"})],-1),vo=[mo],fo=["onClick"],go=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ho=[go],xo={key:2,class:""},bo={class:"flex justify-center items-center gap-2"},wo=["src"],yo={class:"flex flex-col justify-start items-start"},ko={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},$o={class:"font-['poppins'] text-[#535353] text-[12px]"},Do={class:"flex flex-col justify-start items-start"},Fo={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},So={class:"font-['poppins'] text-[#535353] text-[12px]"},Co={class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},Ko={class:"flex justify-center items-center"},Vo=["onClick"],Ao=t("i",{class:"pi pi-eye"},null,-1),Bo=[Ao],To=t("h2",{class:"text-[#ffff] text-[16px] font-semibold absolute top-0 p-4 left-0 bg-[#000] w-[100%]"}," New Goals Assign",-1),jo={class:"p-2"},Eo={class:"grid grid-cols-2 gap-4 mt-2"},No={class:"flex flex-col"},Io=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Calendar Type",-1),Ro={class:"flex flex-col"},Uo=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Year",-1),Oo={class:"grid grid-cols-2 gap-4 mt-2"},Po={class:"flex flex-col"},Go=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Frequency",-1),Lo={class:"flex flex-col"},Mo=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Assignment Period",-1),Wo={class:"grid grid-cols-2 gap-4 mt-2"},Ho={class:"flex flex-col"},zo=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Department",-1),qo={class:"flex flex-col"},Yo=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Employee",-1),Qo={class:"grid grid-cols-1 gap-4 mt-2"},Xo={class:"flex flex-col"},Zo=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Reviewer",-1),Jo={class:"w-[100%]"},ea=t("hr",{class:"border-[1px] my-4"},null,-1),ta=t("h1",{class:"text-[#000] font-semibold text-[16px]"},"Goals/ Areas of Development",-1),sa={class:"flex items-center justify-between"},oa=t("p",{class:"text-[12px] text-[#757575] w-[240px]"},"Select Existing Form from the Drop Down",-1),aa={key:0,class:"flex align-items-center"},la={class:"flex justify-between items-center"},ia={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 font-semibold text-green-600"},ra=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"},null,-1),na=[ra],da=t("div",{class:"flex justify-center h-[200px] my-4"},[t("img",{src:tt,alt:"",class:""})],-1),ca={class:"flex items-center justify-center left-[25%]"},pa={class:"text-[#ffff] text-[16px] font-semibold absolute top-0 p-4 left-0 bg-[#000] w-[100%] cursor-pointer"},ua={class:"w-[100%] p-3"},_a={key:0,class:"flex flex-col"},ma=t("h1",{class:"text-[#000] font-semibold text-[16px] my-2"},"Goals/ Areas of Development",-1),va={class:"flex items-center justify-between"},fa={class:"flex item-center"},ga=t("i",{class:"pi pi-upload"},null,-1),ha=t("span",{class:"mx-2"},"Upload",-1),xa={class:"flex items-center justify-center"},ba=t("p",{class:"text-[#000] mx-2 text-end font-['poppins']"},"Download the",-1),wa=t("i",{class:"pi pi-download"},null,-1),ya=t("span",{class:"mx-1"},null,-1),ka={class:"flex items-end justify-end"},$a=t("i",{class:"pi pi-download"},null,-1),Da=t("span",{class:"mx-1"},null,-1),Fa={key:1},Sa=t("div",{class:"my-3"},[t("hr",{class:"border-[1px] w-[100%]"})],-1),Ca={key:0,class:"flex items-center my-2"},Ka=t("h1",{class:"font-semibold flex items-center"},[A(" Enter the Form Name "),t("span",{class:"text-[red] text-[20px]"},"*")],-1),Va={key:1,class:"flex items-center my-2"},Aa=t("h1",{class:"flex items-center font-['poppins']"},"Form Name :",-1),Ba={class:"font-semibold mx-2 font-['poppins']"},Ta=t("div",{class:"p-2 mb-[12px]"},[t("hr",{class:"border-[1px] w-[100%]"})],-1),ja={key:2,class:""},Ea={key:0,class:"my-3"},Na={class:"flex justify-between items-center"},Ia={class:"flex flex-col relative"},Ra={class:"!text-[9px] absolute left-0 w-[200px] top-[34px] flex justify-start text-gray-500 font-['poppins']"},Ua={key:0},Oa={key:0,class:"grid grid-cols-12 gap-2 py-3 px-4 bg-[#DDDD] rounded-md mt-10 mb-2"},Pa={class:"text-lg font-semibold"},Ga={key:0,class:"text-center font-semibold relative"},La=t("span",{class:"text-gray-400 font-['poppins']"},"Overall -",-1),Ma=t("span",{class:"absolute right-[-120px] text-lg font-semibold top-[-20px]"},"Comments",-1),Wa={class:"grid grid-cols-12 gap-2"},Ha={key:0,class:"!break-all"},za={key:1,class:"font-['poppins'] !line-clamp-1 !break-all"},qa={key:0,class:"mx-1"},Ya=["onClick"],Qa=t("div",null,null,-1),Xa={class:"flex flex-col justify-center h-[100%]"},Za={key:0,class:""},Ja={key:0,class:"grid grid-cols-12 items-center font-['poppins']"},el={class:"flex justify-start col-span-6"},tl={class:"flex items-center justify-center"},sl={class:"text-[#000] mx-2"},ol={class:"mx-2 text-[#8B8B8B]"},al={class:"text-[#000] mx-2"},ll={class:"col-span-2 flex flex-col relative"},il={class:"absolute top-[-35px] text-[#8b8b8b] font-['poppins']"},rl={class:"col-span-2 relative my-2"},nl={class:"absolute top-[-34px] text-[#8b8b8b] font-['poppins']"},dl={key:1,class:"text-[12px] text-[#000] my-2 pl-[20px]"},cl={class:"col-span-2"},pl={key:1},ul={key:1,class:""},_l={class:"grid grid-cols-12 items-center"},ml={class:"flex items-center justify-start col-span-6 font-['poppins']"},vl={class:"text-[#000] mx-2"},fl={class:"mx-2 text-[#8B8B8B]"},gl={class:"text-[#000] mx-2"},hl={class:"col-span-2 flex flex-col font-['poppins']"},xl={class:"col-span-2 font-['poppins'] p-[20px]"},bl={class:"col-span-2 font-['poppins']"},wl={key:2,class:"flex justify-center items-center my-4"},yl={key:3,class:"flex justify-center items-center my-4"},kl={key:3},$l={key:0},Dl={key:0,class:"grid grid-cols-12 gap-4 py-3 px-4 my-2 bg-[#DDDD] rounded-md h-[80px] font-['poppins']"},Fl={class:"text-[13px] font-semibold text-center"},Sl=t("span",{class:"absolute right-[-140px] text-lg font-semibold top-[-20px]"},"Action",-1),Cl={key:0,class:"!break-all"},Kl={key:1,class:"font-['poppins'] !line-clamp-1 !break-all"},Vl={key:0,class:"mx-1"},Al=["onClick"],Bl=t("div",null,null,-1),Tl={key:0,class:"flex items-center justify-end relative"},jl=["onClick"],El=["onClick"],Nl=["onClick"],Il={key:0,class:"grid grid-cols-2 gap-2 mt-2"},Rl={for:"",class:"text-[12px] text-[#757575] my-2"},Ul={key:3,class:"font-semibold text-red-400 fs-6"},Ol=t("div",null,null,-1),Pl={class:"flex justify-start items-center relative top-[14px]"},Gl=t("i",{class:"pi pi-check"},null,-1),Ll=[Gl],Ml=t("i",{class:"pi pi-times"},null,-1),Wl=[Ml],Hl={key:1,class:"flex justify-center my-[40px]"},zl=t("i",{class:"pi pi-plus",style:{"font-size":"1rem"}},null,-1),ql=t("p",null,"Add more",-1),Yl=[zl,ql],Ql={key:2,class:"flex justify-center mt-[100px]"},Xl={key:3,class:"flex justify-center my-[40px]"},Zl={key:0,class:""},Jl={style:{height:"20rem"},class:"relative rounded-lg overflow-hidden !z-[10000]"},ei={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#9DC284] flex justify-center items-center",style:{height:"9rem"}},ti={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[20px] object-cover absolute box-border",style:{height:"19rem"}},si=t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Withdraw",-1),oi=t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to withdraw the current KPI/OKR Form?",-1),ai={class:"flex justify-center items-center pt-6 gap-3"},li={style:{height:"20rem"},class:"relative rounded-lg overflow-hidden !z-[10000]"},ii={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#9DC284] flex justify-center items-center",style:{height:"9rem"}},ri={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[20px] object-cover absolute box-border",style:{height:"19rem"}},ni=t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Delete",-1),di=t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to delete the current KPI/OKR Data?",-1),ci={class:"flex justify-center items-center pt-6 gap-3"},pi={style:{height:"20rem"},class:"relative rounded-lg overflow-hidden !z-[10000]"},ui={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#9DC284] flex justify-center items-center",style:{height:"9rem"}},_i={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[20px] object-cover absolute box-border",style:{height:"19rem"}},mi=t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Close",-1),vi=t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to close this Sidebar?",-1),fi={class:"flex justify-center items-center pt-6 gap-3"},gi={__name:"selfAppraisal",setup(Ae){const l=Ze(),C=h({global:{value:null,matchMode:Je.CONTAINS}}),K=h("Creation"),w=h(),v=h(""),U=Ve(),s=Ke(),F=ze(),S=h(),O=h(1);h(!1);const G=h(!0),I=h(!1),J=h(),we=h(!1),ae=h(),q=h(),Y=h(!1);h(!1);const le=h(0),ne=h(0),ie=h(!1),T=h(),re=h(!1),se=h();h(!1);const he=h(),oe=h(),Be=h(),ue=h(!1),ve=h(!1),ye=h();h();const fe=h(),pe=h(!0),Re=u=>{console.log(u.data.id," event.data.id"),s.record_id=u.data.id,s.getSelfReviewDashboardDetails(J.value)},qe=u=>{},ke=h();function Ye(){l.add({severity:"error",summary:"Select KPI form",life:3e3})}Ce(async()=>{let u;await U.getCurrentUserCode().then(f=>{u=f.data,ae.value=f.data,s.selectedAssigneeFormUsercode=f.data,J.value=f.data,console.log(u)});const n=3;await s.getAssignmentPeriodDropdown(u),await s.getSelfAppraisalDashboardDetails(u),await s.getPmsConfiguration(n,u),await s.getKPIFormAsDropdown(u),await s.getSelfReviewDashboardDetails(u),s.User_code=u});function Ue(){ie.value=!0}function Qe(){s.withdrawEmployeeAssignedForm(T.value),ie.value=!1}function Q(u,n){T.value=n,se.value=u}const Fe=ce(()=>{let u=J.value;if(O.value==1){console.log("active tab"+O.value);const n=s.selfDashboardPublishedFormList?F.filterSelfAppraisalPendingStatusSource(s.selfDashboardPublishedFormList,"",1):!1;if(console.log(n.length>0),n.length>0)n.forEach(async f=>{console.log("Record"+f.id),f.id&&(await s.getSelfTimeLine(u,f.id),s.record_id=f.id,await s.getSelfReviewDashboardDetails(u))});else{const f=s.selfDashboardPublishedFormList?F.filterSelfAppraisalStatusWiseSource(s.selfDashboardPublishedFormList,1,1):[];console.log("Record"+f.length>0?f[0]:""),s.record_id=f.length>0?f[0].id:"",s.getSelfTimeLine(u,s.record_id),s.getSelfReviewDashboardDetails(u)}}else if(O.value==2){console.log("active tab"+O.value);const n=s.selfDashboardPublishedFormList?F.filterSelfAppraisalStatusWiseSource(s.selfDashboardPublishedFormList,1,""):!1;if(console.log(n.length>0),n.length>0)n.forEach(async f=>{console.log(f.id),f.id&&(await s.getSelfTimeLine(u,f.id),s.record_id=f.id,s.getSelfTimeLine(u,f.id),await s.getSelfReviewDashboardDetails(u))});else{const f=s.selfDashboardPublishedFormList?F.filterSelfAppraisalStatusWiseSource(s.selfDashboardPublishedFormList,1,1):[];console.log("Record:"+f),s.record_id=f.length>0?f[0].id:"",s.getSelfTimeLine(u,s.record_id),s.getSelfReviewDashboardDetails(u)}}}),X=(u,n)=>{const f=n;f>=0&&f<u.length?(u.splice(f,1),console.log(`Deleted element at index ${f}`)):console.log(`Invalid index: ${f}`)},$e=(u,n,f)=>{s.createKpiForm.form_details[u]?s.createKpiForm.form_details[u][n]=f:console.log("Index out of range or form_details is not an array.")},Oe=(u,n,f)=>{if(s.createKpiForm.form_details[u].assignee_review){s.createKpiForm.form_details[u].assignee_review[n]=f;let M=/\d/.test(s.createKpiForm.form_details[u].assignee_review.kpi_review);s.createKpiForm.form_details[u].assignee_review.kpi_review==f&&(s.createKpiForm.form_details[u].assignee_review.kpi_percentage=Math.round(parseInt(s.createKpiForm.form_details[u].assignee_review.kpi_review)/parseInt(s.createKpiForm.form_details[u].target)*parseInt(s.createKpiForm.form_details[u].kpi_weightage))),M?s.createKpiForm.form_details[u].assignee_review.kpi_weightage=F.calculateKpiWeightage(s.createKpiForm.form_details[u].target,f):s.createKpiForm.form_details[u].assignee_review.kpi_percentage=0}else console.log("Index out of range or form_details is not an array.")},_e=(u,n,f)=>{s.createKpiForm.form_details[u].assignee_review?(s.createKpiForm.form_details[u].assignee_review[n]=f,s.createKpiForm.form_details[u].target===s.createKpiForm.form_details[u].assignee_review.kpi_review?s.createKpiForm.form_details[u].assignee_review.kpi_percentage=s.createKpiForm.form_details[u].kpi_weightage:(s.createKpiForm.form_details[u].assignee_review.kpi_percentage=0,console.log(s.createKpiForm.form_details[u].assignee_review.kpi_percentage,"else"))):console.log("Index out of range or form_details is not an array.")},Pe=(u,n,f)=>{s.createKpiForm.form_details[u].assignee_review&&(s.createKpiForm.form_details[u].assignee_review[n]=f,s.createKpiForm.form_details[u].assignee_review.kpi_weightage=F.calculateKpiWeightage(s.createKpiForm.form_details[u].target,f))},ee=u=>q.value===u,Se=u=>{if(u)return u.map(f=>Object.entries(f).map(([M,R])=>({title:M,value:R})))},B=(u,n)=>{if(u)return u.find(f=>f.title===n)},Ge=u=>{if(u){let n=String.fromCharCode(u.keyCode);if(/^[0-9]+$/.test(n))return!0;u.preventDefault()}},Te=ce(()=>{const u={};for(const n of s.selected_header?s.selected_header:[])u[n.header_name]={required:ot};return u}),me=He(Te,s.addKra),je=()=>{if(me.value.$validate(),me.value.$error)console.log("Form failed validation");else{const u=m(s.selected_header);console.log(u),Ne(u,s.addKra)?l.add({severity:"warn",summary:"Validation",detail:"Fill missing fields",life:3e3}):(re.value=!1,s.addFormDetails(s.addKra),console.log("Form successfully submitted."),s.addKra={},me.value.$reset())}};He(Te,"");const xe=(u,n,f)=>{if(oe.value==n&&he.value===u&&f.length>5)return!0};function Ee(u){if(u)return u.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ")}const ge=ce(()=>{s.createNewGoals.calendar_type=Ee(s.createNewGoals.calendar_type)}),De=ce(()=>{s.createNewGoals.frequency=Le(s.createNewGoals.frequency)});function Le(u){return u.charAt(0).toUpperCase()+u.slice(1)}h([]);const Ne=(u,n)=>{const f=Object.keys(u),M=Object.keys(n),R=M.filter(L=>!f.includes(L)),be=f.filter(L=>!M.includes(L));if(R.length>0||be.length>0)return!0},m=u=>{const n={};return u.forEach(f=>{const{header_name:M}=f;n[M]=null}),n},p=u=>{let n=0;if(u.forEach(f=>{/\d/.test(f.kpi_weightage)&&(le.value=parseInt(f.kpi_weightage)),f.kpi_weightage!==void 0&&!isNaN(parseInt(f.kpi_weightage))&&(n+=parseInt(f.kpi_weightage),le.value=n)}),n>100)l.add({severity:"error",summary:"Validation",detail:"The combined weightage of KPIs or OKRs must equal to 100% ",life:3e3});else if(n<100)l.add({severity:"error",summary:"Validation",detail:"The combined weightage of KPIs or OKRs must equal to 100%",life:3e3});else if(n==100){let f=J;console.log(K.value==="Reject Edit option"?s.form_id:""," testing rejected form id ::"),s.saveKpiForm(f,K.value==="Edit"||K.value==="Reject Edit option"?s.form_id:"")}},k=ce(()=>{let u=s.createKpiForm.form_details,n=0;return console.log(u),u.forEach(f=>{/\d/.test(f.kpi_weightage)&&(le.value=parseInt(f.kpi_weightage)),f.kpi_weightage!==void 0&&!isNaN(parseInt(f.kpi_weightage))&&(n+=parseInt(f.kpi_weightage),le.value=n)}),le.value}),V=(u,n)=>u.filter(M=>!n.includes(M.title)),de=u=>!/\d/.test(u),Z=ce(()=>{let u=0;return s.createKpiForm.form_details.forEach(f=>{(/\d/.test(f.assignee_review.kpi_percentage)||f.assignee_review.kpi_percentage!==void 0&&!isNaN(parseInt(f.assignee_review.kpi_percentage)))&&(u+=parseInt(f.assignee_review.kpi_percentage),ne.value=u)}),ne.value});return(u,n)=>{const f=N("Toast"),M=N("ProgressBar"),R=N("Column"),be=N("DataTable"),L=N("InputText"),r=N("Dropdown"),$=N("Sidebar"),x=N("Textarea"),W=N("AccordionTab"),j=N("Accordion"),Me=N("Dialog"),Xe=et("tooltip");return a(),i(P,null,[_(f),e(s).canShowLoading?(a(),E(Ie,{key:0,class:"absolute z-50 bg-white"})):d("",!0),t("div",null,[t("div",xt,[e(s).selfReviewDashboardSource&&e(s).selfReviewDashboardSource.employee_details?(a(),i("div",bt,[e(s).selfReviewDashboardSource&&(e(s).selfReviewDashboardSource.employee_details?e(s).selfReviewDashboardSource.employee_details:{})?(a(),i("div",wt,[t("div",yt,[t("div",kt,[e(s).selfReviewDashboardSource.employee_details.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[40px] h-[40px] flex justify-center items-center",e(s).selfReviewDashboardSource.employee_details.avatar_or_shortname.type=="shortname"?e(U).getBackgroundColor(1):""])},c(e(s).selfReviewDashboardSource.employee_details.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img w-[40px] h-[40px]",src:`data:image/png;base64,${e(s).selfReviewDashboardSource.employee_details.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,$t))]),t("div",Dt,[t("h1",Ft,c(e(s).selfReviewDashboardSource.employee_details.name)+"- "+c(e(s).selfReviewDashboardSource.employee_details.user_code),1),t("p",St,c(e(s).selfReviewDashboardSource.employee_details.designation),1)])]),t("div",Ct,[Kt,t("h1",Vt,c(e(s).selfReviewDashboardSource.employee_details.reporting_manager)+"-( "+c(e(s).selfReviewDashboardSource.employee_details.reporting_manager_usercode)+") ",1)]),t("div",At,[Bt,t("h1",Tt,c(e(s).selfReviewDashboardSource.employee_details.review_period),1)])])):d("",!0),(e(s).selfReviewDashboardSource.current_form_rating?e(s).selfReviewDashboardSource.current_form_rating:{})?(a(),i("div",jt,[Et,t("div",Nt,[t("h1",It,"Current Period ("+c(e(s).selfReviewDashboardSource.current_form_rating.frequency)+")",1),t("h1",Rt,c(e(s).selfReviewDashboardSource.current_form_rating.period),1),Ut,t("div",Ot,[t("div",Pt,[Gt,t("div",Lt,[e(s).selfReviewDashboardSource.current_form_rating.score.self_score==0||e(s).selfReviewDashboardSource.current_form_rating.score.self_score==""?(a(),i("h1",Mt,c(e(s).selfReviewDashboardSource.current_form_rating.score.self_score)+" %",1)):(a(),i("div",Wt,[t("h1",{class:b(["my-2",[e(s).selfReviewDashboardSource.current_form_rating.score.self_score>=100?" text-[#387C2D] ":"text-[#B20000]"]])},c(e(s).selfReviewDashboardSource.current_form_rating.score.self_score)+" %",3),e(s).selfReviewDashboardSource.current_form_rating.score.self_score>=100?(a(),i("i",Ht)):(a(),i("i",zt))]))])]),t("div",qt,[Yt,t("div",Qt,[e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score==""||e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score==0?(a(),i("h1",Xt," 0 %")):(a(),i("div",Zt,[t("h1",{class:b(["my-2",[e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score>e(s).selfReviewDashboardSource.current_form_rating.score.self_score?" text-[#387C2D] ":"text-[#B20000]"]])},c(e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score)+" %",3),e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score>e(s).selfReviewDashboardSource.current_form_rating.score.self_score?(a(),i("i",Jt)):(a(),i("i",es))]))])]),t("div",ts,[ss,t("div",os,[e(s).selfReviewDashboardSource.current_form_rating.score.hr_score==""||e(s).selfReviewDashboardSource.current_form_rating.score.hr_score==0?(a(),i("h1",as," 0 % ")):(a(),i("div",ls,[t("h1",{class:b([e(s).selfReviewDashboardSource.current_form_rating.score.hr_score>=e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score?" text-[#387C2D]":"text-[#B20000] "])},c(e(s).selfReviewDashboardSource.current_form_rating.score.hr_score)+" % ",3),e(s).selfReviewDashboardSource.current_form_rating.score.hr_score>=e(s).selfReviewDashboardSource.current_form_rating.score.l1_reviewers_score?(a(),i("i",is)):(a(),i("i",rs))]))])])])])])):d("",!0),(e(s).selfReviewDashboardSource.overall_rating?e(s).selfReviewDashboardSource.overall_rating:[])?(a(),i("div",ns,[ds,t("div",cs,[ps,_(M,{value:e(s).selfReviewDashboardSource.overall_rating.overall_perform_rating.annual_score,class:""},null,8,["value"]),t("div",us,[_s,t("span",ms,[t("span",vs,c(e(s).selfReviewDashboardSource.overall_rating.overall_perform_rating.perfomance)+" ( "+c(e(s).selfReviewDashboardSource.overall_rating.overall_perform_rating.action)+"% )",1)])])])])):d("",!0)])):d("",!0),t("div",fs,[t("div",{class:b(["flex justify-between items-center",O.value!=3?"":"invisible"])},[(a(!0),i(P,null,z(e(s).SelfTimeLine,(o,y)=>(a(),i("div",{class:b(["flex justify-center items-center",y==0?" ":"w-full"])},[t("div",{class:b(["border-[1px] border-dashed border-[#82AB7B] w-[100%]",y==0?" border-[1px] border-dashed border-transparent":""])},null,2),t("div",gs,[t("button",{class:b(["py-2 rounded-md font-[poppins] px-2 w-[160px] text-center whitespace-nowrap",[o.status==1||o.status==!0?"bg-[#82AB7B] text-[#ffff] ":o.status==0?"border-[1px] bg-[white] border-[rgb(130,171,123)] text-[#82AB7B]":" bg-[#E6E6E6] text-[#8B8B8B]"]])},c(o.title),3),t("div",{class:b([o.actual_date?" left-[-4px]":"left-0","!text-[9px] absolute top-[34px] text-nowrap flex justify-center text-gray-500 font-['poppins']"])},[A(" Exp: "+c(o.expected_date)+" - ",1),t("span",{class:b(["ml-[2px] !text-[9px]",o.is_overdue===0?" text-[green]":"text-[red]"])},c(o.actual_date?" Act: "+o.actual_date:""),3)],2)])],2))),256))],2)])]),t("div",hs,[t("ul",xs,[t("li",bs,[t("a",{class:b(["px-2 position-relati3e !border-none font-['poppins'] text-[12px] text-[#001820]",[O.value===1?" font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[0]||(n[0]=o=>(O.value=1,e(s).createKpiForm.form_details=""))},[A(" PENDING "),t("span",{class:b(["relative left-[60px] top-[-25px] flex h-3 w-3 !z-10",e(s).selfDashboardPublishedFormList&&e(F).filterSelfAppraisalPendingStatusSource(e(s).selfDashboardPublishedFormList,"",1).length>0?"":"hidden"])},ks,2)],2),O.value===1?(a(),i("div",$s)):d("",!0)]),t("li",Ds,[t("a",{class:b(["px-2 position-relati3e border-none font-['poppins'] text-[12px] text-[#001820]",[O.value===2?" font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:n[1]||(n[1]=o=>(O.value=2,e(s).getSelfTimeLine(J.value,e(s).record_id)))}," CURRENT ",2),O.value===2?(a(),i("div",Fs)):d("",!0)]),t("li",Ss,[t("a",{class:b(["text-center px-3 border-0 font-['poppins'] text-[12px] text-[#001820]",[O.value===3?" font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:n[2]||(n[2]=o=>O.value=3),role:"tab","aria-controls":"","aria-selected":"true"}," COMPLETED ",2),O.value===3?(a(),i("div",Cs)):d("",!0)])]),e(s).addGoalStatus==0&&O.value===2?(a(),i("div",Ks,[t("button",{onClick:n[3]||(n[3]=o=>(I.value=!0,e(s).getPmsConfiguration(3,ae.value),v.value="")),class:"bg-[#F9BE00] text-[13px] rounded-md text-[#000] !w-[120px] h-[35px] font-semibold flex justify-center items-center"},[Vs,A(" Add Goals")])])):d("",!0)]),A(" "+c(e(Fe))+" ",1),O.value==1?(a(),i("div",As,[e(s).selfDashboardPublishedFormList?(a(),E(be,{key:0,scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],value:e(s).selfDashboardPublishedFormList?e(F).filterSelfAppraisalPendingStatusSource(e(s).selfDashboardPublishedFormList,"",1):[],class:"w-[100%]",filters:C.value},{default:D(()=>[_(R,{field:"assignee_name",header:"Employee"},{body:D(o=>[t("div",Bs,[o.data.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",e(U).getBackgroundColor(o.index)]),style:{"vertical-align":"middle"}},c(o.data.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${o.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,Ts)),t("span",js,[t("span",Es,c(o.data.assignee_name.substring(0,14)+".."),1),t("span",Ns,c(o.data.assignee_code),1)])])]),_:1}),_(R,{field:"manager_name",header:"Manager"},{body:D(o=>[t("div",Is,[t("span",Rs,c(o.data.manager_name),1),t("span",Us,c(o.data.manager_code),1)])]),_:1}),_(R,{field:"assignment_period",header:"Assignment Period"}),_(R,{field:"score",header:"Score",style:{}}),_(R,{header:"Status"},{body:D(({data:o})=>[A(c(o.status),1)]),_:1}),_(R,{header:"Action"},{body:D(({data:o})=>[e(F).pmsKpiFormAcceptance([o])?(a(),i("div",Os,[t("button",{class:"bg-[#F9BE00] rounded-md flex justify-center items-center h-[20px] w-[30px] text-black hover:bg-[#DAAA13]",onClick:y=>(Q(o.reviewer_details,o),T.value=o,e(s).getSelfTimeLine(J.value,o.id),e(s).selected_header=o.form_header,e(s).createSelfKpiSidebar=!0,I.value=!1,Y.value=!1,K.value="view",e(s).getKPIFormDetails(o.kpi_form_details.form_id),G.value=!1,e(s).canShowAssigneeReviewForm=!1)},Ls,8,Ps)])):d("",!0)]),_:1})]),_:1},8,["value","filters"])):d("",!0)])):d("",!0),O.value==2?(a(),i("div",Ms,[_(be,{scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],value:e(F).filterSelfAppraisalStatusWiseSource(e(s).selfDashboardPublishedFormList,1,""),class:"w-[100%]",filters:C.value},{default:D(()=>[_(R,{field:"assignee_name",header:"Employee",style:{},class:""},{body:D(o=>[t("div",Ws,[o.data.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",e(U).getBackgroundColor(o.index)]),style:{"vertical-align":"middle"}},c(o.data.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${o.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,Hs)),t("span",zs,[t("span",qs,c(o.data.assignee_name.substring(0,14)+".."),1),t("span",Ys,c(o.data.assignee_code),1)])])]),_:1}),_(R,{field:"manager_name",header:"Manager",style:{}},{body:D(o=>[t("div",Qs,[t("span",Xs,c(o.data.manager_name),1),t("span",Zs,c(o.data.manager_code),1)])]),_:1}),_(R,{field:"assignment_period",header:"Assignment Period",style:{}}),_(R,{field:"score",header:"Score"}),_(R,{header:"Status",field:"status",style:{}},{body:D(({data:o})=>[o.status.toUpperCase()=="COMPLETED"?(a(),i("div",Js,[t("span",eo,c(o.status),1)])):(a(),i("div",to,[t("span",so,c(o.status),1)]))]),_:1}),_(R,{header:"Action"},{body:D(({data:o})=>[t("div",oo,[o.reviewer_details&&o.reviewer_details[0].review_order==1&&o.reviewer_details[0].is_accepted==1?(a(),i("button",{key:0,onClick:y=>(e(s).getSelfTimeLine(J.value,o.id),e(s).createSelfKpiSidebar=!0,e(s).selected_header=o.form_header,e(s).createKpiForm={...o.kpi_form_details},ye.value="save",Q(o.reviewer_details,o),K.value="Review",e(s).canShowAssigneeReviewForm=!e(F).pmsKpiFormAcceptance([o]),S.value=o.id,o.is_assignee_submitted==1?we.value=!0:we.value=!1,G.value=!1),class:"bg-[#F9BE00] px-4 py-1 !text-[13px] rounded-md text-[#ffff] h-[33px] !font-['poppins']"}," Review",8,ao)):(a(),i("button",{key:1,class:"bg-[#F9BE00] rounded-md flex justify-center items-center h-[20px] w-[30px] text-black hover:bg-[#DAAA13]",onClick:y=>(Q(o.reviewer_details,o),e(s).getSelfTimeLine(J.value,o.id),e(s).selected_header=o.form_header,e(s).createSelfKpiSidebar=!0,I.value=!1,Y.value=!1,K.value="view",e(s).getKPIFormDetails(o.kpi_form_details.form_id),G.value=!1,e(s).canShowAssigneeReviewForm=!1)},ro,8,lo))]),w.value===o.id?(a(),i("div",{key:0,onMouseleave:n[5]||(n[5]=y=>w.value=""),class:"absolute flex flex-col bg-white shadow-2xl top-4 z-[1000]",style:{width:"120px","margin-top":"12px !important","margin-right":"20px !important"}},[t("div",no,[t("button",{onClick:y=>(e(s).createSelfKpiSidebar=!0,I.value=!1,Y.value=!1,K.value="view",e(s).getKPIFormDetails(o.kpi_form_details.form_id)),class:"h-[30px] p-2 text-black font-['poppins'] fw-semibold hover:bg-gray-200 border-bottom-1"},"View",8,co),o.reviewer_details[0].is_accepted==-1?(a(),i("button",{key:0,class:"!h-[33px] font-['poppins'] border-[1px] text-black fw-semibold hover:bg-gray-200 ho",onClick:y=>(e(s).createSelfKpiSidebar=!0,I.value=!1,Y.value=!1,K.value="Edit",e(s).getKPIFormDetails(o.kpi_form_details.form_id),e(s).record_id=o.kpi_form_details.form_id)},"Edit",8,po)):d("",!0),t("button",{class:"!h-[33px] font-['poppins'] border-[1px] text-black fw-semibold hover:bg-gray-200 ho",onClick:n[4]||(n[4]=y=>Ue())},"Withdraw")])],32)):d("",!0),e(F).pmsKpiFormAcceptance([o])?(a(),i("div",uo,[t("button",{class:"p-2 mx-4 bg-green-200 border-green-500 rounded-xl",onClick:y=>e(s).acceptRejectReviewForm({user_id:o.assignee_id,record_id:o.id,status:1,reviewer_comments:""})},vo,8,_o),t("button",{class:"p-2 bg-red-200 border-red-500 rounded-xl",onClick:y=>e(s).acceptRejectReviewForm({user_id:u.assignee_id,record_id:o.id,status:-1,reviewer_comments:""})},ho,8,fo)])):d("",!0)]),_:1}),_(R,{header:"Comments",style:{},class:"w-[50px]"},{body:D(({data:o})=>[t("div",null,c(o.reviewer_details[0].rejection_comments?o.reviewer_details[0].rejection_comments.length>20?o.reviewer_details[0].rejection_comments.substring(0,20)+".. ":o.reviewer_details[0].rejection_comments:""),1)]),_:1})]),_:1},8,["value","filters"])])):d("",!0),O.value==3?(a(),i("div",xo,[e(s).selfDashboardPublishedFormList?(a(),E(be,{key:0,scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],onRowSelect:Re,onRowUnselect:qe,selection:fe.value,"onUpdate:selection":n[6]||(n[6]=o=>fe.value=o),selectionMode:"single",metaKeySelection:pe.value,value:e(s).selfDashboardPublishedFormList?e(F).filterSelfAppraisalStatusWiseSource(e(s).selfDashboardPublishedFormList,1,1):[],class:"w-[100%]",filters:C.value},{default:D(()=>[_(R,{field:"assignee_name",header:"Employee"},{body:D(o=>[t("div",bo,[o.data.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",e(U).getBackgroundColor(o.index)]),style:{"vertical-align":"middle"}},c(o.data.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${o.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,wo)),t("span",yo,[t("span",ko,c(o.data.assignee_name.substring(0,14)+".."),1),t("span",$o,c(o.data.assignee_code),1)])])]),_:1}),_(R,{field:"manager_name",header:"Manager"},{body:D(o=>[t("div",Do,[t("span",Fo,c(o.data.manager_name),1),t("span",So,c(o.data.manager_code),1)])]),_:1}),_(R,{field:"assignment_period",header:"Assignment Period"}),_(R,{field:"score",header:"Score",style:{}}),_(R,{header:"Status"},{body:D(({data:o})=>[t("span",Co,c(o.status),1)]),_:1}),_(R,{header:"Action"},{body:D(({data:o})=>[t("div",Ko,[t("button",{onClick:y=>(e(s).createSelfKpiSidebar=!0,T.value=o,e(s).getSelfTimeLine(J.value,o.id),e(s).createKpiForm={...o.kpi_form_details},e(s).selected_header=o.form_header,e(s).canShowAssigneeReviewForm=!e(F).pmsKpiFormAcceptance([o]),S.value=o.id),class:"!text-[13px] !font-['poppins'] bg-[#F9BE00] rounded-md flex justify-center items-center h-[20px] w-[30px] text-black hover:bg-[#DAAA13]"},Bo,8,Vo)])]),_:1})]),_:1},8,["selection","metaKeySelection","value","filters"])):d("",!0)])):d("",!0),_($,{visible:I.value,"onUpdate:visible":n[20]||(n[20]=o=>I.value=o),position:"right",class:"!z-0",style:{width:"60vw !important"}},{default:D(()=>[To,t("i",{class:"pi pi-times top-4 right-4 absolute p-2 text-blue-200 cursor-pointer",onClick:n[7]||(n[7]=o=>I.value=!1)}),t("div",jo,[t("div",Eo,[t("div",No,[Io,A(" "+c(e(ge))+" ",1),_(L,{type:"text",modelValue:e(s).createNewGoals.calendar_type,"onUpdate:modelValue":n[8]||(n[8]=o=>e(s).createNewGoals.calendar_type=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue"])]),t("div",Ro,[Uo,_(L,{type:"text",modelValue:e(s).createNewGoals.year,"onUpdate:modelValue":n[9]||(n[9]=o=>e(s).createNewGoals.year=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue"])])]),t("div",Oo,[t("div",Po,[Go,A(" "+c(e(De))+" ",1),_(L,{type:"text",modelValue:e(s).createNewGoals.frequency,"onUpdate:modelValue":n[10]||(n[10]=o=>e(s).createNewGoals.frequency=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])]),t("div",Lo,[Mo,_(L,{type:"text",modelValue:e(s).createNewGoals.assignment_period,"onUpdate:modelValue":n[11]||(n[11]=o=>e(s).createNewGoals.assignment_period=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",Wo,[t("div",Ho,[zo,_(r,{options:e(s).departmentOptions,optionLabel:"name",optionValue:"id",modelValue:e(s).createNewGoals.department_id,"onUpdate:modelValue":n[12]||(n[12]=o=>e(s).createNewGoals.department_id=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["options","modelValue"])]),t("div",qo,[Yo,_(L,{type:"text",modelValue:e(s).createNewGoals.employee_name,"onUpdate:modelValue":n[13]||(n[13]=o=>e(s).createNewGoals.employee_name=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",Qo,[t("div",Xo,[Zo,_(L,{type:"text",modelValue:e(s).createNewGoals.manager_name,"onUpdate:modelValue":n[14]||(n[14]=o=>e(s).createNewGoals.manager_name=o),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",Jo,[ea,ta,t("div",sa,[oa,A(" "+c(e(s).department)+" ",1),_(r,{modelValue:e(s).createNewGoals.kpi_form_id,"onUpdate:modelValue":n[15]||(n[15]=o=>e(s).createNewGoals.kpi_form_id=o),options:e(s).existingKpiFormOptions,optionLabel:"form_name",optionValue:"id",placeholder:"Select KPI form",onClick:n[16]||(n[16]=o=>e(s).createNewGoals.kpi_form_id?e(s).getKPIFormDetails(e(s).createNewGoals.kpi_form_id):null),class:"h-10 mx-2 w-[250px]"},{value:D(o=>[o.option?(a(),i("div",aa)):d("",!0)]),option:D(o=>[t("div",la,[t("p",null,c(o.option.form_name),1),o.option.is_assigned==1?(a(),i("svg",ia,na)):d("",!0)])]),_:1},8,["modelValue","options"]),t("button",{onClick:n[17]||(n[17]=o=>e(s).createNewGoals.kpi_form_id?(e(s).createKpiForm.form_details.length,re.value=!1,e(s).createSelfKpiSidebar=!0,K.value="Edit",I.value=!1,Y.value=!0,e(s).getKPIFormDetails(e(s).createNewGoals.kpi_form_id),e(s).currentlySavedFormId=e(s).createNewGoals.kpi_form_id):Ye()),class:b(["h-[33px] w-[144px] rounded-[8px]",[e(s).createNewGoals.kpi_form_id?"bg-[#F9BE00]":" bg-[#DDDDDD] "]]),severity:"warning"},"View Form",2)])]),da,t("div",ca,[t("button",{class:"bg-[#001820] text-[#ffff] rounded-[8px] p-2 mx-4 w-[144px] h-[33px]",onClick:n[18]||(n[18]=o=>(re.value=!0,e(s).currentlySavedFormId="",e(s).createSelfKpiSidebar=!0,K.value="Creation",Y.value=!0,I.value=!1,e(s).canShowAssigneeReviewForm=!1,e(s).createKpiForm.form_name=null,e(s).createKpiForm.form_details=[],e(s).createKpiForm.form_name="OKR_FORM _"+J.value+"_"+e(U).current_user_name+"_"+e(s).createNewGoals.assignment_period.toUpperCase()))}," Create KPI Form "),t("button",{class:b(["text-[#000] rounded-[8px] w-[144px] !h-[33px]",[e(s).createNewGoals.kpi_form_id?"bg-[#F9BE00]":"bg-[#DDDD]"]]),onClick:n[19]||(n[19]=o=>e(s).createNewGoals.kpi_form_id?(e(s).publishForm(ae.value),I.value=!1,re.value=!1,e(s).createSelfKpiSidebar=!1,e(s).createNewGoals.kpi_form_id=""):e(F).toastmessage("error","Select KPI form"))}," Publish",2)])])]),_:1},8,["visible"]),_($,{visible:e(s).createSelfKpiSidebar,"onUpdate:visible":n[45]||(n[45]=o=>e(s).createSelfKpiSidebar=o),position:"right",class:"relative !z-0",style:{width:"80vw !important"}},{default:D(()=>[t("h2",pa," KPI / OKR Form "+c(K.value=="edit"||K.value=="Reject Edit option"?"Edit":K.value=="Reject Edit option"?"Creation":K.value=="Review"?"Self Review":"view"),1),t("i",{class:"pi pi-times top-4 right-4 absolute p-2 text-blue-200 cursor-pointer",onClick:n[21]||(n[21]=o=>ve.value=!0)}),t("div",ua,[G.value&&T.value&&!["Completed","Employee Self Reviewed"].includes(T.value.status)?(a(),i("div",_a,[ma,t("div",va,[t("div",fa,[t("input",{type:"file",accept:".xlsx",class:"w-[250px] form-control file",onChange:n[22]||(n[22]=o=>e(F).convertExcelIntoArray(o))},null,32),t("button",{onClick:n[23]||(n[23]=(...o)=>e(F).uploadconvertExcelIntoArray&&e(F).uploadconvertExcelIntoArray(...o)),class:b(["h-[33px] w-[108px] text-[#000] rounded-[8px] mx-[20px]",[e(F).excelupload?"bg-[#F9BE00]":"bg-[#DDDD] "]])},[ga,A(),ha],2)]),t("div",xa,[ba,t("button",{onClick:n[24]||(n[24]=o=>e(s).downloadSampleForm(J.value)),class:"bg-yellow-400 text-[#000] rounded-md py-2 px-2 h-[33px] w-[184px]"},[wa,A(),ya,A(" Sample File")])])])])):d("",!0),t("div",ka,[T.value&&(T.value.status=="Completed"||T.value.status=="Employee Self Reviewed")?(a(),i("button",{key:0,onClick:n[25]||(n[25]=o=>(e(s).btn_download=!e(s).btn_download,e(s).downloadFormPMSReport())),class:"bg-yellow-400 text-[#000] rounded-md py-2 px-2 h-[33px] w-[100px]"},[$a,A(),Da,A("Report")])):d("",!0)]),G.value?(a(),i("div",Fa,[Sa,Y.value?(a(),i("div",Ca,[Ka,_(L,{type:"text",modelValue:e(s).createKpiForm.form_name,"onUpdate:modelValue":n[26]||(n[26]=o=>e(s).createKpiForm.form_name=o),class:"h-10 mx-4 w-[60%]",placeholder:"Enter the Form Name"},null,8,["modelValue"])])):(a(),i("div",Va,[Aa,t("span",Ba,c(e(s).createKpiForm.form_name),1)])),Ta])):d("",!0),e(s).canShowAssigneeReviewForm?(a(),i("div",ja,[e(s).createKpiForm.form_details?(a(),i("div",Ea,[t("div",Na,[(a(!0),i(P,null,z(e(s).SelfTimeLine,(o,y)=>(a(),i("div",{class:b(["flex justify-center items-center border-[#000]",y==0?"":"w-full"])},[t("div",{class:b(["border-[1px] border-dashed border-[#82AB7B] w-[100%]",y==0?" border-[1px] border-dashed border-transparent":""])},null,2),t("div",Ia,[t("button",{class:b(["py-2 rounded-md font-[poppins] px-2 w-[160px] text-center whitespace-nowrap",[o.status==1||o.status==!0?"bg-[#82AB7B] text-[#ffff] ":o.status==0?"border-[1px] bg-[white] border-[rgb(130,171,123)] text-[#82AB7B]":" bg-[#E6E6E6] text-[#8B8B8B]"]])},c(o.title),3),t("div",Ra,[A(" EXP: "+c(o.expected_date)+" -",1),t("span",{class:b(["!text-[9px]",o.is_overdue===0?" text-[#82AB7B]":"text-[red]"])},c(o.actual_date),3)])])],2))),256))]),e(s).createKpiForm.form_details?(a(),i("div",Ua,[e(s).selected_header&&e(s).createKpiForm.form_details&&e(s).createKpiForm.form_details.length>0?(a(),i("div",Oa,[(a(!0),i(P,null,z(e(s).selected_header,(o,y)=>(a(),i("div",{class:b(["",[0,1].includes(y)?" col-span-3 flex items-center justify-center ":[2,4].includes(y)?"col-span-2 flex items-center justify-center flex-col ":" col-span-2 flex flex-col items-center justify-center"])},[t("h1",Pa,c(o?o.alias_name?o.alias_name:o.header_label?o.header_label:null:null),1),o&&o.header_name=="kpi_weightage"?(a(),i("p",Ga,[La,t("span",{class:b(["font-['poppins']",[ne.value>=100?" text-green-500":""]])},c(ne.value)+" %",3),Ma])):d("",!0)],2))),256))])):d("",!0)])):d("",!0),Se(e(s).createKpiForm.form_details)?(a(),E(j,{key:1,activeIndex:0},{default:D(()=>[(a(!0),i(P,null,z(Se(e(s).createKpiForm.form_details),(o,y)=>(a(),E(W,{class:"flex"},{header:D(()=>[t("div",Wa,[(a(!0),i(P,null,z(V(o,["id","record_id","assignee_review","reviews_review"]),(g,te)=>(a(),i("div",{class:b(["flex justify-center !line-clamp-4 h-[100%]",[0,1].includes(te)?"  col-span-3  mx-5":[2,4].includes(te)?" mx-[3rem] col-span-2   ":te==V(o,["id","record_id","assignee_review"]).length?"col-span-1":"col-span-1 "])},[ee(y)?d("",!0):(a(),i("div",{key:0,class:b(["text-[16px] text-[#000] font-['poppins'] max-w-xs my-2 flex justify-center items-center",Be.value==g.title?" ":""])},[xe(te,y,g.value)&&!ee(y)?(a(),i("p",Ha,[A(c(g.value)+" ",1),g.value.length>100&&xe(te,y,g.value)&&!ee(y)?(a(),i("button",{key:0,class:"text-blue-400 font-['poppins']",onClick:n[27]||(n[27]=H=>(he.value="",oe.value=""))},"less...")):d("",!0)])):We((a(),i("span",za,[A(c(g.value?g.value.length>80?g.value.substring(0,80)+".. ":g.value:"")+" ",1),g.title=="kpi_weightage"?(a(),i("span",qa,"%")):d("",!0),g.value.length>80&&!xe(te,y,g.value)&&!ee(y)?(a(),i("button",{key:1,onClick:H=>(he.value=te,oe.value=y),class:"text-blue-400 font-['poppins']"},"more...",8,Ya)):d("",!0)])),[[Xe,g.value]])],2)),["dimension","kra"].includes(g.title)&&ee(y)?(a(),E(x,{key:1,onInput:H=>$e(y,g.title,H.target.value),modelValue:g.value,"onUpdate:modelValue":H=>g.value=H,rows:"3",cols:["dimension"].includes(g.title)?30:20,class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue","cols"])):!["dimension","kra"].includes(g.title)&&ee(y)?(a(),E(L,{key:2,onInput:H=>$e(y,g.title,H.target.value),type:"text",modelValue:g.value,"onUpdate:modelValue":H=>g.value=H,class:"h-10 !bg-[#DDDDDD] !border-[rgb(246,246,246)] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue"])):d("",!0),Qa],2))),256))])]),default:D(()=>[t("div",Xa,[B(o,"assignee_review")?(a(),i("div",Za,[B(o,"assignee_review").value?(a(),i("div",Ja,[t("div",el,[t("div",tl,[t("h1",sl,[t("span",ol,c(B(o,"assignee_review").value.reviewer_level),1),A(" "+c(B(o,"assignee_review").value.assignee_name),1)]),t("h1",al,"("+c(B(o,"assignee_review").value.assignee_code)+") ",1)])]),t("div",ll,[A(c(T.value.is_assignee_submitted!=""?B(o,"assignee_review").value.kpi_review:"")+" ",1),t("p",il,c(T.value.is_assignee_submitted==""?"Achieved Target":""),1),!de(B(o,"target").value)&&T.value.is_assignee_submitted==""?(a(),E(L,{key:0,onFocusout:g=>(Oe(y,"kpi_review",g.target.value),e(s).fillAssigneeReviewForm(B(o,"assignee_review").value.id,S.value,B(o,"assignee_review").value.target,B(o,"target").value),e(Z)),type:"text",modelValue:B(o,"assignee_review").value.kpi_review,"onUpdate:modelValue":g=>B(o,"assignee_review").value.kpi_review=g,class:"h-10 w-24 absolute !top-[-6px] p-2 !border-[green] !bg-[#DDDDDD]"},null,8,["onFocusout","modelValue","onUpdate:modelValue"])):de(B(o,"target").value)&&T.value.is_assignee_submitted==""?(a(),E(L,{key:1,onFocusout:g=>(_e(y,"kpi_review",g.target.value),e(s).fillAssigneeReviewForm(B(o,"assignee_review").value.id,S.value,B(o,"assignee_review").value.target,B(o,"target").value,e(Z))),type:"text",modelValue:B(o,"assignee_review").value.kpi_review,"onUpdate:modelValue":g=>B(o,"assignee_review").value.kpi_review=g,class:"h-10 w-24 absolute top-[-6px] !bg-[#DDDDDD] !border-[#f8f8f8] p-2"},null,8,["onFocusout","modelValue","onUpdate:modelValue"])):d("",!0)]),t("div",rl,[t("p",nl,c(T.value.is_assignee_submitted==""?" Achieved KPI ":""),1),T.value.is_assignee_submitted==""?(a(),E(L,{key:0,onFocusout:g=>(Pe(y,"kpi_percentage",g.target.value),e(s).fillAssigneeReviewForm(B(o,"assignee_review").value.id,S.value,B(o,"assignee_review").value.target,B(o,"target").value,e(Z))),type:"text",modelValue:B(o,"assignee_review").value.kpi_percentage,"onUpdate:modelValue":g=>B(o,"assignee_review").value.kpi_percentage=g,class:"h-10 w-24 my-2 absolute top-[-6px] !bg-[#DDDDDD] p-2"},null,8,["onFocusout","modelValue","onUpdate:modelValue"])):(a(),i("h1",dl,c(B(o,"assignee_review").value.kpi_percentage==null?"":B(o,"assignee_review").value.kpi_percentage),1))]),t("div",cl,[T.value.is_assignee_submitted==""?(a(),E(x,{key:0,modelValue:B(o,"assignee_review").value.kpi_comments,"onUpdate:modelValue":g=>B(o,"assignee_review").value.kpi_comments=g,rows:"2",cols:"12",class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["modelValue","onUpdate:modelValue"])):(a(),i("h1",pl,c(B(o,"assignee_review").value.kpi_comments?B(o,"assignee_review").value.kpi_comments.length>20?B(o,"assignee_review").value.kpi_comments.substring(0,20)+"..":B(o,"assignee_review").value.kpi_comments:""),1))])])):d("",!0),B(o,"reviews_review")?(a(),i("div",ul,[B(o,"reviews_review").value?(a(!0),i(P,{key:0},z(B(o,"reviews_review").value,(g,te)=>(a(),i("div",_l,[t("div",ml,[t("h1",vl,[t("span",fl,c(g.reviewer_level),1),A(" "+c(g.reviewer_name),1)]),t("h1",gl,c(g.reviewer_code),1)]),t("div",hl,c(g.kpi_review?g.kpi_review:"-"),1),t("div",xl,c(g.kpi_percentage),1),t("div",bl,c(g.kpi_comments),1)]))),256)):d("",!0)])):d("",!0)])):d("",!0)])]),_:2},1024))),256))]),_:1})):d("",!0),T.value.is_assignee_submitted!=1?(a(),i("div",wl,[t("button",{class:"border-[1px] border-[#000] font-['poppins'] mx-2 rounded-md p-2",onClick:n[28]||(n[28]=o=>(e(s).createSelfKpiSidebar=!1,e(s).canShowAssigneeReviewForm=!1))},"Cancel"),ye.value=="save"?(a(),i("button",{key:0,class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:n[29]||(n[29]=o=>(e(s).saveAssigneeReviewForm(e(s).createKpiForm.form_details,null,S.value),ye.value="Submit"))},"Save ")):d("",!0),ye.value=="Submit"?(a(),i("button",{key:1,class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:n[30]||(n[30]=o=>(e(s).saveAssigneeReviewForm(e(s).createKpiForm.form_details,1,S.value),ye.value="save"))},"Submit")):d("",!0)])):d("",!0),T.value.is_reviewer_submitted==""&&T.value.is_assignee_submitted==1?(a(),i("div",yl,[t("button",{class:"border-[1px] border-[#000] font-['poppins'] mx-2 rounded-md p-2",onClick:n[31]||(n[31]=o=>(e(s).createSelfKpiSidebar=!1,e(s).canShowAssigneeReviewForm=!1))},"Cancel"),t("button",{class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:n[32]||(n[32]=o=>e(s).TeamAppraisalRevoke(S.value,"self_review"))},"Revoke ")])):d("",!0)])):d("",!0)])):(a(),i("div",kl,[e(s).createKpiForm.form_details?(a(),i("div",$l,[e(s).selected_header&&e(s).createKpiForm.form_details&&e(s).createKpiForm.form_details.length>0?(a(),i("div",Dl,[(a(!0),i(P,null,z(e(s).selected_header,(o,y)=>(a(),i("div",{class:b(["",[0,1].includes(y)?" col-span-3 flex items-center h-[40px] justify-center ":[2,4].includes(y)?"col-span-2 flex items-center justify-center h-[40px] flex-col ":" col-span-2 flex flex-col items-center h-[40px] justify-center "])},[t("h1",Fl,c(o?o.alias_name?o.alias_name:o.header_label?o.header_label:null:null),1),o&&o.header_name=="kpi_weightage"?(a(),i("span",{key:0,class:b(["text-center font-semibold text-[10px] relative w-[200px] mt-[6px]",o&&o.header_name=="kpi_weightage"&&le.value>100?" text-red-500":null])},[A(" ( OverAll - "+c(e(k))+" %) ",1),Sl],2)):d("",!0)],2))),256))])):d("",!0),(a(!0),i(P,null,z(Se(e(s).createKpiForm.form_details),(o,y)=>(a(),i("div",{class:"rounded-lg bg-[#FFF7EB] grid grid-cols-12 gap-4 py-3 px-4 my-2",onMouseleave:n[34]||(n[34]=g=>ke.value="sd")},[(a(!0),i(P,null,z(V(o,["id","record_id"]),(g,te)=>(a(),i("div",{class:b(["flex justify-center !line-clamp-4",[0,1].includes(te)?"  col-span-3 ":[2,4].includes(te)||te==V(o,["id","record_id"]).length?"col-span-2":"col-span-1"])},[ee(y)?d("",!0):(a(),i("div",{key:0,class:b(["text-[16px] text-[#000] font-['poppins'] max-w-xs my-2 flex justify-center items-center",Be.value==g.title?" ":""])},[xe(te,y,g.value)&&!ee(y)?(a(),i("p",Cl,[A(c(g.value)+" ",1),g.value.length>100&&xe(te,y,g.value)&&!ee(y)?(a(),i("button",{key:0,class:"text-blue-400 font-['poppins']",onClick:n[33]||(n[33]=H=>(he.value="",oe.value=""))},"less...")):d("",!0)])):We((a(),i("span",Kl,[A(c(g.value?g.value.length>100?g.value.substring(0,100)+".. ":g.value:"")+" ",1),g.title=="kpi_weightage"?(a(),i("span",Vl,"%")):d("",!0),g.value&&g.value.length>200?(a(),i("button",{key:1,onClick:H=>(he.value=te,oe.value=y),class:"text-blue-400 font-['poppins']"},"more...",8,Al)):d("",!0)])),[[Xe,g.value]])],2)),["dimension","kra"].includes(g.title)&&ee(y)?(a(),E(x,{key:1,onInput:H=>$e(y,g.title,H.target.value),modelValue:g.value,"onUpdate:modelValue":H=>g.value=H,rows:"3",cols:["dimension"].includes(g.title)?30:20,class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue","cols"])):!["dimension","kra"].includes(g.title)&&ee(y)?(a(),E(L,{key:2,onInput:H=>$e(y,g.title,H.target.value),type:"text",modelValue:g.value,"onUpdate:modelValue":H=>g.value=H,class:"h-10 !bg-[#DDDDDD] !border-[rgb(246,246,246)] w-[100px] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue"])):d("",!0),Bl],2))),256)),K.value=="Creation"||K.value=="Edit"||K.value=="Reject Edit option"?(a(),i("div",Tl,[ee(y)?d("",!0):(a(),i("i",{key:0,class:"pi pi-file-edit mx-2 cursor-pointer",onClick:g=>(q.value=y,v.value="save")},null,8,jl)),ee(y)?(a(),i("i",{key:1,class:"pi pi-check mx-2 cursor-pointer",onClick:g=>(e(s).createKpiForm.form_details[y],q.value=null,v.value="save")},null,8,El)):d("",!0),t("i",{class:"pi pi-trash text-[red] mx-2 cursor-pointer",onClick:g=>X(e(s).createKpiForm.form_details,y)},null,8,Nl)])):d("",!0)],32))),256))])):d("",!0),t("div",null,[(e(s).selected_header&&K.value=="Creation",!re.value?d("",!0):(a(),i("div",Il,[(a(!0),i(P,null,z(e(s).selected_header,(o,y)=>(a(),i("div",{class:"flex flex-col",key:y},[t("label",Rl,c(o.alias_name?o.alias_name:["KPI - Weightage %"].includes(o.header_label)?"KPI / OKR - Weightage % ":o.header_label),1),["kpi_weightage"].includes(o.header_name)?(a(),E(L,{key:0,type:"text",modelValue:e(s).addKra[o.header_name],"onUpdate:modelValue":g=>e(s).addKra[o.header_name]=g,class:b(["h-10 !bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2",[e(me)[o.header_name].$error?"p-invalid":"!border-[rgb(246,246,246)] "]]),onKeypress:n[35]||(n[35]=g=>Ge(g)),onInput:()=>{e(s).addKra[o.header_name]>100?e(s).addKra[o.header_name]=null:e(s).addKra[o.header_name]<1&&(e(s).addKra[o.header_name]=null)}},null,8,["modelValue","onUpdate:modelValue","onInput","class"])):["dimension","kra"].includes(o.header_name)?(a(),E(x,{key:1,modelValue:e(s).addKra[o.header_name],"onUpdate:modelValue":g=>e(s).addKra[o.header_name]=g,rows:"3",cols:"30",class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["modelValue","onUpdate:modelValue"])):(a(),E(L,{key:2,type:"text",modelValue:e(s).addKra[o.header_name],"onUpdate:modelValue":g=>e(s).addKra[o.header_name]=g,class:b(["h-10 !bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2",[e(me)[o.header_name].$error?"p-invalid":"!border-[rgb(246,246,246)]"]])},null,8,["modelValue","onUpdate:modelValue","class"])),e(me)[o.header_name].$error?(a(),i("span",Ul,c(e(me)[o.header_name].required.$message.replace("Value",o.alias_name?o.alias_name:o.header_label)),1)):d("",!0),Ol]))),128)),t("div",Pl,[t("button",{class:"bg-[#F9BE00] text-[#000] py-2 px-4 h-[33px] rounded-md",onClick:n[36]||(n[36]=o=>(je(u.arr),v.value="save"))},Ll),e(s).createKpiForm.form_details.length>0?(a(),i("button",{key:0,onClick:n[37]||(n[37]=o=>ue.value=!0),class:"mx-2 bg-[#000] text-[white] py-2 px-4 h-[33px] rounded-md"},Wl)):d("",!0)])])))]),K.value=="Creation"||K.value=="View"||K.value=="Edit"||K.value=="Reject Edit option"?(a(),i("div",Hl,[t("button",{class:"border-[1px] border-[#000] p-3 box-border text-[13px] rounded-md text-[#000] !w-[120px] h-[33px] font-semibold flex justify-center items-center",onClick:n[38]||(n[38]=o=>re.value=!0)},Yl),v.value=="save"||e(s).errormessage=="failure"||K.value=="Reject Edit option"?(a(),i("button",{key:0,onClick:n[39]||(n[39]=o=>e(s).createKpiForm.form_name?le.value==100?(p(e(s).createKpiForm.form_details),v.value="publish"):e(F).toastmessage("error","The combined weightage of KPIs or OKRs must equal to 100%"):e(F).toastmessage("error","Form Name field is required.")),class:b(["text-[#000] py-2 px-4 rounded-md mx-2",[e(s).createKpiForm.form_details.length>0&&le.value==100?"bg-[#F9BE00]":"bg-[#dddd]"]])},"Save",2)):d("",!0),v.value=="publish"&&e(s).errormessage!="failure"?(a(),i("button",{key:1,class:b(["rounded-[8px] w-[144px] !h-[33px] mx-2",[e(s).currentlySavedFormId?"bg-[#000] text-[#ffff]":"bg-[#DDDD] text-[#000]"]]),onClick:n[40]||(n[40]=o=>e(s).currentlySavedFormId?e(s).createNewGoals?K.value=="Reject Edit option"?(e(s).EditedpublishForm(ae.value),I.value=!1,e(s).createSelfKpiSidebar=!1):(e(s).publishForm(ae.value),I.value=!1,e(s).createSelfKpiSidebar=!1):"":e(F).toastmessage("error","Save the form to Publish"))}," Publish",2)):d("",!0)])):d("",!0),T.value&&e(F).pmsKpiFormAcceptance([T.value])?(a(),i("div",Ql,[t("button",{class:"bg-[#F9BE00] text-[#000] py-2 px-4 rounded-md mx-2",onClick:n[41]||(n[41]=o=>(I.value=!1,e(s).acceptRejectReviewForm({user_id:T.value.assignee_id,record_id:T.value.id,status:1,reviewer_comments:""})))},"Accept"),t("button",{class:"text-[#fff] py-2 px-4 rounded-md mx-2 bg-black",onClick:n[42]||(n[42]=o=>(I.value=!1,e(s).acceptRejectReviewForm({user_id:T.value.assignee_id,record_id:T.value.id,status:-1,reviewer_comments:""})))},"Reject")])):d("",!0),se.value?(a(),i("div",Xl,[se.value[0]&&(se.value[0].review_order==1&&se.value[0].is_accepted==0||se.value[0].is_accepted==-1)?(a(),i("button",Zl)):d("",!0),se.value[0]&&(se.value[0].review_order==1&&se.value[0].is_accepted==0||se.value[0].is_accepted==-1)?(a(),i("button",{key:1,class:"!h-[33px] font-['poppins'] border-[1px] px-2 bg-[#F9BE00] rounded-md",onClick:n[43]||(n[43]=o=>Ue())},"Withdraw")):d("",!0),se.value[0].is_accepted==-1?(a(),i("button",{key:2,class:"!h-[33px] font-['poppins'] border-[1px] bg-[#000] px-4 text-[#ffff] rounded-md mx-2",onClick:n[44]||(n[44]=o=>(Y.value=!1,K.value="Reject Edit option",e(s).getKPIFormDetails(T.value.kpi_form_details.form_id),e(s).currentlySavedFormId=T.value.kpi_form_details.form_id))},"Edit")):d("",!0)])):d("",!0)]))])]),_:1},8,["visible"]),_(Me,{visible:ie.value,"onUpdate:visible":n[49]||(n[49]=o=>ie.value=o),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full !z-[10000]"},{default:D(()=>[t("div",Jl,[t("div",ei,[t("i",{type:"button",onClick:n[46]||(n[46]=o=>ie.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",ti,[si,oi,t("div",ai,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:n[47]||(n[47]=o=>(Qe(),se.value="",I.value=!1,e(s).createSelfKpiSidebar=!1,G.value=!0))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:n[48]||(n[48]=o=>ie.value=!1)},"Cancel")])])])]),_:1},8,["visible"]),_(Me,{visible:ue.value,"onUpdate:visible":n[53]||(n[53]=o=>ue.value=o),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full !z-[10000]"},{default:D(()=>[t("div",li,[t("div",ii,[t("i",{type:"button",onClick:n[50]||(n[50]=o=>ue.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",ri,[ni,di,t("div",ci,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:n[51]||(n[51]=o=>(re.value=!1,ue.value=!1))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:n[52]||(n[52]=o=>ue.value=!1)},"Cancel")])])])]),_:1},8,["visible"]),_(Me,{visible:ve.value,"onUpdate:visible":n[57]||(n[57]=o=>ve.value=o),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full !z-[10000]"},{default:D(()=>[t("div",pi,[t("div",ui,[t("i",{type:"button",onClick:n[54]||(n[54]=o=>ve.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",_i,[mi,vi,t("div",fi,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:n[55]||(n[55]=o=>(e(s).createSelfKpiSidebar=!1,I.value=!1,ve.value=!1))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:n[56]||(n[56]=o=>ve.value=!1)},"Cancel")])])])]),_:1},8,["visible"])])],64)}}};const hi={class:"grid grid-cols-5 gap-4 px-4 mt-[20px]"},xi={class:"!shadow-xl border-[1px] flex rounded-lg justify-start items-center h-[80px]"},bi=t("img",{src:ut,class:"w-[60px]",alt:""},null,-1),wi={class:"flex flex-col"},yi=t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Goals Initiated",-1),ki={class:"text-[14px] font-['poppins']"},$i={class:"!shadow-xl border-[1px] flex rounded-lg justify-start items-center h-[80px]"},Di=t("div",null,[t("img",{src:_t,class:"w-[60px]",alt:""})],-1),Fi={class:"flex flex-col"},Si=t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Approvals",-1),Ci={class:"text-[14px] font-['poppins']"},Ki={class:"flex !shadow-xl border-[1px] rounded-lg justify-start items-center h-[80px]"},Vi=t("img",{src:st,class:"w-[60px]",alt:""},null,-1),Ai={class:"flex flex-col"},Bi=t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Self-Review",-1),Ti={class:"text-[14px] font-['poppins']"},ji={class:"flex !shadow-xl border-[1px] rounded-lg justify-start items-center h-[80px]"},Ei=t("img",{src:st,class:"w-[60px]",alt:""},null,-1),Ni={class:"flex flex-col"},Ii=t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Manager-Reivew",-1),Ri={class:"text-[14px] font-['poppins']"},Ui={class:"flex !shadow-xl border-[1px] rounded-lg justify-start items-center h-[80px]"},Oi=t("img",{src:mt,class:"w-[60px]",alt:""},null,-1),Pi={class:"flex flex-col"},Gi=t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Final Score",-1),Li={class:"text-[14px] font-['poppins']"},Mi={class:"flex justify-between mt-5"},Wi={class:"divide-x nav nav-pills divide-solid nav-tabs-dashed mb-3 border-b-[3px] border-gray-300",id:"pills-tab",role:"tablist"},Hi={class:"",role:"presentation"},zi={class:"relative left-[60px] top-[-25px] flex h-3 w-3 !z-10"},qi=t("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-500"},null,-1),Yi={key:0,class:"relative h-1 rounded-l-3xl top-1",style:{border:"2px solid #F9BE00 !important"}},Qi={class:"nav-item",role:"presentation"},Xi={key:0,class:"relative h-1 rounded-l-3xl top-2",style:{border:"2px solid #F9BE00 !important"}},Zi={class:"border-0 nav-item position-relative",role:"presentation"},Ji={key:0,class:"h-1 relative top-2 bottom-[1px] left-0 w-[100%]",style:{border:"2px solid #F9BE00 !important"}},er={class:"flex justify-between"},tr=t("i",{class:"mr-2 pi pi-plus"},null,-1),sr={key:0,class:"h-[400px] overflow-scroll"},or={class:"flex justify-center items-center gap-2"},ar=["src"],lr={class:"flex flex-col justify-start items-start"},ir={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},rr={class:"font-['poppins'] text-[#535353] text-[12px]"},nr={class:"flex flex-col justify-start items-start"},dr={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},cr={class:"font-['poppins'] text-[#535353] text-[12px]"},pr={class:"cursor-pointer"},ur=["onClick"],_r={key:1,class:""},mr={class:"flex justify-center items-center gap-2"},vr=["src"],fr={class:"flex flex-col justify-start items-start"},gr={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},hr={class:"font-['poppins'] text-[#535353] text-[12px]"},xr={class:"flex flex-col justify-start items-start"},br={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},wr={class:"font-['poppins'] text-[#535353] text-[12px]"},yr={class:"cursor-pointer"},kr=["onClick"],$r=["onClick"],Dr={key:2,class:""},Fr={class:"flex justify-center items-center gap-2"},Sr=["src"],Cr={class:"flex flex-col justify-start items-start"},Kr={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Vr={class:"font-['poppins'] text-[#535353] text-[12px]"},Ar={class:"flex flex-col justify-start items-start"},Br={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Tr={class:"font-['poppins'] text-[#535353] text-[12px]"},jr=["onClick"],Er=t("h2",{class:"text-[#ffff] text-[16px] font-semibold absolute top-0 p-4 z-1 left-0 bg-[#000] w-[100%]"}," Team new Goals Assign",-1),Nr={class:"p-2"},Ir={class:"grid grid-cols-2 gap-4 mt-2"},Rr={class:"flex flex-col"},Ur=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Calendar Type",-1),Or={class:"flex flex-col"},Pr=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Year",-1),Gr={class:"grid grid-cols-2 gap-4 mt-2"},Lr={class:"flex flex-col"},Mr=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Frequency",-1),Wr={class:"flex flex-col"},Hr=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Assignment Period",-1),zr={class:"grid grid-cols-2 gap-4 mt-2"},qr={class:"flex flex-col"},Yr=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Department",-1),Qr={class:"flex flex-col"},Xr=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Employee",-1),Zr={class:"flex align-items-center justify-between w-[100%]"},Jr={key:0,class:"inline-flex items-center px-3 py-1 font-['poppins'] text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},en={class:"grid grid-cols-1 gap-4 mt-2"},tn={class:"flex flex-col"},sn=t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Reviewer",-1),on={class:"w-[100%]"},an=t("hr",{class:"border-[1px] my-4"},null,-1),ln=t("h1",{class:"text-[#000] font-semibold text-[16px]"},"Goals/ Areas of Development",-1),rn={class:"flex items-center justify-between"},nn=t("p",{class:"text-[12px] text-[#757575] w-[240px]"},"Select Existing Form from the Drop Down",-1),dn=t("div",{class:"flex justify-center h-[200px] my-4"},[t("img",{src:tt,alt:"",class:""})],-1),cn={class:"flex items-center justify-center left-[25%]"},pn={class:"flex justify-between text-[#ffff] text-[16px] font-semibold absolute top-0 p-4 left-0 bg-[#000] w-[100%]"},un={class:"w-[100%] p-2"},_n={class:"my-[3rem]"},mn={key:0,class:"flex justify-between items-center"},vn={class:"flex flex-col relative"},fn={class:"!text-[9px] absolute left-0 w-[200px] top-[34px] flex justify-start text-gray-500 font-['poppins']"},gn={class:"text-[red] !text-[9px]"},hn={key:0,class:"flex flex-col"},xn=t("h1",{class:"text-[#000] font-semibold text-[16px] my-2"},"Goals/ Areas of Development",-1),bn={class:"flex items-center justify-between"},wn={class:"flex item-center"},yn=t("button",{class:"bg-[#F9BE00] h-[33px] w-[144px] text-[#000] rounded-[8px] mx-[20px]"},[t("i",{class:"pi pi-upload"}),A(" Upload")],-1),kn={class:"flex items-center justify-center"},$n=t("p",{class:"text-[#000] mx-2 text-end font-['poppins']"},"Download the",-1),Dn=t("i",{class:"pi pi-download"},null,-1),Fn={key:1},Sn=t("div",{class:"my-3"},[t("hr",{class:"border-[1px] w-[100%]"})],-1),Cn={key:0,class:"flex items-center my-2"},Kn=t("h1",{class:"font-semibold flex items-center"},[A(" Enter the Form Name "),t("span",{class:"text-[red] text-[20px]"},"*")],-1),Vn={key:1,class:"flex items-center my-2"},An=t("h1",{class:"flex items-center font-['poppins']"},"Form Name :",-1),Bn={class:"font-semibold mx-2 font-['poppins']"},Tn=t("div",{class:"p-2 mb-[12px]"},[t("hr",{class:"border-[1px] w-[100%]"})],-1),jn={key:2,class:""},En={key:0,class:"my-3"},Nn={key:0},In={key:0,class:"grid grid-cols-12 gap-4 py-3 px-4 bg-[#DDDD] rounded-md mb-[10px] mt-[30px]"},Rn={class:"text-lg font-semibold"},Un={key:0,class:"text-center font-semibold"},On=t("span",{class:"text-gray-400 font-['poppins']"},"Overall -",-1),Pn=t("div",{class:""},[t("h1",{class:"text-lg font-semibold"}," Comments ")],-1),Gn={class:"accordion"};const Ln={class:"grid grid-cols-12 gap-2"},Mn={key:0,class:"!break-all"},Wn={key:1,class:"font-['poppins'] !line-clamp-1 !break-all"},Hn={key:0,class:"mx-1"},zn=["onClick"],qn=t("div",null,null,-1),Yn={key:0,class:"!h-[300px] borde-[5px] border-[#000]"},Qn={key:0,class:"grid grid-cols-12 items-center font-['poppins']"},Xn={class:"flex justify-center col-span-6"},Zn={class:"flex items-center justify-center"},Jn={class:"text-[#000] mx-2"},ed={class:"mx-2 text-[#8B8B8B]"},td={class:"text-[#000] mx-2"},sd={class:"col-span-2 flex flex-col relative"},od={class:"absolute top-[10px] text-[#8b8b8b] font-['poppins']"},ad={class:"col-span-2 relative my-2"},ld={class:"absolute top-[10px] text-[#8b8b8b] font-['poppins']"},id={class:"text-[12px] text-[#000] my-2"},rd={class:"col-span-2"},nd={key:1,class:""},dd={class:"grid grid-cols-12 items-center"},cd={class:"flex justify-center col-span-6 font-['poppins']"},pd={class:"col-span-2 flex flex-col font-['poppins']"},ud={class:"col-span-2 font-['poppins']"},_d={class:"col-span-2 font-['poppins']"},md={key:1,class:"flex justify-center items-center my-4"},vd={key:3},fd={key:0},gd={key:0,class:"grid grid-cols-12 gap-4 py-3 px-4 my-2 bg-[#DDDD] rounded-md"},hd={key:0,class:"text-lg font-semibold text-center"},xd=t("div",null,null,-1),bd={key:0,class:"!break-all"},wd={key:1,class:"font-['poppins'] !line-clamp-1 !break-all"},yd={key:0,class:"mx-1"},kd=["onClick"],$d=t("div",null,null,-1),Dd={key:0,class:"flex justify-center items-center col-span-2 absolute right-10 top-10"},Fd=["onClick"],Sd=["onClick"],Cd=["onClick"],Kd={key:1,class:"grid grid-cols-2 gap-2 mt-2"},Vd={for:"",class:"text-[12px] text-[#757575] my-2"},Ad={key:3,class:"font-semibold text-red-400 fs-6"},Bd=t("div",null,null,-1),Td={class:"flex justify-start items-center relative top-[14px]"},jd=t("i",{class:"pi pi-check"},null,-1),Ed=[jd],Nd=t("i",{class:"pi pi-times"},null,-1),Id=[Nd],Rd={key:2,class:"flex justify-center my-[40px]"},Ud=t("i",{class:"pi pi-plus",style:{"font-size":"1rem"}},null,-1),Od=t("p",null,"Add more",-1),Pd=[Ud,Od],Gd={__name:"organizationAppraisal",setup(Ae){const l=Ke(),C=ze(),K=Ve(),w=Ze();h();const v=h("Creation"),U=h("");h(!1);const s=h(!1);h({global:{value:null,matchMode:Je.CONTAINS}});const F=h(1);h(!1);const S=h(!1),O=h(),G=h(),I=h(),J=h(),we=h(!1);h(!1);const ae=h(0);h(0),h(!1);const q=h(),Y=h(!1),le=h();h();const ne=h(),ie=h(),T=h();h();const re=h(!0);h(),h();const se=h(!1),he=h(!1),oe=h(!0),Be=h(""),ue=h(null);function ve(m,p){q.value=p}function ye(m){ue.value=ue.value===m?null:m}const fe=(m,p,k)=>{if(T.value==p&&ie.value===m&&k.length>5)return!0};Ce(async()=>{l.orgAppraisalFlow();let m;await K.getCurrentUserCode().then(k=>{m=k.data,I.value=k.data});const p=1;await l.getTeamAppraisalDashboardDetails(m),await l.getPmsConfiguration(p,m),await l.getKPIFormAsDropdown(m),await l.getDashboardCardDetails_TeamAppraisal(m,1)});const pe=h(!1),Re=(m,p)=>{const k=p;k>=0&&k<m.length&&(m.splice(k,1),ge(m))},qe=m=>!/\d/.test(m),ke=(m,p,k)=>{l.createKpiForm.form_details[m]?l.createKpiForm.form_details[m][p]=k:console.log("Index out of range or form_details is not an array.")},Ye=(m,p,k,V)=>{l.createKpiForm.form_details[m].reviews_review?(l.createKpiForm.form_details[m].reviews_review[p][k]=V,l.createKpiForm.form_details[m].reviews_review[p].kpi_percentage=parseInt(l.createKpiForm.form_details[m].reviews_review[p].kpi_review)/parseInt(l.createKpiForm.form_details[m].assignee_review.kpi_review)*parseInt(l.createKpiForm.form_details[m].assignee_review.kpi_percentage),/\d/.test(l.createKpiForm.form_details[m].reviews_review[p].kpi_review)&&(l.createKpiForm.form_details[m].assignee_review.kpi_weightage=C.calculateKpiWeightage(l.createKpiForm.form_details[m].target,V))):console.log("Index out of range or form_details is not an array.")},Ue=(m,p,k,V)=>{l.createKpiForm.form_details[m].reviews_review?(l.createKpiForm.form_details[m].reviews_review[p][k]=V,l.createKpiForm.form_details[m].assignee_review.kpi_review.toUpperCase()===l.createKpiForm.form_details[m].reviews_review[p].kpi_review.toUpperCase()?l.createKpiForm.form_details[m].reviews_review[p].kpi_percentage=l.createKpiForm.form_details[m].assignee_review.kpi_percentage:l.createKpiForm.form_details[m].reviews_review[p].kpi_percentage=0):console.log("Index out of range or form_details is not an array.")},Qe=(m,p,k)=>{l.createKpiForm.form_details[m].assignee_review&&(l.createKpiForm.form_details[m].assignee_review[p]=k,l.createKpiForm.form_details[m].assignee_review.kpi_weightage=C.calculateKpiWeightage(l.createKpiForm.form_details[m].target,k))},Q=m=>J.value===m,Fe=m=>{if(m)return m.map(k=>Object.entries(k).map(([V,de])=>({title:V,value:de})))},X=(m,p)=>{if(m)return m.find(k=>k.title===p)},$e=m=>{if(m){let p=String.fromCharCode(m.keyCode);if(/^[0-9]+$/.test(p))return!0;m.preventDefault()}},Oe=ce(()=>{const m={};for(const p of l.selected_header?l.selected_header:[])m[p.header_name]={required:ot};return m}),_e=He(Oe,l.addKra),Pe=()=>{if(_e.value.$validate(),_e.value.$error)console.log("Form failed validation");else{const m=me(l.selected_header);Te(m,l.addKra)?w.add({severity:"warn",summary:"Validation",detail:"Fill missing fields",life:3e3}):(Y.value=!1,l.addFormDetails(l.addKra),ge(l.createKpiForm.form_details),l.addKra={},_e.value.$reset())}};function ee(m){if(m)return m.split("_").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" ")}const Se=ce(()=>{l.createNewTeamGoals.calendar_type=ee(l.createNewTeamGoals.calendar_type)}),B=ce(()=>{l.createNewTeamGoals.frequency=Ge(l.createNewTeamGoals.frequency)});function Ge(m){if(m)return m.charAt(0).toUpperCase()+m.slice(1)}h([]);const Te=(m,p)=>{const k=Object.keys(m),V=Object.keys(p),de=V.filter(u=>!k.includes(u)),Z=k.filter(u=>!V.includes(u));if(de.length>0||Z.length>0)return!0},me=m=>{const p={};return m.forEach(k=>{const{header_name:V}=k;p[V]=null}),p};let je=0;const xe=m=>{let p=0;if(console.log("totalKPICount"+je),je++,m.forEach(k=>{/\d/.test(k.kpi_weightage)&&(ae.value=parseInt(k.kpi_weightage)),console.log("The value is not a number."),k.kpi_weightage!==void 0&&!isNaN(parseInt(k.kpi_weightage))&&(p+=parseInt(k.kpi_weightage),ae.value=p,console.log(ae.value))}),p>100)w.add({severity:"error",summary:"Validation",detail:"The combined weightage of KPIs or OKRs must equal to 100% ",life:3e3});else if(p<100)w.add({severity:"error",summary:"Validation",detail:"The combined weightage of KPIs or OKRs must equal to 100%",life:3e3});else if(p==100){let k=I;l.saveKpiForm(k,v.value==="view"||v.value==="Reject Edit option"?l.currentlySavedFormId=q.value.kpi_form_details.form_id:"")}};let Ee=0;const ge=ce(()=>{console.log("totalKPIReviewCount"+Ee);let m=l.createKpiForm.form_details;Ee++;let p=0;return m.forEach(k=>{k.kpi_weightage!==void 0&&!isNaN(parseInt(k.kpi_weightage))&&(p+=parseInt(k.kpi_weightage),ae.value=p)}),console.log(p),p}),De=(m,p)=>m.filter(V=>!p.includes(V.title)),Le=()=>ne.value=C.filterDepartmentWiseEmployee(l.EmployeeOptions,l.createNewTeamGoals.department_id),Ne=ce(()=>{let m=0;return l.createKpiForm.form_details.forEach(k=>{(/\d/.test(k.assignee_review.kpi_percentage)||k.assignee_review.kpi_percentage!==void 0&&!isNaN(parseInt(k.assignee_review.kpi_percentage)))&&(m+=parseInt(k.assignee_review.kpi_percentage),ae.value=m)}),m});return(m,p)=>{const k=N("Toast"),V=N("Column"),de=N("DataTable"),Z=N("InputText"),u=N("MultiSelect"),n=N("Dropdown"),f=N("Sidebar"),M=N("Textarea"),R=N("AccordionTab"),be=N("Accordion"),L=et("tooltip");return a(),i(P,null,[e(l).canShowLoading?(a(),E(Ie,{key:0,class:"absolute z-50 bg-white"})):d("",!0),t("div",null,[_(k),t("div",hi,[t("div",xi,[bi,t("div",wi,[yi,t("span",ki,c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[0].total_count:"-")+" / "+c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[0].actual_count:"-"),1)])]),t("div",$i,[Di,t("div",Fi,[Si,t("span",Ci,c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[1].total_count:"-")+" / "+c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[1].actual_count:"-"),1)])]),t("div",Ki,[Vi,t("div",Ai,[Bi,t("span",Ti,c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[2].total_count:"-")+" / "+c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[2].actual_count:"-"),1)])]),t("div",ji,[Ei,t("div",Ni,[Ii,t("span",Ri,c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[3].total_count:"-")+" / "+c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[3].actual_count:"-"),1)])]),t("div",Ui,[Oi,t("div",Pi,[Gi,t("span",Li,c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[3].total_count:"-")+" / "+c(e(l).DashboardCardDetails_TeamAppraisal?e(l).DashboardCardDetails_TeamAppraisal[3].actual_count:"-"),1)])])]),t("div",Mi,[t("ul",Wi,[t("li",Hi,[t("a",{class:b(["px-3 position-relatie border-0 font-['poppins'] text-[12px] text-[#001820]",[F.value===1?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:p[0]||(p[0]=r=>F.value=1)},[A(" Pending "),t("span",zi,[t("span",{class:b([e(l).orgAppraisalDatatableDetails&&e(C).filterOrgPendingStatusSource(e(l).orgAppraisalDatatableDetails,1,"","")?"":"hidden","animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"])},null,2),qi])],2),F.value===1?(a(),i("div",Yi)):d("",!0)]),t("li",Qi,[t("a",{class:b(["px-2 position-relati3e border-0 font-['poppins'] text-[12px] text-[#001820]",[F.value===2?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:p[1]||(p[1]=r=>F.value=2)}," CURRENT ",2),F.value===2?(a(),i("div",Xi)):d("",!0)]),t("li",Zi,[t("a",{class:b(["text-center px-3 border-0 font-['poppins'] text-[12px] text-[#001820]",[F.value===3?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:p[2]||(p[2]=r=>F.value=3),role:"tab","aria-controls":"","aria-selected":"true"}," COMPLETED ",2),F.value===3?(a(),i("div",Ji)):d("",!0)])]),t("div",er,[F.value==2?(a(),i("button",{key:0,onClick:p[3]||(p[3]=r=>(pe.value=!0,e(l).getPmsConfiguration(1,I.value))),class:"bg-[#F9BE00] text-[13px] rounded-md text-[#000] !w-[120px] h-[35px] font-semibold flex justify-center items-center"},[tr,A(" Add Goals")])):d("",!0)])]),F.value==1?(a(),i("div",sr,[_(de,{value:e(l).orgAppraisalDatatableDetails?e(C).filterOrgPendingStatusSource(e(l).orgAppraisalDatatableDetails,1,"",1,"","pending"):[],scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50]},{default:D(()=>[_(V,{field:"assignee_name",header:"Employee"},{body:D(r=>[t("div",or,[r.data.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",e(K).getBackgroundColor(r.index)]),style:{"vertical-align":"middle"}},c(r.data.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${r.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,ar)),t("span",lr,[t("span",ir,c(r.data.assignee_name),1),t("span",rr,c(r.data.assignee_code),1)])])]),_:1}),_(V,{field:"manager_name",header:"manager_name"},{body:D(r=>[t("div",nr,[t("span",dr,c(r.data.manager_name),1),t("span",cr,c(r.data.manager_code),1)])]),_:1}),_(V,{field:"assignment_period",header:"Assignment Period"}),_(V,{field:"score",header:"score"}),_(V,{field:"status",header:"status"}),_(V,{field:"",header:"Action"},{body:D(({data:r})=>[t("div",pr,[t("i",{class:"pi pi-eye",onClick:$=>(e(l).canShowAssigneeReviewForm=!1,e(l).createTeamKpiForm=!0,e(l).createKpiForm={...r.kpi_form_details},q.value=r,e(l).form_id=r.id,O.value=r.id,v.value="view",oe.value=!1,e(l).getSelfTimeLine(I.value,r.id))},null,8,ur)])]),_:1})]),_:1},8,["value"])])):d("",!0),F.value==2?(a(),i("div",_r,[_(de,{scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],value:e(l).orgAppraisalDatatableDetails?e(C).filterOrgPendingStatusSource(e(l).orgAppraisalDatatableDetails,"Goal Published","Employee Reviewed",1,"","current"):[]},{default:D(()=>[_(V,{field:"assignee_name",header:"Employee"},{body:D(r=>[t("div",mr,[r.data.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",e(K).getBackgroundColor(r.index)]),style:{"vertical-align":"middle"}},c(r.data.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${r.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,vr)),t("span",fr,[t("span",gr,c(r.data.assignee_name),1),t("span",hr,c(r.data.assignee_code),1)])])]),_:1}),_(V,{field:"manager_name",header:"Manager"},{body:D(r=>[t("div",xr,[t("span",br,c(r.data.manager_name),1),t("span",wr,c(r.data.manager_code),1)])]),_:1}),_(V,{field:"assignment_period",header:"Assignment Period"}),_(V,{field:"score",header:"Achieved Score"}),_(V,{field:"status",header:"Review Status"}),_(V,{field:"quantity",header:"Action"},{body:D(({data:r})=>[t("div",yr,[r.status=="Goal Published"?(a(),i("i",{key:0,class:"pi pi-eye",onClick:$=>(e(l).canShowAssigneeReviewForm=!0,e(l).createTeamKpiForm=!0,e(l).selected_header=r.form_header,e(l).createKpiForm={...r.kpi_form_details},q.value=r,e(l).form_header=r.form_header,e(l).form_id=r.id,O.value=r.id,v.value="view",oe.value=!1,e(l).getSelfTimeLine(I.value,r.id))},null,8,kr)):d("",!0),r.status=="Employee Reviewed"?(a(),i("i",{key:1,class:"pi pi-eye",onClick:$=>(e(l).canShowAssigneeReviewForm=!0,e(l).createTeamKpiForm=!0,e(l).selected_header=r.form_header,e(l).createKpiForm={...r.kpi_form_details},e(l).form_header=r.form_header,q.value=r,e(l).form_id=r.id,O.value=r.id,v.value="view",oe.value=!1,e(l).getSelfTimeLine(I.value,r.id))},null,8,$r)):d("",!0)])]),_:1})]),_:1},8,["value"])])):d("",!0),F.value==3?(a(),i("div",Dr,[_(de,{scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],value:e(C).filterOrgcompletedStatusSource(e(l).orgAppraisalDatatableDetails,1,"Completed")},{default:D(()=>[_(V,{field:"assignee_name",header:"Employee"},{body:D(r=>[t("div",Fr,[r.data.avatar_or_shortname.type=="shortname"?(a(),i("span",{key:0,class:b(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",e(K).getBackgroundColor(r.index)]),style:{"vertical-align":"middle"}},c(r.data.avatar_or_shortname.data),3)):(a(),i("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${r.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,Sr)),t("span",Cr,[t("span",Kr,c(r.data.assignee_name),1),t("span",Vr,c(r.data.assignee_code),1)])])]),_:1}),_(V,{field:"manager_name",header:"Manager"},{body:D(r=>[t("div",Ar,[t("span",Br,c(r.data.manager_name),1),t("span",Tr,c(r.data.manager_code),1)])]),_:1}),_(V,{field:"assignment_period",header:"Assignment Period"}),_(V,{field:"score",header:"Achieved Score"}),_(V,{field:"status",header:"Review Status"}),_(V,{field:"Action",header:"Action"},{body:D(({data:r})=>[t("div",null,[t("i",{class:"pi pi-eye",onClick:$=>(e(l).createTeamKpiForm=!0,e(l).canShowAssigneeReviewForm=!0,e(l).selected_header=r.form_header,e(l).createKpiForm={...r.kpi_form_details},e(l).getSelfTimeLine(I.value,r.id),ve(r.reviewer_details,r),Be.value="Review",e(l).canShowAssigneeReviewForm=!e(C).pmsKpiFormAcceptance([r]),m.currentlyRecords=r.id,r.is_assignee_submitted==1?S.value=!0:S.value=!1,oe.value=!1)},null,8,jr)])]),_:1})]),_:1},8,["value"])])):d("",!0),_(f,{visible:pe.value,"onUpdate:visible":p[16]||(p[16]=r=>pe.value=r),position:"right",style:{width:"60vw !important"}},{default:D(()=>[Er,t("i",{class:"pi pi-times top-4 right-4 absolute p-2 text-blue-200 cursor-pointer",onClick:p[4]||(p[4]=r=>pe.value=!1)}),t("div",Nr,[t("div",Ir,[t("div",Rr,[Ur,A(" "+c(e(Se))+" ",1),_(Z,{type:"text",modelValue:e(l).createNewTeamGoals.calendar_type,"onUpdate:modelValue":p[5]||(p[5]=r=>e(l).createNewTeamGoals.calendar_type=r),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue"])]),t("div",Or,[Pr,_(Z,{type:"text",modelValue:e(l).createNewTeamGoals.year,"onUpdate:modelValue":p[6]||(p[6]=r=>e(l).createNewTeamGoals.year=r),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue"])])]),t("div",Gr,[t("div",Lr,[Mr,A(" "+c(e(B))+" ",1),_(Z,{type:"text",modelValue:e(l).createNewTeamGoals.frequency,"onUpdate:modelValue":p[7]||(p[7]=r=>e(l).createNewTeamGoals.frequency=r),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])]),t("div",Wr,[Hr,_(Z,{type:"text",modelValue:e(l).createNewTeamGoals.assignment_period,"onUpdate:modelValue":p[8]||(p[8]=r=>e(l).createNewTeamGoals.assignment_period=r),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",zr,[t("div",qr,[Yr,_(u,{modelValue:e(l).createNewTeamGoals.department_id,"onUpdate:modelValue":p[9]||(p[9]=r=>e(l).createNewTeamGoals.department_id=r),display:"chip",options:e(l).departmentOptions,optionLabel:"name",optionValue:"id",onChange:Le,placeholder:"Select Department",maxSelectedLabels:10,class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue","options"])]),t("div",Qr,[Xr,_(u,{modelValue:e(l).createNewTeamGoals.assignee_id,"onUpdate:modelValue":p[10]||(p[10]=r=>e(l).createNewTeamGoals.assignee_id=r),class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]",options:ne.value,optionLabel:"name",optionValue:ne.value?ne.value.form_assigned==1?"":m.id:"",placeholder:"Select Employee",display:"chip"},{option:D(r=>[t("div",Zr,[t("div",null,c(r.option.name),1),r.option.form_assigned==1?(a(),i("div",Jr,c(r.option.form_assigned==1?"Form Assigned":""),1)):d("",!0)])]),_:1},8,["modelValue","options","optionValue"])])]),t("div",en,[t("div",tn,[sn,_(Z,{type:"text",modelValue:e(l).createNewTeamGoals.manager_name,"onUpdate:modelValue":p[11]||(p[11]=r=>e(l).createNewTeamGoals.manager_name=r),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",on,[an,ln,t("div",rn,[nn,_(n,{modelValue:e(l).createNewTeamGoals.kpi_form_id,"onUpdate:modelValue":p[12]||(p[12]=r=>e(l).createNewTeamGoals.kpi_form_id=r),options:e(l).existingKpiFormOptions,optionLabel:"form_name",optionValue:"id",placeholder:"Select KPI form",class:"h-10 mx-2 w-[250px]"},null,8,["modelValue","options"]),t("button",{onClick:p[13]||(p[13]=r=>e(l).createNewTeamGoals.kpi_form_id?(e(l).createKpiForm.form_details.length==0?Y.value=!0:Y.value=!1,e(l).createTeamKpiForm=!0,oe.value=!0,v.value="View",pe.value=!1,we.value=!0,e(l).getKPIFormDetails(e(l).createNewTeamGoals.kpi_form_id)):m.showWarn()),class:b(["h-[33px] w-[144px] rounded-[8px]",[e(l).createNewTeamGoals.kpi_form_id?"bg-[#F9BE00]":" bg-[#DDDDDD] "]]),severity:"warning"},"View Form",2)])]),dn,t("div",cn,[t("button",{class:"bg-[#001820] text-[#ffff] rounded-[8px] p-2 mx-4 w-[144px] h-[33px]",onClick:p[14]||(p[14]=r=>e(l).createNewTeamGoals.department_id?e(l).createNewTeamGoals.assignee_id?(e(l).createTeamKpiForm=!0,oe.value=!0,v.value="Creation",U.value="save",we.value=!0,pe.value=!1,e(l).createKpiForm.form_details=[],Y.value=!0,e(l).createKpiForm.form_name="OKR_FORM _"+I.value+"_"+e(K).current_user_name+"_"+e(l).createNewTeamGoals.assignment_period.toUpperCase()):e(C).toastmessage("warn","Select Employee "):e(C).toastmessage("warn","Select Department "))}," Create KPI Form "),t("button",{class:b(["text-[#000] rounded-[8px] w-[144px] !h-[33px]",[e(l).createNewTeamGoals.kpi_form_id?"bg-[#F9BE00]":"bg-[#DDDD]"]]),onClick:p[15]||(p[15]=r=>e(l).createNewTeamGoals.department_id?e(l).createNewTeamGoals.assignee_id?e(l).createNewTeamGoals.kpi_form_id?(e(l).employeefilter(e(l).createNewTeamGoals.assignee_id),e(l).publishTeamForm(G.value,1),pe.value=!1,Y.value=!1,e(l).createTeamKpiForm=!1,e(l).createNewTeamGoals.kpi_form_id="",ne.value=""):e(C).toastmessage("error","Select KPI form"):e(C).toastmessage("warn","Select Employee "):e(C).toastmessage("warn","Select Department "))}," Publish",2)])])]),_:1},8,["visible"]),_(f,{visible:e(l).createTeamKpiForm,"onUpdate:visible":p[36]||(p[36]=r=>e(l).createTeamKpiForm=r),position:"right",class:"relative !z-0",style:{width:"80vw !important",zindex:"0 !important"}},{default:D(()=>[t("h2",pn,[A(" KPI OR OKR Form "+c(v.value)+" ",1),t("i",{class:"pi pi-times text-blue-200",type:"button",onClick:p[17]||(p[17]=r=>se.value=!0),style:{"font-size":"1rem"}})]),t("div",un,[t("div",_n,[v.value=="view"?(a(),i("div",mn,[(a(!0),i(P,null,z(e(l).SelfTimeLine,(r,$)=>(a(),i("div",{class:b(["flex justify-center items-center",$==0?"":"w-full"])},[t("div",{class:b(["border-[1px] border-dashed border-[#82AB7B] w-[100%]",$==0?" border-[1px] border-dashed border-[#ffff]":""])},null,2),t("div",vn,[t("button",{class:b(["py-2 rounded-md font-[poppins] px-2 w-[160px] text-center whitespace-nowrap",[r.status==1||r.status==!0?"bg-[#82AB7B] text-[#ffff] ":r.status==0?"border-[1px] bg-[white] border-[rgb(130,171,123)] text-[#82AB7B]":" bg-[#E6E6E6] text-[#8B8B8B]"]])},c(r.title),3),t("div",fn,[A(" EXP: "+c(r.expected_date)+" -",1),t("span",gn,c(r.actual_date),1)])])],2))),256))])):d("",!0)]),oe.value?(a(),i("div",hn,[xn,t("div",bn,[t("div",wn,[t("input",{type:"file",accept:".xlsx",class:"w-[250px] form-control file",onChange:p[18]||(p[18]=r=>e(C).convertExcelIntoArray(r))},null,32),yn]),t("div",kn,[$n,t("button",{onClick:p[19]||(p[19]=r=>e(l).downloadSampleForm(I.value)),class:"bg-yellow-400 text-[#000] rounded-md p-2 h-[33px] w-[184px]"},[Dn,A(" Sample File")])])])])):d("",!0),oe.value?(a(),i("div",Fn,[Sn,we.value?(a(),i("div",Cn,[Kn,_(Z,{type:"text",modelValue:e(l).createKpiForm.form_name,"onUpdate:modelValue":p[20]||(p[20]=r=>e(l).createKpiForm.form_name=r),class:"h-10 mx-4 w-[60%]",placeholder:"Enter the Form Name"},null,8,["modelValue"])])):(a(),i("div",Vn,[An,t("span",Bn,c(e(l).createKpiForm.form_name),1)])),Tn])):d("",!0),e(l).canShowAssigneeReviewForm?(a(),i("div",jn,[e(l).createKpiForm.form_details?(a(),i("div",En,[e(l).createKpiForm.form_details?(a(),i("div",Nn,[e(l).form_header&&e(l).createKpiForm.form_details&&e(l).createKpiForm.form_details.length>0?(a(),i("div",In,[(a(!0),i(P,null,z(e(l).selected_header,(r,$)=>(a(),i("div",{class:b(["",[0,1].includes($)?"col-span-3 flex justify-start":[2,4].includes($)?"col-span-2":"col-span-2 "])},[t("h1",Rn,c(r?r.alias_name?r.alias_name:r.header_label?r.header_label:null:null),1),r&&r.header_name=="kpi_weightage"?(a(),i("p",Un,[On,t("span",{class:b(["font-['poppins']",[e(Ne)>=100?" text-green-500":""]])},c(e(Ne))+" %",3)])):d("",!0)],2))),256)),Pn])):d("",!0)])):d("",!0),t("div",Gn,[d("",!0),Fe(e(l).createKpiForm.form_details)?(a(),E(be,{key:1,activeIndex:0},{default:D(()=>[(a(!0),i(P,null,z(Fe(e(l).createKpiForm.form_details),(r,$)=>(a(),E(R,null,{header:D(()=>[t("div",Ln,[(a(!0),i(P,null,z(De(r,["id","record_id","assignee_review","reviews_review"]),(x,W)=>(a(),i("div",{class:b(["flex justify-center !line-clamp-4 h-[100%]",[0,1].includes(W)?"  col-span-3  mx-5":[2,4].includes(W)?" mx-[3rem] col-span-2   ":W==De(r,["id","record_id","assignee_review"]).length?"col-span-1":"col-span-1 "])},[Q($)?d("",!0):(a(),i("div",{key:0,class:b(["text-[16px] text-[#000] font-['poppins'] max-w-xs my-2 flex justify-center items-center",m.readMoreTitle==x.title?" ":""])},[fe(W,$,x.value)&&!Q($)?(a(),i("p",Mn,[A(c(x.value)+" ",1),x.value.length>100&&fe(W,$,x.value)&&!Q($)?(a(),i("button",{key:0,class:"text-blue-400 font-['poppins']",onClick:p[23]||(p[23]=j=>(ie.value="",T.value=""))},"less...")):d("",!0)])):We((a(),i("span",Wn,[A(c(x.value?x.value.length>80?x.value.substring(0,80)+".. ":x.value:"")+" ",1),x.title=="kpi_weightage"?(a(),i("span",Hn,"%")):d("",!0),x.value.length>80&&!fe(W,$,x.value)&&!Q($)?(a(),i("button",{key:1,onClick:j=>(ie.value=W,T.value=$),class:"text-blue-400 font-['poppins']"},"more...",8,zn)):d("",!0)])),[[L,x.value]])],2)),["dimension","kra"].includes(x.title)&&Q($)?(a(),E(M,{key:1,onInput:j=>ke($,x.title,j.target.value),modelValue:x.value,"onUpdate:modelValue":j=>x.value=j,rows:"3",cols:["dimension"].includes(x.title)?30:20,class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue","cols"])):!["dimension","kra"].includes(x.title)&&Q($)?(a(),E(Z,{key:2,onInput:j=>ke($,x.title,j.target.value),type:"text",modelValue:x.value,"onUpdate:modelValue":j=>x.value=j,class:"h-10 !bg-[#DDDDDD] !border-[rgb(246,246,246)] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue"])):d("",!0),qn],2))),256))])]),default:D(()=>[X(r,"assignee_review")?(a(),i("div",Yn,[X(r,"assignee_review").value?(a(),i("div",Qn,[t("div",Xn,[t("div",Zn,[t("h1",Jn,[t("span",ed,c(X(r,"assignee_review").value.reviewer_level),1),A(" "+c(X(r,"assignee_review").value.assignee_name),1)]),t("h1",td,"("+c(X(r,"assignee_review").value.assignee_code)+") ",1)])]),t("div",sd,[A(c(q.value.is_assignee_submitted!=""?X(r,"assignee_review").value.kpi_review:"")+" ",1),t("p",od,c(q.value.is_assignee_submitted==""?"Achieved Target":""),1)]),t("div",ad,[t("p",ld,c(q.value.is_assignee_submitted==""?" Achieved KPI ":""),1),t("h1",id,c(X(r,"assignee_review").value.kpi_percentage==null?"":X(r,"assignee_review").value.kpi_percentage),1)]),t("div",rd,[t("h1",null,c(X(r,"assignee_review").value.kpi_comments?X(r,"assignee_review").value.kpi_comments.length>20?X(r,"assignee_review").value.kpi_comments.substring(0,20)+"..":X(r,"assignee_review").value.kpi_comments:""),1)])])):d("",!0),X(r,"reviews_review")?(a(),i("div",nd,[X(r,"reviews_review").value?(a(!0),i(P,{key:0},z(X(r,"reviews_review").value,(x,W)=>(a(),i("div",dd,[t("div",cd,c(x.reviewer_name)+" ("+c(x.reviewer_code)+") ",1),t("div",pd,c(x.kpi_review),1),t("div",ud,c(x.kpi_percentage),1),t("div",_d,c(x.kpi_comments),1)]))),256)):d("",!0)])):d("",!0)])):d("",!0)]),_:2},1024))),256))]),_:1})):d("",!0)]),q.value.is_reviewer_submitted==""?(a(),i("div",md,[t("button",{class:"border-[1px] border-[#000] font-['poppins'] mx-2 rounded-md p-2",onClick:p[24]||(p[24]=r=>(e(l).createTeamKpiForm=!1,e(l).canShowAssigneeReviewForm=!1))},"cancel"),le.value=="save"?(a(),i("button",{key:0,class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:p[25]||(p[25]=r=>(e(l).saveTeamAppraisalReview(e(l).createKpiForm.form_details,0),le.value="submit"))},"Save")):d("",!0),le.value=="submit"?(a(),i("button",{key:1,class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:p[26]||(p[26]=r=>e(l).saveTeamAppraisalReview(e(l).createKpiForm.form_details,1))},"Submit")):d("",!0)])):d("",!0)])):d("",!0)])):(a(),i("div",vd,[e(l).createKpiForm.form_details?(a(),i("div",fd,[e(l).selected_header&&e(l).createKpiForm.form_details&&e(l).createKpiForm.form_details.length>0?(a(),i("div",gd,[(a(!0),i(P,null,z(e(l).selected_header,(r,$)=>(a(),i("div",{class:b(["",[0,1].includes($)?" col-span-3 flex items-center justify-center ":[2,4].includes($)?"col-span-2 flex items-center justify-center flex-col":" col-span-1 flex flex-col items-center justify-center"])},[r.title!="record_id"&&r.title!="assignee_review"?(a(),i("h1",hd,c(r?r.alias_name?r.alias_name:r.header_label?r.header_label:null:null),1)):d("",!0),r&&r.header_name=="kpi_weightage"?(a(),i("p",{key:1,class:b(["text-center",r&&r.header_name=="kpi_weightage"&&e(ge)>100?" text-red-500":null])}," Overall "+c(e(ge))+" % ",3)):d("",!0)],2))),256)),xd])):d("",!0),(a(!0),i(P,null,z(Fe(e(l).createKpiForm.form_details),(r,$)=>(a(),i("div",{class:"rounded-lg bg-[#FFF7EB] grid grid-cols-12 gap-4 p-4 my-2 relative border-[1px] border-[#000]",onMouseleave:p[28]||(p[28]=x=>m.op="sd")},[(a(!0),i(P,null,z(De(r,["id","record_id"]),(x,W)=>(a(),i("div",{class:b(["flex justify-center !line-clamp-4",[0,1].includes(W)?"  col-span-3 ":[2,4].includes(W)||W==De(r,["id","record_id"]).length?"col-span-2":"col-span-1"])},[Q($)?d("",!0):(a(),i("div",{key:0,class:b(["text-[16px] text-[#000] font-['poppins'] max-w-xs my-2",m.readMoreTitle==x.title?" ":""])},[fe(W,$,x.value)&&!Q($)?(a(),i("p",bd,[A(c(x.value)+" ",1),x.value.length>20&&fe(W,$,x.value)&&!Q($)?(a(),i("button",{key:0,class:"text-blue-400 font-['poppins']",onClick:p[27]||(p[27]=j=>(ie.value="",T.value=""))},"less...")):d("",!0)])):(a(),i("span",wd,[A(c(x.value?x.value.length>100?x.value.substring(0,100)+".. ":x.value:"")+" ",1),x.title=="kpi_weightage"?(a(),i("span",yd,"%")):d("",!0),x.value&&x.value.length>200?(a(),i("button",{key:1,onClick:j=>(ie.value=W,T.value=$),class:"text-blue-400 font-['poppins']"},"more...",8,kd)):d("",!0)]))],2)),["dimension","kra"].includes(x.title)&&Q($)?(a(),E(M,{key:1,onInput:j=>ke($,x.title,j.target.value),modelValue:x.value,"onUpdate:modelValue":j=>x.value=j,rows:"3",cols:["dimension"].includes(x.title)?30:20,class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue","cols"])):!["dimension","kra"].includes(x.title)&&Q($)?(a(),E(Z,{key:2,onInput:j=>ke($,x.title,j.target.value),type:"text",modelValue:x.value,"onUpdate:modelValue":j=>x.value=j,class:"h-10 !bg-[#DDDDDD] !border-[rgb(246,246,246)] w-[100px] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue"])):d("",!0),$d],2))),256)),v.value=="Creation"||v.value=="View"||v.value=="view"?(a(),i("div",Dd,[Q($)?d("",!0):(a(),i("i",{key:0,class:"pi pi-file-edit mx-2 cursor-pointer",onClick:x=>(J.value=$,U.value="save",re.value=!1)},null,8,Fd)),Q($)?(a(),i("i",{key:1,class:"pi pi-check mx-2 cursor-pointer",onClick:x=>(e(l).createKpiForm.form_details[$],J.value=null,U.value="save")},null,8,Sd)):d("",!0),t("i",{class:"pi pi-trash text-[red] mx-2 cursor-pointer",onClick:x=>Re(e(l).createKpiForm.form_details,$)},null,8,Cd)])):d("",!0)],32))),256)),(e(l).selected_header&&v.value=="Creation",!Y.value?d("",!0):(a(),i("div",Kd,[(a(!0),i(P,null,z(e(l).selected_header,(r,$)=>(a(),i("div",{class:"flex flex-col",key:$},[t("label",Vd,c(r.alias_name?r.alias_name:r.header_label),1),["kpi_weightage"].includes(r.header_name)?(a(),E(Z,{key:0,type:"text",modelValue:e(l).addKra[r.header_name],"onUpdate:modelValue":x=>e(l).addKra[r.header_name]=x,class:b(["h-10 !bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2",[e(_e)[r.header_name].$error?"p-invalid":"!border-[rgb(246,246,246)] "]]),onKeypress:p[29]||(p[29]=x=>$e(x)),onInput:()=>{e(l).addKra[r.header_name]>100?e(l).addKra[r.header_name]=null:e(l).addKra[r.header_name]==0&&(e(l).addKra[r.header_name]=null)}},null,8,["modelValue","onUpdate:modelValue","onInput","class"])):["dimension","kra"].includes(r.header_name)?(a(),E(M,{key:1,modelValue:e(l).addKra[r.header_name],"onUpdate:modelValue":x=>e(l).addKra[r.header_name]=x,rows:"3",cols:"30",class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["modelValue","onUpdate:modelValue"])):(a(),E(Z,{key:2,type:"text",modelValue:e(l).addKra[r.header_name],"onUpdate:modelValue":x=>e(l).addKra[r.header_name]=x,class:b(["h-10 !bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2",[e(_e)[r.header_name].$error?"p-invalid":"!border-[rgb(246,246,246)]"]])},null,8,["modelValue","onUpdate:modelValue","class"])),e(_e)[r.header_name].$error?(a(),i("span",Ad,c(e(_e)[r.header_name].required.$message.replace("Value",r.alias_name?r.alias_name:r.header_label)),1)):d("",!0),Bd]))),128)),t("div",Td,[t("button",{class:"bg-[#F9BE00] text-[#000] py-2 px-4 h-[33px] rounded-md",onClick:p[30]||(p[30]=r=>(Pe(m.arr),U.value="save"))},Ed),e(l).createKpiForm.form_details.length>0?(a(),i("button",{key:0,onClick:p[31]||(p[31]=r=>he.value=!0),class:"mx-2 bg-[#000] text-[white] py-2 px-4 h-[33px] rounded-md"},Id)):d("",!0)])]))),v.value=="Creation"||v.value=="View"||v.value=="view"||v.value=="Reject Edit option"?(a(),i("div",Rd,[v.value=="Creation"||v.value=="View"||v.value=="Reject Edit option"?(a(),i("button",{key:0,class:"border-[1px] border-[#000] p-3 box-border text-[13px] rounded-md text-[#000] !w-[120px] h-[35px] font-semibold flex justify-center items-center",onClick:p[32]||(p[32]=r=>Y.value=!0)},Pd)):d("",!0),(v.value=="view"&&U.value=="save"?q.value&&q.value.is_reviewer_accepted!=1:U.value=="save"&&v.value=="Creation")?(a(),i("button",{key:1,onClick:p[33]||(p[33]=r=>e(l).createKpiForm.form_name?e(ge)==100?(xe(e(l).createKpiForm.form_details),U.value="publish",re.value=!0):e(C).toastmessage("error","The combined weightage of KPIs or OKRs must equal to 100%"):e(C).toastmessage("error","Form Name field is required.")),class:b(["text-[#000] py-2 px-4 rounded-md mx-2",[e(ge)==100?"bg-[#F9BE00]":"bg-[#dddd]"]])},"Save",2)):d("",!0),U.value=="publish"&&v.value!="view"?(a(),i("button",{key:2,class:b(["rounded-[8px] w-[144px] !h-[33px] mx-2",[e(l).currentlySavedFormId?"bg-[#000] text-[#ffff]":"bg-[#DDDD] text-[#000]"]]),onClick:p[34]||(p[34]=r=>e(l).currentlySavedFormId?e(l).createNewGoals?(e(l).publishTeamForm(G.value,1),pe.value=!1,e(l).createTeamKpiForm=!1):"":e(C).toastmessage("error","Save the form to Publish"))}," Publish",2)):d("",!0),v.value=="view"&&q.value.is_assignee_submitted===""&&q.value.is_reviewer_accepted==1?(a(),i("button",{key:3,class:"text-[#fff] py-2 px-4 rounded-md mx-2 bg-black",onClick:p[35]||(p[35]=r=>s.value=!0)},"Revoke")):d("",!0)])):d("",!0)])):d("",!0)]))])]),_:1},8,["visible"])])],64)}}};const Ld={class:"w-full"},Md={class:"flex justify-between items-center my-2"},Wd=t("span",null,null,-1),Hd={class:"grid grid-cols-4 gap-4 h-[128px] mb-[3rem]"},zd={class:"bg-[#FFEFE2] rounded-lg p-3"},qd=t("h1",{class:"font-['poppins'] text-[16px]"},"Self-Review",-1),Yd={class:"mt-2"},Qd={class:"text-[20px] font-['poppins'] my-2"},Xd=t("div",{class:"flex justify-between my-2 font-['poppins']"},[t("span",null,"Score")],-1),Zd={class:"bg-[#F6F3D4] rounded-lg p-3"},Jd=t("h1",{class:"font-['poppins'] text-[16px]"},"Manager-Review",-1),ec={class:"mt-2"},tc={class:"text-[20px] font-['poppins'] my-2"},sc=t("div",{class:"flex justify-between my-2 font-['poppins']"},[t("span",null,"Score")],-1),oc={key:0,class:"!bg-[#E2F6FF] rounded-xl p-2"},ac=t("h1",{class:"font-['poppins'] text-[16px]"},"Self-Review",-1),lc={key:1,class:"bg-[#F9DFDE] rounded-xl p-2"},ic=t("h1",{class:"font-['poppins'] text-[16px]"},"Manager-Review",-1),rc={class:"grid grid-cols-12 gap-2"},nc={class:"col-span-8 h-[340px]"},dc={key:0,class:"w-full"},cc={key:1,class:"w-full mt-2 mb-[2rem]"},pc={class:"col-span-4 gap-2"},uc={key:0,class:"w-[100%]"},_c={key:1},mc={class:"w-[100%]"},vc={__name:"team_dashboard",setup(Ae){h(40);const l=at(),C=Ke(),K=Ve();return Ce(async()=>{let w;await K.getCurrentUserCode().then(v=>{w=v.data,C.selectedAssigneeFormUsercode=v.data}),await C.getAssignmentPeriodDropdown(w),await l.PerformanceRatingGraph(w,"Team"),await l.pmsDashboardSelfReviewsScore(w,"Team"),await l.pmsDashboardReviewerScore(w,"Team"),await l.pmsSelfReviewOnTime(w),await l.pmsReviewerReviewOnTime(w),await l.pmsDashboardQuaterlyScoreCard(w,"Team"),await l.getPmsTrendListOptions(w,"Team"),await l.getPmsTrendList(w,null),await l.Dashboardprocess(w,"Team")}),(w,v)=>{const U=N("Dropdown"),s=N("ProgressBar"),F=N("Skeleton");return a(),i(P,null,[e(l).loading?(a(),E(Ie,{key:0,class:"absolute z-50 bg-white"})):d("",!0),t("div",Ld,[t("div",Md,[Wd,_(U,{modelValue:e(C).assignment_setting_id,"onUpdate:modelValue":v[0]||(v[0]=S=>e(C).assignment_setting_id=S),options:e(C).selectedyear,onChange:v[1]||(v[1]=S=>e(l).selecteddropdownyear(e(C).assignment_setting_id,"Team")),optionValue:"assignment_id",optionLabel:"assignment_period",placeholder:"    Select  Year",class:"h-[30px] w-[220px]"},null,8,["modelValue","options"])]),t("div",Hd,[t("div",zd,[qd,t("div",Yd,[t("span",Qd,c(e(l).Dashboard_selfReviews_score_details)+"%",1),t("div",null,[_(s,{class:"progressbar_val2",value:e(l).Dashboard_selfReviews_score_details},null,8,["value"]),Xd])])]),t("div",Zd,[Jd,t("div",ec,[t("span",tc,c(e(l).pmsDashboardReviewerScore_details)+"%",1),t("div",null,[_(s,{class:"progressbar_val2",value:e(l).pmsDashboardReviewerScore_details},null,8,["value"]),sc])])]),e(l).pmsSelfReviewOnTime_details?(a(),i("div",oc,[ac,_(lt)])):d("",!0),e(l).pmsReviewerReviewOnTimeDetails?(a(),i("div",lc,[ic,_(it)])):d("",!0)]),t("div",rc,[t("div",nc,[e(l).Performance_rating_details?(a(),i("div",dc,[_(rt)])):d("",!0),e(l).DashboardQuaterlyScoreCardDetails?(a(),i("div",cc,[_(nt)])):d("",!0)]),t("div",pc,[e(l).Dashboardprocessdetails?(a(),i("div",uc,[_(dt)])):(a(),i("div",_c,[_(F,{width:"100%",height:"240px"})])),t("div",mc,[_(ct)])])])])],64)}}};const fc={class:"w-full"},gc={class:"flex justify-between items-center my-2"},hc=t("span",null,null,-1),xc={class:"grid grid-cols-4 gap-4 h-[128px] mb-[3rem]"},bc={class:"bg-[#FFEFE2] rounded-lg p-3"},wc=t("h1",{class:"font-['poppins'] text-[16px]"},"Self-Review",-1),yc={class:"mt-2"},kc={class:"text-[20px] font-['poppins'] my-2"},$c=t("div",{class:"flex justify-between my-2 font-['poppins']"},[t("span",null,"Score")],-1),Dc={class:"bg-[#F6F3D4] rounded-lg p-3"},Fc=t("h1",{class:"font-['poppins'] text-[16px]"},"Manager-Review",-1),Sc={class:"mt-2"},Cc={class:"text-[20px] font-['poppins'] my-2"},Kc=t("div",{class:"flex justify-between my-2 font-['poppins']"},[t("span",null,"Score")],-1),Vc={key:0,class:"!bg-[#E2F6FF] rounded-xl p-2"},Ac=t("h1",{class:"font-['poppins'] text-[16px]"},"Self-Review",-1),Bc={key:1,class:"bg-[#F9DFDE] rounded-xl p-2"},Tc=t("h1",{class:"font-['poppins'] text-[16px]"},"Manager-Review",-1),jc={class:"grid grid-cols-12 gap-2"},Ec={class:"col-span-8 h-[340px]"},Nc={key:0,class:"w-full"},Ic={key:1,class:"w-full mt-2 mb-[2rem]"},Rc={class:"col-span-4 gap-2"},Uc={key:0,class:"w-[100%]"},Oc={key:1},Pc={class:"w-[100%]"},Gc={__name:"org_dashboard",setup(Ae){h(40);const l=at(),C=Ke(),K=Ve();return Ce(async()=>{let w;await K.getCurrentUserCode().then(v=>{w=v.data,C.selectedAssigneeFormUsercode=v.data}),await C.getAssignmentPeriodDropdown(w),await l.PerformanceRatingGraph(w,"Org"),await l.pmsDashboardSelfReviewsScore(w,"Org"),await l.pmsDashboardReviewerScore(w,"Org"),await l.pmsSelfReviewOnTime(w),await l.pmsReviewerReviewOnTime(w),await l.pmsDashboardQuaterlyScoreCard(w,"Org"),await l.getPmsTrendListOptions(w,"Org"),await l.getPmsTrendList(w,null),await l.Dashboardprocess(w,"Org")}),(w,v)=>{const U=N("Dropdown"),s=N("ProgressBar"),F=N("Skeleton");return a(),i(P,null,[e(l).loading?(a(),E(Ie,{key:0,class:"absolute z-50 bg-white"})):d("",!0),t("div",fc,[t("div",gc,[hc,_(U,{modelValue:e(C).assignment_setting_id,"onUpdate:modelValue":v[0]||(v[0]=S=>e(C).assignment_setting_id=S),options:e(C).selectedyear,onChange:v[1]||(v[1]=S=>e(l).selecteddropdownyear(e(C).assignment_setting_id,"Org")),optionValue:"assignment_id",optionLabel:"assignment_period",placeholder:"    Select  Year",class:"h-[30px] w-[220px]"},null,8,["modelValue","options"])]),t("div",xc,[t("div",bc,[wc,t("div",yc,[t("span",kc,c(e(l).Dashboard_selfReviews_score_details)+"%",1),t("div",null,[_(s,{class:"progressbar_val2",value:e(l).Dashboard_selfReviews_score_details},null,8,["value"]),$c])])]),t("div",Dc,[Fc,t("div",Sc,[t("span",Cc,c(e(l).pmsDashboardReviewerScore_details)+"%",1),t("div",null,[_(s,{class:"progressbar_val2",value:e(l).pmsDashboardReviewerScore_details},null,8,["value"]),Kc])])]),e(l).pmsSelfReviewOnTime_details?(a(),i("div",Vc,[Ac,_(lt)])):d("",!0),e(l).pmsReviewerReviewOnTimeDetails?(a(),i("div",Bc,[Tc,_(it)])):d("",!0)]),t("div",jc,[t("div",Ec,[e(l).Performance_rating_details?(a(),i("div",Nc,[_(rt)])):d("",!0),e(l).DashboardQuaterlyScoreCardDetails?(a(),i("div",Ic,[_(nt)])):d("",!0)]),t("div",Rc,[e(l).Dashboardprocessdetails?(a(),i("div",Uc,[_(dt)])):(a(),i("div",Oc,[_(F,{width:"100%",height:"240px"})])),t("div",Pc,[_(ct)])])])])],64)}}},Lc={class:"flex justify-between items-end"},Mc={class:"divide-x nav nav-pills divide-solid border-b-[3px] mx-2 border-gray-300 w-[100%]"},Wc={key:0,class:"nav-item cursor-pointer",role:"presentation"},Hc={key:0,class:"relative h-1 rounded-l-3xl top-1",style:{border:"2px solid #F9BE00 !important"}},zc={key:1,class:"nav-item cursor-pointer",role:"presentation"},qc={key:0,class:"relative h-1 rounded-l-3xl top-1",style:{border:"2px solid #F9BE00 !important"}},Yc={key:2,class:"border-0 cursor-pointer position-relative"},Qc={key:0,class:"h-1 relative top-1 bottom-[1px] left-0 w-[100%]",style:{border:"2px solid #F9BE00 !important"}},Xc={key:3,class:"border-0 cursor-pointer nav-item position-relative"},Zc={key:0,class:"h-1 rounded-r-3xl relative top-1 w-[100%] left-0",style:{border:"2px solid #F9BE00 !important"}},Jc={key:4,class:"border-0 cursor-pointer nav-item position-relative"},ep={key:0,class:"h-1 rounded-r-3xl relative top-1 w-[100%] left-0",style:{border:"2px solid #F9BE00 !important"}},tp={key:0,class:"relative"},sp=t("i",{class:"pi pi-chevron-down"},null,-1),op={class:"absolute top-[40px] bg-white rounded-b-md w-[200px] z-10"},ap={key:0,class:"p-2"},lp={key:1,class:"p-2"},ip={key:2,class:"p-2"},rp={key:3},np={key:4},dp={key:5},cp={key:6},Fp={__name:"pmsMaster",setup(Ae){const l=Ke(),C=ze(),K=ht(),w=Ve(),v=h(1);Ce(()=>{}),h(),h([{name:"Self Dashboard",id:1},{name:"Manager Dashboard",id:6},{name:"Org Dashboard",id:7}]);const U=h("Self Dashboard "),s=h(!1);return(F,S)=>{const O=N("Dropdown");return a(),i("div",null,[t("div",Lc,[t("ul",Mc,[e(w).current_user_role==5||e(w).current_user_role==4||e(w).current_user_role==3||e(w).current_user_role==2||e(w).current_user_role==1||e(w).current_user_role==1||e(w).current_user_role==6?(a(),i("li",Wc,[t("a",{class:b(["px-2 position-relative border-0 font-['poppins'] text-[12px] text-[#001820]",[v.value===1?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"",onClick:S[0]||(S[0]=G=>v.value=1)}," PMS Dashboard ",2),v.value===1||v.value===6||v.value===7?(a(),i("div",Hc)):d("",!0)])):d("",!0),e(w).current_user_role==5||e(w).current_user_role==4||e(w).current_user_role==3||e(w).current_user_role==2||e(w).current_user_role==1||e(w).current_user_role==6?(a(),i("li",zc,[t("a",{class:b(["px-2 position-relative border-0 font-['poppins'] text-[12px] text-[#001820]",[v.value===2?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"",onClick:S[1]||(S[1]=G=>v.value=2)}," SELF APPRAISAL ",2),v.value===2?(a(),i("div",qc)):d("",!0)])):d("",!0),e(w).current_user_role==4||e(w).current_user_role==3||e(w).current_user_role==2||e(w).current_user_role==1?(a(),i("li",Yc,[t("a",{class:b(["text-center px-3 border-0 font-['poppins'] text-[12px] text-[#001820]",[v.value===3?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),onClick:S[2]||(S[2]=G=>v.value=3)}," TEAM APPRAISAL ",2),v.value===3?(a(),i("div",Qc)):d("",!0)])):d("",!0),e(w).current_user_role==3||e(w).current_user_role==2||e(w).current_user_role==1?(a(),i("li",Xc,[t("a",{class:b(["text-center px-3 border-0 font-['poppins'] text-[12px] text-[#001820]",[v.value===4?"active font-semibold ":"font-medium !text-[#8B8B8B]"]]),id:"",onClick:S[3]||(S[3]=G=>v.value=4)}," ORGANIZATION APPRAISAL ",2),v.value===4?(a(),i("div",Zc)):d("",!0)])):d("",!0),e(w).current_user_role==3||e(w).current_user_role==2?(a(),i("li",Jc,[t("a",{class:b(["text-center px-3 border-0 font-['poppins'] text-[12px] text-[#001820]",[v.value===5?"active font-semibold ":"font-medium !text-[#8B8B8B]"]]),onClick:S[4]||(S[4]=G=>v.value=5)}," PMS CONFIG ",2),v.value===5?(a(),i("div",ep)):d("",!0)])):d("",!0),d("",!0)]),v.value==1||v.value==6||v.value==7&&e(w).current_user_role!=5?(a(),i("div",tp,[t("div",{class:"rounded-md flex justify-between items-center border-[1px] px-3 font-['poppins'] focus:border-blue-300 cursor-pointer focus:border-[3px] hover:border-sky-700 delay-100 w-[200px] bg-white p-2",onClick:S[6]||(S[6]=G=>s.value=!s.value)},[t("span",null,c(U.value),1),sp]),s.value?(a(),E(pt,{key:0},{default:D(()=>[t("ul",op,[t("li",{class:"font-['poppins'] px-3 p-2 hover:bg-blue-200 focus:bg-gray-200 cursor-pointer",onClick:S[7]||(S[7]=G=>(e(K).rest_val,s.value=!1,v.value=1,U.value="Self Dashboard",e(C).activetab="Self"))},"Self Dashboard"),e(w).current_user_role==4||e(w).current_user_role==3||e(w).current_user_role==2||e(w).current_user_role==1?(a(),i("li",{key:0,class:"font-['poppins'] px-3 p-2 hover:bg-blue-200 focus:bg-gray-200 cursor-pointer",onClick:S[8]||(S[8]=G=>(e(C).activetab="Team",e(K).rest_val,s.value=!1,v.value=6,U.value="Team Dashboard"))},"Team Dashboard")):d("",!0),e(w).current_user_role==3||e(w).current_user_role==2||e(w).current_user_role==1?(a(),i("li",{key:1,class:"font-['poppins'] px-3 p-2 hover:bg-blue-200 focus:bg-gray-200 cursor-pointer",onClick:S[9]||(S[9]=G=>(e(C).activetab="Org",e(K).rest_val,s.value=!1,v.value=7,U.value="Org Dashboard "))},"Org Dashboard ")):d("",!0)])]),_:1})):d("",!0)])):d("",!0),v.value!=1&&v.value!=6&&v.value!=7?(a(),E(O,{key:1,modelValue:e(l).assignment_setting_id,"onUpdate:modelValue":S[10]||(S[10]=G=>e(l).assignment_setting_id=G),options:e(l).selectedyear,onChange:S[11]||(S[11]=G=>e(l).selecteddropdownyear(e(l).assignment_setting_id)),optionValue:"assignment_id",optionLabel:"assignment_period",placeholder:"    Select  Year",class:"h-[30px] w-[220px]"},null,8,["modelValue","options"])):d("",!0)]),t("div",null,[v.value==1?(a(),i("div",ap,[_(ft)])):d("",!0),v.value==2?(a(),i("div",lp,[_(gi)])):d("",!0),v.value==3?(a(),i("div",ip,[_(vt)])):d("",!0),v.value==4?(a(),i("div",rp,[_(Gd)])):d("",!0),v.value==5?(a(),i("div",np,[_(gt)])):d("",!0),v.value==6?(a(),i("div",dp,[_(vc)])):d("",!0),v.value==7?(a(),i("div",cp,[_(Gc)])):d("",!0)])])}}};export{Fp as default};
