import{_ as Me,y as qe,r as _,o as ze,v as ae,b as G,c as We,d as i,e as r,g as a,j as B,i as p,f as t,m as f,t as d,n as g,h as F,k as y,F as V,l as $,w as xe,T as He,E as Re,G as Ye,D as Xe}from"./app-e1ab7da0.js";import{u as Je,a as Qe}from"./pmsMainStore-a8268de2.js";import{S as Ze}from"./Service-a2d19084.js";import{u as et,r as tt}from"./index.esm-8509f6bf.js";import{L as st}from"./LoadingSpinner-1df67a25.js";const at="/build/assets/self_Appraisal-b74eb35d.png",ot="/build/assets/employee_goals-8d579f27.png",lt="/build/assets/self_review-7dd20225.png",it="/build/assets/pms_rating-3a0c8bfc.png",rt="/build/assets/employees_assessed-7472ded8.png";const c=oe=>(Re("data-v-2915da21"),oe=oe(),Ye(),oe),nt={class:"grid grid-cols-4 gap-4 px-4 mt-[20px]"},dt={class:"!shadow-xl border-[1px] flex rounded-lg justify-start items-center"},pt=c(()=>t("img",{src:ot,class:"w-[60px]",alt:""},null,-1)),ct={class:"flex flex-col"},ut=c(()=>t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Employee Goals",-1)),mt={class:"text-[14px] font-['poppins']"},_t={class:"!shadow-xl border-[1px] flex rounded-lg justify-start items-center"},ft=c(()=>t("div",null,[t("img",{src:lt,class:"w-[60px]",alt:""})],-1)),vt={class:"flex flex-col"},gt=c(()=>t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Self review",-1)),xt={class:"text-[14px] font-['poppins']"},bt={class:"flex !shadow-xl border-[1px] rounded-lg justify-start items-center"},ht=c(()=>t("img",{src:it,class:"w-[60px]",alt:""},null,-1)),yt={class:"flex flex-col"},wt=c(()=>t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Employee Assessed",-1)),kt={class:"text-[14px] font-['poppins']"},Ft={class:"flex !shadow-xl border-[1px] rounded-lg justify-start items-center"},Dt=c(()=>t("img",{src:rt,class:"w-[60px]",alt:""},null,-1)),Ct={class:"flex flex-col"},Kt=c(()=>t("h1",{class:"font-semibold text-[16px] font-['poppins']"},"Final Score Published",-1)),Tt={class:"text-[14px] font-['poppins']"},jt={class:"flex justify-between mt-5"},At={class:"divide-x nav nav-pills divide-solid nav-tabs-dashed mb-3 border-b-[3px] border-gray-300",id:"pills-tab",role:"tablist"},Vt={class:"",role:"presentation"},St=c(()=>t("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"},null,-1)),Bt=c(()=>t("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-red-500"},null,-1)),$t=[St,Bt],Nt={key:0,class:"relative h-1 rounded-l-3xl top-1",style:{border:"2px solid #F9BE00 !important"}},Et={class:"nav-item",role:"presentation"},Ut={key:0,class:"relative h-1 rounded-l-3xl top-2",style:{border:"2px solid #F9BE00 !important"}},Gt={class:"border-0 nav-item position-relative",role:"presentation"},It={key:0,class:"h-1 relative top-2 bottom-[1px] left-0 w-[100%]",style:{border:"2px solid #F9BE00 !important"}},Ot={class:"flex justify-between"},Pt=c(()=>t("i",{class:"mr-2 pi pi-plus"},null,-1)),Lt={key:1,class:""},Mt={class:"flex justify-center items-center gap-2"},qt=["src"],zt={class:"flex flex-col justify-start items-start"},Wt={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Ht={class:"font-['poppins'] text-[#535353] text-[12px]"},Rt={class:"flex flex-col justify-start items-start"},Yt={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Xt={class:"font-['poppins'] text-[#535353] text-[12px]"},Jt={class:"font-['poppins']"},Qt={class:"flex justify-center items-center"},Zt=["onClick"],es=c(()=>t("i",{class:"pi pi-eye text-[#000]"},null,-1)),ts=[es],ss=["onClick"],as={key:2,class:""},os={class:"flex justify-center items-center gap-2"},ls=["src"],is={class:"flex flex-col justify-start items-start"},rs={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},ns={class:"font-['poppins'] text-[#535353] text-[12px]"},ds={class:"flex flex-col justify-start items-start"},ps={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},cs={class:"font-['poppins'] text-[#535353] text-[12px]"},us={class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},ms={class:"flex justify-center items-center"},_s=["onClick"],fs=c(()=>t("i",{class:"pi pi-eye text-[#000]"},null,-1)),vs=[fs],gs=["onClick"],xs=c(()=>t("i",{class:"pi pi-eye text-[#000]"},null,-1)),bs=[xs],hs={key:3,class:""},ys={class:"flex justify-center items-center gap-2"},ws=["src"],ks={class:"flex flex-col justify-start items-start"},Fs={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Ds={class:"font-['poppins'] text-[#535353] text-[12px]"},Cs={class:"flex flex-col justify-start items-start"},Ks={class:"font-semibold text-[#0873CD] font-['poppins'] text-[14px]"},Ts={class:"font-['poppins'] text-[#535353] text-[12px]"},js={key:0},As={class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},Vs={key:1},Ss={class:"inline-flex items-center px-3 py-1 text-sm font-semibold text-yellow-800 rounded-md bg-yellow-50 ring-1 ring-inset ring-yellow-100/20"},Bs={class:"flex justify-center items-center"},$s=["onClick"],Ns=c(()=>t("i",{class:"pi pi-eye text-[#000]"},null,-1)),Es=[Ns],Us=["onClick"],Gs=c(()=>t("h2",{class:"text-[#ffff] text-[16px] font-semibold absolute top-0 p-4 z-1 left-0 bg-[#000] w-[100%]"}," Team new Goals Assign",-1)),Is={class:"p-2"},Os={class:"grid grid-cols-2 gap-4 mt-2"},Ps={class:"flex flex-col"},Ls=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Calendar Type",-1)),Ms={class:"flex flex-col"},qs=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Year",-1)),zs={class:"grid grid-cols-2 gap-4 mt-2"},Ws={class:"flex flex-col"},Hs=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Frequency",-1)),Rs={class:"flex flex-col"},Ys=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Assignment Period",-1)),Xs={class:"grid grid-cols-2 gap-4 mt-2"},Js={class:"flex flex-col"},Qs=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Department",-1)),Zs={class:"flex flex-col"},ea=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Employee",-1)),ta={class:"flex align-items-center justify-between w-[100%]"},sa={key:0,class:"inline-flex items-center px-3 py-1 font-['poppins'] text-sm font-semibold text-green-800 rounded-md bg-green-50 ring-1 ring-inset ring-green-100/20"},aa={class:"grid grid-cols-1 gap-4 mt-2"},oa={class:"flex flex-col"},la=c(()=>t("label",{for:"",class:"text-[12px] text-[#757575] my-2"},"Reviewer",-1)),ia={class:"w-[100%]"},ra=c(()=>t("hr",{class:"border-[1px] my-4"},null,-1)),na=c(()=>t("h1",{class:"text-[#000] font-semibold text-[16px]"},"Goals/ Areas of Development",-1)),da={class:"flex items-center justify-between"},pa=c(()=>t("p",{class:"text-[12px] text-[#757575] w-[240px]"},"Select Existing Form from the Drop Down",-1)),ca=c(()=>t("div",{class:"flex justify-center h-[200px] my-4"},[t("img",{src:at,alt:"",class:""})],-1)),ua={class:"flex items-center justify-center left-[25%]"},ma={class:"flex justify-between text-[#ffff] text-[16px] font-semibold absolute top-0 p-4 left-0 bg-[#000] w-[100%]"},_a={class:"w-[100%] p-2"},fa={class:"my-[3rem]"},va={key:0,class:"flex justify-between items-center"},ga={class:"flex flex-col relative"},xa={class:"!text-[9px] absolute left-0 w-[200px] top-[34px] flex justify-start text-gray-500 font-['poppins']"},ba={class:"text-[red] !text-[9px]"},ha={key:0,class:"flex flex-col"},ya=c(()=>t("h1",{class:"text-[#000] font-semibold text-[16px] my-2"},"Goals/ Areas of Development",-1)),wa={class:"flex items-center justify-between"},ka={class:"flex item-center"},Fa=c(()=>t("button",{class:"bg-[#F9BE00] h-[33px] w-[144px] text-[#000] rounded-[8px] mx-[20px]"},[t("i",{class:"pi pi-upload"}),F(" Upload")],-1)),Da={class:"flex items-center justify-center"},Ca=c(()=>t("p",{class:"text-[#000] mx-2 text-end font-['poppins']"},"Download the",-1)),Ka=c(()=>t("i",{class:"pi pi-download"},null,-1)),Ta={class:"flex items-end justify-end"},ja=c(()=>t("i",{class:"pi pi-download"},null,-1)),Aa=c(()=>t("span",{class:"mx-1"},null,-1)),Va={key:1},Sa=c(()=>t("div",{class:"my-3"},[t("hr",{class:"border-[1px] w-[100%]"})],-1)),Ba={key:0,class:"flex items-center my-2"},$a=c(()=>t("h1",{class:"font-semibold flex items-center"},[F(" Enter the Form Name "),t("span",{class:"text-[red] text-[20px]"},"*")],-1)),Na={key:1,class:"flex items-center my-2"},Ea=c(()=>t("h1",{class:"flex items-center font-['poppins']"},"Form Name :",-1)),Ua={class:"font-semibold mx-2 font-['poppins']"},Ga=c(()=>t("div",{class:"p-2 mb-[12px]"},[t("hr",{class:"border-[1px] w-[100%]"})],-1)),Ia={key:2,class:""},Oa={key:0,class:"my-3"},Pa={class:"flex justify-between items-center"},La={class:"flex flex-col relative"},Ma={class:"!text-[9px] absolute left-0 w-[200px] top-[34px] flex justify-start text-gray-500 font-['poppins']"},qa={key:0},za={key:0,class:"grid grid-cols-12 gap-4 py-3 px-4 bg-[#DDDD] rounded-md mb-[10px] mt-[30px]"},Wa={class:"text-[13px] flex items-center font-semibold"},Ha={key:0,class:"text-center font-semibold flex items-center"},Ra=c(()=>t("span",{class:"text-gray-400 font-['poppins']"},"Overall -",-1)),Ya=c(()=>t("div",{class:"relative top-[10px] right-[-10px]"},[t("h1",{class:"text-lg font-semibold flex items-center"}," Comments ")],-1)),Xa={class:"accordion"},Ja={class:"accordion-item my-2"},Qa=["onClick"],Za={class:"grid grid-cols-12 gap-2 !font-['poppins']"},eo={key:0,class:"text-[12px] text-[#000] my-1"},to={key:1,class:"font-['poppins'] !line-clamp-1 !break-all text-[12px]"},so={key:0,class:"mx-1"},ao=["onClick"],oo={key:2,class:"w-[170px]"},lo={class:"text-[12px] text-[#000] my-1"},io={key:0,class:"grid grid-cols-12 items-center"},ro={class:"flex justify-start col-span-6 p-[20px]"},no={class:"flex items-center justify-start"},po={class:"text-[#8B8B8B] mx-2"},co={class:"text-[#000] mx-2"},uo={class:"text-[#000] mx-2"},mo={class:"col-span-2 flex justify-center"},_o={class:"col-span-2 flex justify-center"},fo={class:"text-[12px] text-[#000] my-1"},vo={class:"col-span-2"},go={class:"border-[1px] p-3 mt-3 bg-[#ffe9c8ca]"},xo={class:"grid grid-cols-12 items-center"},bo={class:"flex justify-start col-span-6"},ho={class:"flex items-center justify-center"},yo={class:"text-[#8B8B8B] mx-2"},wo={class:"text-[#000] mx-2"},ko={class:"text-[#000] mx-2"},Fo={class:"col-span-2 flex justify-center relative"},Do={key:0},Co={class:"col-span-2 flex justify-center"},Ko={class:"absolute top-[-25px] text-[#8b8b8b] font-['poppins']"},To={key:1,class:"text-[12px] text-[#000] my-1"},jo={class:"col-span-2"},Ao={key:1,class:"flex justify-center items-center my-4"},Vo={key:3},So={key:0},Bo={key:0,class:"grid grid-cols-12 gap-4 py-3 px-4 my-2 bg-[#DDDD] rounded-md font-['poppins']"},$o={key:0,class:"text-sm font-semibold text-center"},No=c(()=>t("div",null,null,-1)),Eo={key:0,class:"!break-all"},Uo={key:1,class:"font-['poppins'] line-clamp-1 !line-clamp-1 !break-all"},Go={key:0,class:"mx-1"},Io=["onClick"],Oo=c(()=>t("div",null,null,-1)),Po={key:0,class:"flex justify-center items-center col-span-2 absolute right-10 top-10"},Lo=["onClick"],Mo=["onClick"],qo=["onClick"],zo={key:1,class:"grid grid-cols-2 gap-2 mt-2"},Wo={for:"",class:"text-[12px] text-[#757575] my-2"},Ho={key:3,class:"font-semibold text-red-400 fs-6"},Ro=c(()=>t("div",null,null,-1)),Yo={class:"flex justify-start items-center relative top-[14px]"},Xo=c(()=>t("i",{class:"pi pi-check"},null,-1)),Jo=[Xo],Qo=c(()=>t("i",{class:"pi pi-times"},null,-1)),Zo=[Qo],el={key:2,class:"flex justify-center my-[40px]"},tl=c(()=>t("i",{class:"pi pi-plus",style:{"font-size":"1rem"}},null,-1)),sl=c(()=>t("p",null,"Add more",-1)),al=[tl,sl],ol={style:{height:"20rem"},class:"relative rounded-lg overflow-hidden"},ll={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#9DC284] flex justify-center items-center",style:{height:"9rem"}},il={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[20px] object-cover absolute box-border",style:{height:"19rem"}},rl=c(()=>t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Close",-1)),nl=c(()=>t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to close this Sidebar?",-1)),dl={class:"flex justify-center items-center pt-6 gap-3"},pl={style:{height:"20rem"},class:"relative rounded-lg overflow-hidden"},cl={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#9DC284] flex justify-center items-center",style:{height:"9rem"}},ul={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[20px] object-cover absolute box-border",style:{height:"19rem"}},ml=c(()=>t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Delete",-1)),_l=c(()=>t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to delete the current KPI/OKR Data?",-1)),fl={class:"flex justify-center items-center pt-6 gap-3"},vl={style:{height:"25rem"},class:"relative rounded-lg overflow-hidden"},gl={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#B14B4B] flex justify-center items-center",style:{height:"9rem"}},xl={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[22px] box-border",style:{height:"22rem"}},bl=c(()=>t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Reject",-1)),hl=c(()=>t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to Reject the KPI/OKR Form?",-1)),yl={class:"flex justify-center items-center pt-6 gap-3"},wl={style:{height:"20rem"},class:"relative rounded-lg overflow-hidden"},kl={class:"m-0 p-0 fixed rounded-t-lg top-0 w-[100%] left-0 right-0 bg-[#B14B4B] flex justify-center items-center",style:{height:"9rem"}},Fl={class:"flex flex-col justify-center items-center gap-2 m-5 pt-[20px] object-cover absolute box-border",style:{height:"19rem"}},Dl=c(()=>t("p",{class:"text-center font-bold text-2xl pt-4 box-border"},"Revoke",-1)),Cl=c(()=>t("p",{class:"text-center font-bold text-lg"},"Are you sure you want to Revoke this KPIOKR Form?",-1)),Kl={class:"flex justify-center items-center pt-6 gap-3"},Tl={__name:"teamAppraisal",setup(oe){const Q=Ze(),s=Je(),k=Qe(),pe=qe(),T=_(1),C=_(!1),j=_();_();const x=_("Creation"),A=_(""),L=_(!1),M=_(!1),ce=_({global:{value:null,matchMode:Xe.CONTAINS}});_(1),_(!1);const q=_(!1),z=_(),le=_(),ue=_(),me=_(!1);_(!1);const W=_(0);_(0),_(!1);const h=_(),N=_(!1),I=_();_();const Z=_(),ee=_(),te=_(),ie=_(),re=_(!0);_(),_();const H=_(!1),R=_(!1),S=_(!0),_e=_(""),se=_(null);function De(l){se.value=se.value===l?null:l}const Ce=_();_(!0);function fe(l,o){h.value=o}const Y=(l,o,m)=>{if(te.value==o&&ee.value===l&&m.length>5)return!0};ze(async()=>{let l;await Q.getCurrentUserCode().then(m=>{l=m.data,le.value=m.data,j.value=m.data});const o=2;await s.getTeamAppraisalDashboardDetails(l),await s.getPmsConfiguration(o,l),await s.getKPIFormAsDropdown(l),await s.getDashboardCardDetails_TeamAppraisal(l,2)});const Ke=(l,o)=>{const m=o;m>=0&&m<l.length&&(l.splice(m,1),O(l))},be=l=>!/\d/.test(l),he=(l,o,m)=>{s.createKpiForm.form_details[l]?s.createKpiForm.form_details[l][o]=m:console.log("Index out of range or form_details is not an array.")},Te=(l,o,m,v)=>{if(s.createKpiForm.form_details[l].reviews_review){s.createKpiForm.form_details[l].reviews_review[o][m]=v;let U=/\d/.test(s.createKpiForm.form_details[l].reviews_review[o].kpi_review);console.log(s.createKpiForm.form_details[l].reviews_review[o].kpi_review),console.log(s.createKpiForm.form_details[l].target),s.createKpiForm.form_details[l].reviews_review[o].kpi_review==v&&(s.createKpiForm.form_details[l].reviews_review[o].kpi_percentage=""),U?(console.log("kpi_weightage:: num"),s.createKpiForm.form_details[l].reviews_review[o].kpi_percentage=Math.round(parseInt(s.createKpiForm.form_details[l].reviews_review[o].kpi_review)/parseInt(s.createKpiForm.form_details[l].target)*parseInt(s.createKpiForm.form_details[l].kpi_weightage))):(console.log("kpi_weightage:: num else"),s.createKpiForm.form_details[l].reviews_review[o].kpi_percentage=0)}else console.log("Index out of range or form_details is not an array.")},je=(l,o,m,v)=>{s.createKpiForm.form_details[l].reviews_review?(s.createKpiForm.form_details[l].reviews_review[o][m]=v,s.createKpiForm.form_details[l].target.toUpperCase()===s.createKpiForm.form_details[l].reviews_review[o].kpi_review.toUpperCase()?s.createKpiForm.form_details[l].reviews_review[o].kpi_percentage=parseInt(s.createKpiForm.form_details[l].kpi_weightage):s.createKpiForm.form_details[l].reviews_review[o].kpi_percentage=0):console.log("Index out of range or form_details is not an array.")},Ae=(l,o,m)=>{s.createKpiForm.form_details[l].assignee_review},E=l=>ue.value===l,ye=l=>{if(l)return l.map(m=>Object.entries(m).map(([v,U])=>({title:v,value:U})))},w=(l,o)=>{if(l)return l.find(m=>m.title===o)},Ve=l=>{if(l){let o=String.fromCharCode(l.keyCode);if(/^[0-9]+$/.test(o))return!0;l.preventDefault()}},Se=ae(()=>{const l={};for(const o of s.selected_header?s.selected_header:[])l[o.header_name]={required:tt};return l}),P=et(Se,s.addKra),Be=()=>{if(P.value.$validate(),P.value.$error)console.log("Form failed validation");else{const l=Ie(s.selected_header);Ge(l,s.addKra)?pe.add({severity:"warn",summary:"Validation",detail:"Fill missing fields",life:3e3}):(N.value=!1,s.addFormDetails(s.addKra),O(s.createKpiForm.form_details),s.addKra={},P.value.$reset())}};function $e(l){if(l)return l.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")}const Ne=ae(()=>{s.createNewTeamGoals.calendar_type=$e(s.createNewTeamGoals.calendar_type)}),Ee=ae(()=>{s.createNewTeamGoals.frequency=Ue(s.createNewTeamGoals.frequency)});function Ue(l){if(l)return l.charAt(0).toUpperCase()+l.slice(1)}_([]);const Ge=(l,o)=>{const m=Object.keys(l),v=Object.keys(o),U=v.filter(J=>!m.includes(J)),K=m.filter(J=>!v.includes(J));if(U.length>0||K.length>0)return!0},Ie=l=>{const o={};return l.forEach(m=>{const{header_name:v}=m;o[v]=null}),o};let we=0;const Oe=l=>{let o=0;if(console.log("totalKPICount"+we),we++,l.forEach(m=>{/\d/.test(m.kpi_weightage)&&(W.value=parseInt(m.kpi_weightage)),console.log("The value is not a number."),m.kpi_weightage!==void 0&&!isNaN(parseInt(m.kpi_weightage))&&(o+=parseInt(m.kpi_weightage),W.value=o,console.log(W.value))}),o>100)pe.add({severity:"error",summary:"Validation",detail:"The combined weightage of KPIs or OKRs must equal to 100% ",life:3e3});else if(o<100)pe.add({severity:"error",summary:"Validation",detail:"The combined weightage of KPIs or OKRs must equal to 100%",life:3e3});else if(o==100){let m=j;s.saveKpiForm(m,x.value==="view"||x.value==="Reject Edit option"?s.currentlySavedFormId=h.value.kpi_form_details.form_id:"")}};let ke=0;const O=ae(()=>{console.log("totalKPIReviewCount"+ke);let l=s.createKpiForm.form_details;ke++;let o=0;return l.forEach(m=>{m.kpi_weightage!==void 0&&!isNaN(parseInt(m.kpi_weightage))&&(o+=parseInt(m.kpi_weightage),W.value=o)}),console.log(o),o}),ve=(l,o)=>l.filter(v=>!o.includes(v.title)),Pe=()=>Z.value=k.filterDepartmentWiseEmployee(s.EmployeeOptions,s.createNewTeamGoals.department_id),X=ae(()=>{let l=0;return s.createKpiForm.form_details.forEach(m=>{(/\d/.test(m.assignee_review.kpi_percentage)||m.assignee_review.kpi_percentage!==void 0&&!isNaN(parseInt(m.assignee_review.kpi_percentage)))&&(l+=parseInt(m.assignee_review.kpi_percentage),W.value=l)}),l});return(l,o)=>{const m=G("Toast"),v=G("Column"),U=G("DataTable"),K=G("InputText"),J=G("MultiSelect"),Le=G("Dropdown"),Fe=G("Sidebar"),ne=G("Textarea"),de=G("Dialog"),ge=We("tooltip");return i(),r(V,null,[a(s).canShowLoading?(i(),B(st,{key:0,class:"absolute z-50 bg-white"})):p("",!0),t("div",null,[f(m),p("",!0),t("div",nt,[t("div",dt,[pt,t("div",ct,[ut,t("span",mt,d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[0].total_count:"")+"/"+d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[0].actual_count:""),1)])]),t("div",_t,[ft,t("div",vt,[gt,t("span",xt,d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[1].total_count:"")+"/"+d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[1].actual_count:""),1)])]),t("div",bt,[ht,t("div",yt,[wt,t("span",kt,d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[2].total_count:"")+"/"+d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[2].actual_count:""),1)])]),t("div",Ft,[Dt,t("div",Ct,[Kt,t("span",Tt,d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[3].total_count:"")+"/"+d(a(s).DashboardCardDetails_TeamAppraisal?a(s).DashboardCardDetails_TeamAppraisal[3].actual_count:""),1)])])]),t("div",jt,[t("ul",At,[t("li",Vt,[t("a",{class:g(["px-3 position-relatie border-0 font-['poppins'] text-[12px] text-[#001820]",[T.value===3?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:o[0]||(o[0]=e=>(T.value=3,a(s).createKpiForm.form_details=""))},[F(" Pending "),t("span",{class:g(["relative left-[60px] top-[-25px] flex h-3 w-3 !z-10",a(s).teamDashboardPublishedFormList&&a(k).filterTeamAppraisalPendingSource(a(s).teamDashboardPublishedFormList,1,"").length>0?"":"hidden"])},$t,2)],2),T.value===3?(i(),r("div",Nt)):p("",!0)]),t("li",Et,[t("a",{class:g(["px-2 position-relati3e border-0 font-['poppins'] text-[12px] text-[#001820]",[T.value===1?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:o[1]||(o[1]=e=>(T.value=1,a(s).createKpiForm.form_details=""))}," CURRENT ",2),T.value===1?(i(),r("div",Ut)):p("",!0)]),t("li",Gt,[t("a",{class:g(["text-center px-3 border-0 font-['poppins'] text-[12px] text-[#001820]",[T.value===2?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:o[2]||(o[2]=e=>(T.value=2,a(s).createKpiForm.form_details="")),role:"tab","aria-controls":"","aria-selected":"true"}," COMPLETED ",2),T.value===2?(i(),r("div",It)):p("",!0)])]),t("div",Ot,[T.value==1?(i(),r("button",{key:0,onClick:o[3]||(o[3]=e=>(C.value=!0,a(s).getPmsConfiguration(2,le.value),A.value="",a(s).createKpiForm.form_details="")),class:"bg-[#F9BE00] text-[13px] rounded-md text-[#000] !w-[120px] h-[35px] font-semibold flex justify-center items-center"},[Pt,F(" Add Goals")])):p("",!0)])]),T.value==1?(i(),r("div",Lt,[f(U,{paginator:"",rows:5,scrollable:"",value:a(k).filter_team_current(a(s).teamDashboardPublishedFormList,1,""),rowsPerPageOptions:[5,10,20,50],class:"w-[100%]",filters:ce.value},{default:y(()=>[f(v,{field:"assignee_name",header:"Employee",style:{}},{body:y(e=>[t("div",Mt,[e.data.avatar_or_shortname.type=="shortname"?(i(),r("span",{key:0,class:g(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",a(Q).getBackgroundColor(e.index)]),style:{"vertical-align":"middle"}},d(e.data.avatar_or_shortname.data),3)):(i(),r("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${e.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,qt)),t("span",zt,[t("span",Wt,d(e.data.assignee_name.substring(0,14)+".."),1),t("span",Ht,d(e.data.assignee_code),1)])])]),_:1}),f(v,{field:"manager_name",header:"Manager",style:{}},{body:y(e=>[t("div",Rt,[t("span",Yt,d(e.data.manager_name),1),t("span",Xt,d(e.data.manager_code),1)])]),_:1}),f(v,{field:"assignment_period",header:"Assignment Period",style:{}}),f(v,{field:"score",header:"Score",style:{}}),f(v,{header:"Status",style:{}},{body:y(({data:e})=>[t("span",Jt,d(e.status),1)]),_:1}),f(v,{field:"",header:"Actions",style:{"min-width":"6rem"}},{body:y(({data:e})=>[t("div",Qt,[!e.is_assignee_submitted==1?(i(),r("button",{key:0,onClick:u=>(a(s).createTeamKpiForm=!0,a(s).createKpiForm={...e.kpi_form_details},a(s).selected_header=e.form_header,h.value=e,a(s).form_id=e.id,z.value=e.id,x.value="view",S.value=!1,a(s).getSelfTimeLine(j.value,e.id)),class:"bg-[#F9BE00] rounded-md flex justify-center items-center h-[20px] w-[30px] text-black hover:bg-[#DAAA13]"},ts,8,Zt)):p("",!0),e.is_assignee_submitted==1?(i(),r("button",{key:1,onClick:u=>(a(s).createTeamKpiForm=!0,I.value="save",a(s).getSelfTimeLine(j.value,e.id),a(s).selected_header=e.form_header,a(s).createKpiForm={...e.kpi_form_details},fe(e.reviewer_details,e),_e.value="Review",a(s).canShowAssigneeReviewForm=!a(k).pmsKpiFormAcceptance([e]),a(s).record_id=e.id,l.currentlyRecords=e.id,e.is_assignee_submitted==1?q.value=!0:q.value=!1,S.value=!1),class:"bg-[#F9BE00] px-4 py-1 !text-[13px] rounded-md text-[#ffff] h-[33px] !font-['poppins']"}," Review",8,ss)):p("",!0)])]),_:1})]),_:1},8,["value","filters"])])):p("",!0),T.value==2?(i(),r("div",as,[f(U,{scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],value:a(k).filterTeamAppraisalCurrentSource(a(s).teamDashboardPublishedFormList,1,j.value),class:"w-[100%]",filters:ce.value},{default:y(()=>[f(v,{field:"assignee_name",header:"Employee",style:{}},{body:y(e=>[t("div",os,[e.data.avatar_or_shortname.type=="shortname"?(i(),r("span",{key:0,class:g(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",a(Q).getBackgroundColor(e.index)]),style:{"vertical-align":"middle"}},d(e.data.avatar_or_shortname.data),3)):(i(),r("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${e.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,ls)),t("span",is,[t("span",rs,d(e.data.assignee_name.substring(0,14)+".."),1),t("span",ns,d(e.data.assignee_code),1)])])]),_:1}),f(v,{field:"manager_name",header:"Manager",style:{}},{body:y(e=>[t("div",ds,[t("span",ps,d(e.data.manager_name),1),t("span",cs,d(e.data.manager_code),1)])]),_:1}),f(v,{field:"assignment_period",header:"Assignment Period",style:{}}),f(v,{field:"score",header:"Score",style:{}}),f(v,{header:"Status",style:{}},{body:y(({data:e})=>[t("span",us,d(e.status),1)]),_:1}),f(v,{field:"",header:"Actions",style:{"min-width":"6rem"}},{body:y(({data:e})=>[t("div",ms,[!e.is_assignee_submitted==1?(i(),r("button",{key:0,onClick:u=>(a(s).createTeamKpiForm=!0,a(s).createKpiForm={...e.kpi_form_details},a(s).selected_header=e.form_header,h.value=e,a(s).form_id=e.id,z.value=e.id,x.value="view",S.value=!1,a(s).getSelfTimeLine(j.value,e.id)),class:"bg-[#F9BE00] rounded-md flex justify-center items-center h-[20px] w-[30px] text-black hover:bg-[#DAAA13]"},vs,8,_s)):p("",!0),e.is_assignee_submitted==1?(i(),r("button",{key:1,onClick:u=>(a(s).createTeamKpiForm=!0,a(s).createKpiForm={...e.kpi_form_details},a(s).selected_header=e.form_header,a(s).getSelfTimeLine(j.value,e.id),fe(e.reviewer_details,e),_e.value="Review",a(s).canShowAssigneeReviewForm=!a(k).pmsKpiFormAcceptance([e]),l.currentlyRecords=e.id,e.is_assignee_submitted==1?q.value=!0:q.value=!1,S.value=!1),class:"bg-[#F9BE00] h-[20px] w-[30px] rounded-md text-[#000] !font-['poppins']"},bs,8,gs)):p("",!0)])]),_:1})]),_:1},8,["value","filters"])])):p("",!0),T.value==3?(i(),r("div",hs,[f(U,{scrollable:"",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],value:a(k).filterTeamAppraisalPendingSource(a(s).teamDashboardPublishedFormList,1,""),class:"w-[100%]",filters:ce.value},{default:y(()=>[f(v,{field:"assignee_name",header:"Employee",style:{}},{body:y(e=>[t("div",ys,[e.data.avatar_or_shortname.type=="shortname"?(i(),r("span",{key:0,class:g(["font-semibold text-white rounded-full w-[34px] h-[34px] font-['poppins'] text-[12px] flex justify-center items-center",a(Q).getBackgroundColor(e.index)]),style:{"vertical-align":"middle"}},d(e.data.avatar_or_shortname.data),3)):(i(),r("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${e.data.avatar_or_shortname.data}`,srcset:"",alt:""},null,8,ws)),t("span",ks,[t("span",Fs,d(e.data.assignee_name.substring(0,14)+".."),1),t("span",Ds,d(e.data.assignee_code),1)])])]),_:1}),f(v,{field:"manager_name",header:"Manager",style:{}},{body:y(e=>[t("div",Cs,[t("span",Ks,d(e.data.manager_name),1),t("span",Ts,d(e.data.manager_code),1)])]),_:1}),f(v,{field:"assignment_period",header:"Assignment Period",style:{}}),f(v,{field:"score",header:"Score",style:{}}),f(v,{header:"Status",style:{}},{body:y(({data:e})=>[e.status.toUpperCase()=="COMPLETED"?(i(),r("div",js,[t("span",As,d(e.status),1)])):(i(),r("div",Vs,[t("span",Ss,d(e.status),1)]))]),_:1}),f(v,{field:"",header:"Actions",style:{"min-width":"6rem"}},{body:y(({data:e})=>[t("div",Bs,[!e.is_assignee_submitted==1?(i(),r("button",{key:0,onClick:u=>(a(s).createTeamKpiForm=!0,a(s).canShowAssigneeReviewForm=!1,a(s).selected_header=e.form_header,a(s).createKpiForm={...e.kpi_form_details},a(s).getSelfTimeLine(j.value,e.id),A.value="",h.value=e,a(s).form_id=e.id,z.value=e.id,x.value="view",S.value=!1),class:"bg-[#F9BE00] rounded-md flex justify-center items-center h-[20px] w-[30px] text-black hover:bg-[#DAAA13]"},Es,8,$s)):p("",!0),e.is_assignee_submitted==1?(i(),r("button",{key:1,onClick:u=>(a(s).createTeamKpiForm=!0,a(s).createKpiForm={...e.kpi_form_details},a(s).selected_header=e.form_header,a(s).getSelfTimeLine(j.value,e.id),fe(e.reviewer_details,e),_e.value="Review",a(s).canShowAssigneeReviewForm=!a(k).pmsKpiFormAcceptance([e]),l.currentlyRecords=e.id,e.is_assignee_submitted==1?q.value=!0:q.value=!1,S.value=!1),class:"bg-[#F9BE00] px-4 py-1 !text-[13px] rounded-md text-[#ffff] h-[33px] !font-['poppins']"}," Review",8,Us)):p("",!0)])]),_:1})]),_:1},8,["value","filters"])])):p("",!0),f(Fe,{visible:C.value,"onUpdate:visible":o[16]||(o[16]=e=>C.value=e),position:"right",style:{width:"60vw !important"}},{default:y(()=>[Gs,t("i",{class:"pi pi-times top-4 right-4 absolute p-2 text-blue-200 cursor-pointer",onClick:o[4]||(o[4]=e=>C.value=!1)}),t("div",Is,[t("div",Os,[t("div",Ps,[Ls,F(" "+d(a(Ne))+" ",1),f(K,{type:"text",modelValue:a(s).createNewTeamGoals.calendar_type,"onUpdate:modelValue":o[5]||(o[5]=e=>a(s).createNewTeamGoals.calendar_type=e),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue"])]),t("div",Ms,[qs,f(K,{type:"text",modelValue:a(s).createNewTeamGoals.year,"onUpdate:modelValue":o[6]||(o[6]=e=>a(s).createNewTeamGoals.year=e),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue"])])]),t("div",zs,[t("div",Ws,[Hs,F(" "+d(a(Ee))+" ",1),f(K,{type:"text",modelValue:a(s).createNewTeamGoals.frequency,"onUpdate:modelValue":o[7]||(o[7]=e=>a(s).createNewTeamGoals.frequency=e),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])]),t("div",Rs,[Ys,f(K,{type:"text",modelValue:a(s).createNewTeamGoals.assignment_period,"onUpdate:modelValue":o[8]||(o[8]=e=>a(s).createNewTeamGoals.assignment_period=e),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",Xs,[t("div",Js,[Qs,f(J,{modelValue:a(s).createNewTeamGoals.department_id,"onUpdate:modelValue":o[9]||(o[9]=e=>a(s).createNewTeamGoals.department_id=e),display:"chip",options:a(s).departmentOptions,optionLabel:"name",optionValue:"id",onChange:Pe,placeholder:"Select Department",maxSelectedLabels:10,class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]"},null,8,["modelValue","options"])]),t("div",Zs,[ea,f(J,{modelValue:a(s).createNewTeamGoals.assignee_id,"onUpdate:modelValue":o[10]||(o[10]=e=>a(s).createNewTeamGoals.assignee_id=e),class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6] border-[1px]",options:Z.value,optionLabel:"name",optionValue:Z.value?Z.value.form_assigned==1?"":l.id:"",placeholder:"Select Employee",display:"chip"},{option:y(e=>[t("div",ta,[t("div",null,d(e.option.name),1),e.option.form_assigned==1?(i(),r("div",sa,d(e.option.form_assigned==1?"Form Assigned":""),1)):p("",!0)])]),_:1},8,["modelValue","options","optionValue"])])]),t("div",aa,[t("div",oa,[la,f(K,{type:"text",modelValue:a(s).createNewTeamGoals.manager_name,"onUpdate:modelValue":o[11]||(o[11]=e=>a(s).createNewTeamGoals.manager_name=e),disabled:"",class:"h-10 !bg-[#DDDDDD] !border-[#F6F6F6]"},null,8,["modelValue"])])]),t("div",ia,[ra,na,t("div",da,[pa,f(Le,{modelValue:a(s).createNewTeamGoals.kpi_form_id,"onUpdate:modelValue":o[12]||(o[12]=e=>a(s).createNewTeamGoals.kpi_form_id=e),options:a(s).existingKpiFormOptions,optionLabel:"form_name",optionValue:"id",placeholder:"Select KPI form",class:"h-10 mx-2 w-[250px]"},null,8,["modelValue","options"]),t("button",{onClick:o[13]||(o[13]=e=>a(s).createNewTeamGoals.kpi_form_id?(a(s).createKpiForm.form_details.length==0?N.value=!0:N.value=!1,a(s).createTeamKpiForm=!0,a(s).canShowAssigneeReviewForm=!1,S.value=!0,x.value="View",C.value=!1,me.value=!0,a(s).getKPIFormDetails(a(s).createNewTeamGoals.kpi_form_id)):l.showWarn()),class:g(["h-[33px] w-[144px] rounded-[8px]",[a(s).createNewTeamGoals.kpi_form_id?"bg-[#F9BE00]":" bg-[#DDDDDD] "]]),severity:"warning"},"View Form",2)])]),ca,t("div",ua,[t("button",{class:"bg-[#001820] text-[#ffff] rounded-[8px] p-2 mx-4 w-[144px] h-[33px]",onClick:o[14]||(o[14]=e=>a(s).createNewTeamGoals.department_id?a(s).createNewTeamGoals.assignee_id?(a(s).createTeamKpiForm=!0,S.value=!0,x.value="Creation",A.value="save",me.value=!0,C.value=!1,a(s).createKpiForm.form_details=[],N.value=!0,a(s).createKpiForm.form_name="OKR_FORM _"+j.value+"_"+a(Q).current_user_name+"_"+a(s).createNewGoals.assignment_period.toUpperCase()):a(k).toastmessage("warn","Select Employee "):a(k).toastmessage("warn","Select Department "))}," Create KPI Form "),t("button",{class:g(["text-[#000] rounded-[8px] w-[144px] !h-[33px]",[a(s).createNewTeamGoals.kpi_form_id?"bg-[#F9BE00]":"bg-[#DDDD]"]]),onClick:o[15]||(o[15]=e=>a(s).createNewTeamGoals.department_id?a(s).createNewTeamGoals.assignee_id?a(s).createNewTeamGoals.kpi_form_id?(a(s).publishTeamForm(le.value,2),C.value=!1,N.value=!1,a(s).createTeamKpiForm=!1,a(s).createNewTeamGoals.kpi_form_id="",Z.value=""):a(k).toastmessage("error","Select KPI form"):a(k).toastmessage("warn","Select Employee "):a(k).toastmessage("warn","Select Department "))}," Publish",2)])])]),_:1},8,["visible"]),f(Fe,{visible:a(s).createTeamKpiForm,"onUpdate:visible":o[38]||(o[38]=e=>a(s).createTeamKpiForm=e),position:"right",class:"relative !z-0",style:{width:"80vw !important",zindex:"0 !important"}},{default:y(()=>[t("h2",ma,[F(" KPI OR OKR Form "+d(x.value)+" ",1),t("i",{class:"pi pi-times text-blue-200",type:"button",onClick:o[17]||(o[17]=e=>H.value=!0),style:{"font-size":"1rem"}})]),t("div",_a,[t("div",fa,[x.value=="view"&&!a(s).canShowAssigneeReviewForm?(i(),r("div",va,[(i(!0),r(V,null,$(a(s).SelfTimeLine,(e,u)=>(i(),r("div",{class:g(["flex justify-center items-center",u==0?"":"w-full"])},[t("div",{class:g(["border-[1px] border-dashed border-[#82AB7B] w-[100%]",u==0?" border-[1px] border-dashed border-[#ffff]":""])},null,2),t("div",ga,[t("button",{class:g(["py-2 rounded-md font-[poppins] px-2 w-[160px] text-center whitespace-nowrap",[e.status==1||e.status==!0?"bg-[#82AB7B] text-[#ffff] ":e.status==0?"border-[1px] bg-[white] border-[rgb(130,171,123)] text-[#82AB7B]":" bg-[#E6E6E6] text-[#8B8B8B]"]])},d(e.title),3),t("div",xa,[F(" EXP: "+d(e.expected_date)+" -",1),t("span",ba,d(e.actual_date),1)])])],2))),256))])):p("",!0)]),S.value?(i(),r("div",ha,[ya,t("div",wa,[t("div",ka,[t("input",{type:"file",accept:".xlsx",class:"w-[250px] form-control file",onChange:o[18]||(o[18]=e=>a(k).convertExcelIntoArray(e))},null,32),Fa]),t("div",Da,[Ca,t("button",{onClick:o[19]||(o[19]=e=>a(s).downloadSampleForm(j.value)),class:"bg-yellow-400 text-[#000] rounded-md p-2 h-[33px] w-[184px]"},[Ka,F(" Sample File")])])])])):p("",!0),t("div",Ta,[h.value&&(h.value.status=="Completed"||h.value.status=="Employee Self Reviewed")?(i(),r("button",{key:0,onClick:o[20]||(o[20]=e=>(a(s).btn_download=!a(s).btn_download,a(s).downloadFormPMSReport())),class:"bg-yellow-400 text-[#000] rounded-md py-2 px-2 h-[33px] w-[100px]"},[ja,F(),Aa,F("Report")])):p("",!0)]),S.value?(i(),r("div",Va,[Sa,me.value?(i(),r("div",Ba,[$a,f(K,{type:"text",modelValue:a(s).createKpiForm.form_name,"onUpdate:modelValue":o[21]||(o[21]=e=>a(s).createKpiForm.form_name=e),class:"h-10 mx-4 w-[60%]",placeholder:"Enter the Form Name"},null,8,["modelValue"])])):(i(),r("div",Na,[Ea,t("span",Ua,d(a(s).createKpiForm.form_name),1)])),Ga])):p("",!0),a(s).canShowAssigneeReviewForm?(i(),r("div",Ia,[a(s).createKpiForm.form_details?(i(),r("div",Oa,[t("div",Pa,[(i(!0),r(V,null,$(a(s).SelfTimeLine,(e,u)=>(i(),r("div",{class:g(["flex justify-center items-center border-[#000]",u==0?"":"w-full"])},[t("div",{class:g(["border-[1px] border-dashed border-[#82AB7B] w-[100%]",u==0?" border-[1px] border-dashed border-transparent":""])},null,2),t("div",La,[t("button",{class:g(["py-2 rounded-md font-[poppins] px-2 w-[160px] text-center whitespace-nowrap",[e.status==1||e.status==!0?"bg-[#82AB7B] text-[#ffff] ":e.status==0?"border-[1px] bg-[white] border-[rgb(130,171,123)] text-[#82AB7B]":" bg-[#E6E6E6] text-[#8B8B8B]"]])},d(e.title),3),t("div",Ma,[F(" EXP: "+d(e.expected_date)+" -",1),t("span",{class:g(["!text-[9px]",e.is_overdue===0?" text-[green]":"text-[red]"])},d(e.actual_date),3)])])],2))),256))]),a(s).createKpiForm.form_details?(i(),r("div",qa,[a(s).selected_header&&a(s).createKpiForm.form_details&&a(s).createKpiForm.form_details.length>0?(i(),r("div",za,[(i(!0),r(V,null,$(a(s).selected_header,(e,u)=>(i(),r("div",{class:g(["",[0,1].includes(u)?"col-span-3 flex item-center justify-start":[2,4].includes(u)?"col-span-2 flex item-center justify-center":"col-span-2 "])},[t("h1",Wa,d(e?e.alias_name?e.alias_name:e.header_label?e.header_label:null:null),1),e&&e.header_name=="kpi_weightage"?(i(),r("p",Ha,[Ra,t("span",{class:g(["font-['poppins']",[a(X)>=100?" text-green-500":""]])},d(a(X)?a(X):"")+" %",3)])):p("",!0)],2))),256)),Ya])):p("",!0)])):p("",!0),t("div",Xa,[(i(!0),r(V,null,$(ye(a(s).createKpiForm.form_details),(e,u)=>(i(),r("div",{key:u},[t("div",Ja,[t("div",{class:"accordion-header items-center flex justify-center",onClick:n=>De(u)},[t("span",null,[t("i",{class:g(["pi pi-chevron-right ml-2 mx-2",se.value===u?" delay-100 rotate-[90deg]":""])},null,2)]),(i(!0),r(V,null,$(ve(e,["id","record_id","reviews_review"]),(n,D)=>(i(),r("div",Za,[t("div",{class:g(["flex justify-start !line-clamp-4 h-[100%]",[0,1].includes(D)?" w-[250px] ":"w-[120px]"])},[!["id","record_id","assignee_review"].includes(n.title)&&Y(D,u,n.value)?xe((i(),r("h1",eo,[F(d(n.value)+" ",1),n.value.length>200&&Y(D,u,n.value)&&!E(u)?(i(),r("button",{key:0,class:"text-blue-400 font-['poppins']",onClick:o[22]||(o[22]=b=>(ee.value="",te.value=""))},"less...")):p("",!0)])),[[ge,n.value]]):p("",!0),!["id","record_id","assignee_review"].includes(n.title)&&!Y(D,u,n.value)?xe((i(),r("h1",to,[F(d(n.value?n.value.length>80?n.value.substring(0,80)+".. ":n.value:"")+" ",1),n.title=="kpi_weightage"?(i(),r("span",so,"%")):p("",!0),n.value.length>80&&!Y(D,u,n.value)&&!E(u)?(i(),r("button",{key:1,onClick:b=>(ee.value=D,te.value=u),class:"text-blue-400 font-['poppins']"},"more...",8,ao)):p("",!0)])),[[ge,n.value]]):p("",!0),["assignee_review"].includes(n.title)?(i(),r("div",oo,[xe((i(),r("h1",lo,[F(d(n.value.comments?n.value.comments.length>20?n.value.comments.substring(0,20)+"..":n.value.comments:""),1)])),[[ge,n.value.comments]])])):p("",!0)],2)]))),256))],8,Qa),f(He,null,{default:y(()=>[se.value===u?(i(),r("div",{key:0,class:g([se.value===u?" !delay-200 ":"delay-200","accordion-content bg-[#fff7eb] !font-['poppins'] border-[1px]"])},[w(e,"assignee_review").value?(i(),r("div",io,[t("div",ro,[t("div",no,[t("h1",po,d(w(e,"assignee_review").value.reviewer_level)+" -",1),t("h1",co,d(w(e,"assignee_review").value.assignee_name),1),t("h1",uo,"("+d(w(e,"assignee_review").value.assignee_code)+") ",1)])]),t("div",mo,d(l.singleRecord)+" "+d(w(e,"assignee_review").value.kpi_review),1),t("div",_o,[t("h1",fo,d(w(e,"assignee_review").value.kpi_percentage),1)]),t("div",vo,d(w(e,"assignee_review").value.kpi_comments),1)])):p("",!0),w(e,"reviews_review").value?(i(!0),r(V,{key:1},$(w(e,"reviews_review").value,(n,D)=>(i(),r("div",go,[t("div",xo,[t("div",bo,[t("div",ho,[t("h1",yo,d(n.reviewer_level)+" - ",1),t("h1",wo,d(n.reviewer_name),1),t("h1",ko,d(n.reviewer_code),1)])]),t("div",Fo,[h.value.is_reviewer_submitted==1?(i(),r("span",Do,d(n.kpi_review),1)):p("",!0),be(w(e,"target")?w(e,"target").value:"")&&h.value.is_reviewer_submitted==""?(i(),B(K,{key:1,onFocusout:b=>(je(u,D,"kpi_review",b.target.value),I.value="save",a(s).fillAssigneeReviewForm(w(l.formDetails,"reviews_review")?w(l.formDetails,"reviews_review").value.id:"",l.currentlyRecords,w(l.formDetails,"assignee_review")?w(l.formDetails,"assignee_review").value.target:"",l.currentlyRecords,w(l.formDetails,"assignee_review")?w(l.formDetails,"target").value:"",a(X))),type:"text",modelValue:n.kpi_review,"onUpdate:modelValue":b=>n.kpi_review=b,class:"h-10 w-24 bg-[#F6F6F6] p-2"},null,8,["onFocusout","modelValue","onUpdate:modelValue"])):p("",!0),!be(w(e,"target")?w(e,"target").value:"")&&h.value.is_reviewer_submitted==""?(i(),B(K,{key:2,onFocusout:b=>(Te(u,D,"kpi_review",b.target.value),I.value="save",l.currentlyRecords,a(X)),type:"text",modelValue:n.kpi_review,"onUpdate:modelValue":b=>n.kpi_review=b,class:"h-10 w-24 bg-[#F6F6F6] p-2"},null,8,["onFocusout","modelValue","onUpdate:modelValue"])):p("",!0)]),t("div",Co,[t("p",Ko,d(h.value.is_assignee_submitted==1?" Achieved KPI ":""),1),h.value.is_assignee_submitted==1&&h.value.is_reviewer_submitted==""?(i(),B(K,{key:0,onFocusout:b=>(Ae(u,"kpi_percentage",b.target.value),I.value="save",a(s).fillAssigneeReviewForm(w(l.formDetails,"assignee_review").value.id,l.currentlyRecords,w(l.formDetails,"assignee_review").value.target,w(l.formDetails,"target").value,a(X))),type:"text",modelValue:n.kpi_percentage,"onUpdate:modelValue":b=>n.kpi_percentage=b,class:"h-10 w-24 my-2 bg-[#F6F6F6] !border-[rgb(246,246,246)] p-2"},null,8,["onFocusout","modelValue","onUpdate:modelValue"])):(i(),r("h1",To,d(n.kpi_percentage),1))]),t("div",jo,[h.value.is_assignee_submitted==1&&h.value.is_reviewer_submitted==""?(i(),B(ne,{key:0,onFocusout:o[23]||(o[23]=b=>I.value="save"),modelValue:n.kpi_comments,"onUpdate:modelValue":b=>n.kpi_comments=b,rows:"2",cols:"10",class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["modelValue","onUpdate:modelValue"])):p("",!0)])])]))),256)):p("",!0)],2)):p("",!0)]),_:2},1024)])]))),128))]),h.value.is_reviewer_submitted==""?(i(),r("div",Ao,[t("button",{class:"border-[1px] border-[#000] font-['poppins'] mx-2 rounded-md p-2",onClick:o[24]||(o[24]=e=>(a(s).createTeamKpiForm=!1,a(s).canShowAssigneeReviewForm=!1))},"cancel"),I.value=="save"?(i(),r("button",{key:0,class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:o[25]||(o[25]=e=>(a(s).saveTeamAppraisalReview(a(s).createKpiForm.form_details,0),I.value="submit"))},"Save")):p("",!0),I.value=="submit"?(i(),r("button",{key:1,class:"bg-yellow-400 text-[white] font-['poppins'] mx-2 rounded-md px-3 py-2",onClick:o[26]||(o[26]=e=>a(s).saveTeamAppraisalReview(a(s).createKpiForm.form_details,1))},"Submit")):p("",!0)])):p("",!0)])):p("",!0)])):(i(),r("div",Vo,[a(s).createKpiForm.form_details?(i(),r("div",So,[a(s).selected_header&&a(s).createKpiForm.form_details&&a(s).createKpiForm.form_details.length>0?(i(),r("div",Bo,[(i(!0),r(V,null,$(a(s).selected_header,(e,u)=>(i(),r("div",{class:g(["",[0,1].includes(u)?" col-span-3 flex items-center justify-start ":[2,4].includes(u)?"col-span-2 flex items-center justify-start ":" col-span-1 flex flex-col items-center justify-center"])},[e.title!="record_id"&&e.title!="assignee_review"?(i(),r("h1",$o,d(e?e.alias_name?e.alias_name:e.header_label?e.header_label:null:null),1)):p("",!0),e&&e.header_name=="kpi_weightage"?(i(),r("p",{key:1,class:g(["text-center",e&&e.header_name=="kpi_weightage"&&a(O)>100?" text-red-500":null])}," Overall "+d(a(O))+" % ",3)):p("",!0)],2))),256)),No])):p("",!0),(i(!0),r(V,null,$(ye(a(s).createKpiForm.form_details),(e,u)=>(i(),r("div",{class:"rounded-lg bg-[#FFF7EB] grid grid-cols-12 gap-4 p-4 my-2 relative",onMouseleave:o[28]||(o[28]=n=>Ce.value="sd")},[(i(!0),r(V,null,$(ve(e,["id","record_id"]),(n,D)=>(i(),r("div",{class:g(["flex justify-center !line-clamp-4",[0,1].includes(D)?"  col-span-3 ":[2,4].includes(D)||D==ve(e,["id","record_id"]).length?"col-span-2":"col-span-1"])},[E(u)?p("",!0):(i(),r("div",{key:0,class:g(["text-[16px] text-[#000] font-['poppins'] max-w-xs my-2",l.readMoreTitle==n.title?" ":""])},[Y(D,u,n.value)&&!E(u)?(i(),r("p",Eo,[F(d(n.value)+" ",1),n.value.length>20&&Y(D,u,n.value)&&!E(u)?(i(),r("button",{key:0,class:"text-blue-400 font-['poppins']",onClick:o[27]||(o[27]=b=>(ee.value="",te.value=""))},"less...")):p("",!0)])):(i(),r("span",Uo,[F(d(n.value?n.value.length>100?n.value.substring(0,100)+".. ":n.value:"")+" ",1),n.title=="kpi_weightage"?(i(),r("span",Go,"%")):p("",!0),n.value&&n.value.length>200?(i(),r("button",{key:1,onClick:b=>(ee.value=D,te.value=u),class:"text-blue-400 font-['poppins']"},"more...",8,Io)):p("",!0)]))],2)),["dimension","kra"].includes(n.title)&&E(u)?(i(),B(ne,{key:1,onInput:b=>he(u,n.title,b.target.value),modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,rows:"3",cols:["dimension"].includes(n.title)?30:20,class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue","cols"])):!["dimension","kra"].includes(n.title)&&E(u)?(i(),B(K,{key:2,onInput:b=>he(u,n.title,b.target.value),type:"text",modelValue:n.value,"onUpdate:modelValue":b=>n.value=b,class:"h-10 !bg-[#DDDDDD] !border-[rgb(246,246,246)] w-[100px] p-2"},null,8,["onInput","modelValue","onUpdate:modelValue"])):p("",!0),Oo],2))),256)),x.value=="Creation"||x.value=="View"||x.value=="view"?(i(),r("div",Po,[E(u)?p("",!0):(i(),r("i",{key:0,class:"pi pi-file-edit mx-2 cursor-pointer",onClick:n=>(ue.value=u,A.value="save",re.value=!1)},null,8,Lo)),E(u)?(i(),r("i",{key:1,class:"pi pi-check mx-2 cursor-pointer",onClick:n=>(a(s).createKpiForm.form_details[u],ue.value=null,A.value="save")},null,8,Mo)):p("",!0),t("i",{class:"pi pi-trash text-[red] mx-2 cursor-pointer",onClick:n=>Ke(a(s).createKpiForm.form_details,u)},null,8,qo)])):p("",!0)],32))),256)),(a(s).selected_header&&x.value=="Creation",!N.value?p("",!0):(i(),r("div",zo,[(i(!0),r(V,null,$(a(s).selected_header,(e,u)=>(i(),r("div",{class:"flex flex-col",key:u},[t("label",Wo,d(e.alias_name?e.alias_name:e.header_label),1),["kpi_weightage"].includes(e.header_name)?(i(),B(K,{key:0,type:"text",modelValue:a(s).addKra[e.header_name],"onUpdate:modelValue":n=>a(s).addKra[e.header_name]=n,class:g(["h-10 !bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2",[a(P)[e.header_name].$error?"p-invalid":"!border-[rgb(246,246,246)] "]]),onKeypress:o[29]||(o[29]=n=>Ve(n)),onInput:()=>{a(s).addKra[e.header_name]>100?a(s).addKra[e.header_name]=null:a(s).addKra[e.header_name]==0&&(a(s).addKra[e.header_name]=null)}},null,8,["modelValue","onUpdate:modelValue","onInput","class"])):["dimension","kra"].includes(e.header_name)?(i(),B(ne,{key:1,modelValue:a(s).addKra[e.header_name],"onUpdate:modelValue":n=>a(s).addKra[e.header_name]=n,rows:"3",cols:"30",class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2"},null,8,["modelValue","onUpdate:modelValue"])):(i(),B(K,{key:2,type:"text",modelValue:a(s).addKra[e.header_name],"onUpdate:modelValue":n=>a(s).addKra[e.header_name]=n,class:g(["h-10 !bg-[#f6f6f6] border-[1px] border-[#dddddd] p-2",[a(P)[e.header_name].$error?"p-invalid":"!border-[rgb(246,246,246)]"]])},null,8,["modelValue","onUpdate:modelValue","class"])),a(P)[e.header_name].$error?(i(),r("span",Ho,d(a(P)[e.header_name].required.$message.replace("Value",e.alias_name?e.alias_name:e.header_label)),1)):p("",!0),Ro]))),128)),t("div",Yo,[t("button",{class:"bg-[#F9BE00] text-[#000] py-2 px-4 h-[33px] rounded-md",onClick:o[30]||(o[30]=e=>(Be(l.arr),A.value="save"))},Jo),a(s).createKpiForm.form_details.length>0?(i(),r("button",{key:0,onClick:o[31]||(o[31]=e=>R.value=!0),class:"mx-2 bg-[#000] text-[white] py-2 px-4 h-[33px] rounded-md"},Zo)):p("",!0)])]))),x.value=="Creation"||x.value=="View"||x.value=="view"||x.value=="Reject Edit option"?(i(),r("div",el,[x.value=="Creation"||x.value=="View"||x.value=="Reject Edit option"?(i(),r("button",{key:0,class:"border-[1px] border-[#000] p-3 box-border text-[13px] rounded-md text-[#000] !w-[120px] h-[35px] font-semibold flex justify-center items-center",onClick:o[32]||(o[32]=e=>N.value=!0)},al)):p("",!0),(x.value=="view"&&A.value=="save"?h.value&&h.value.is_reviewer_accepted!=1:A.value=="save"&&x.value=="Creation")?(i(),r("button",{key:1,onClick:o[33]||(o[33]=e=>a(s).createKpiForm.form_name?a(O)==100?(Oe(a(s).createKpiForm.form_details),A.value="publish",re.value=!0):a(k).toastmessage("error","The combined weightage of KPIs or OKRs must equal to 100%"):a(k).toastmessage("error","Form Name field is required.")),class:g(["text-[#000] py-2 px-4 rounded-md mx-2",[a(O)==100?"bg-[#F9BE00]":"bg-[#dddd]"]])},"Save",2)):p("",!0),A.value=="publish"&&x.value!="view"?(i(),r("button",{key:2,class:g(["rounded-[8px] w-[144px] !h-[33px] mx-2",[a(s).currentlySavedFormId?"bg-[#000] text-[#ffff]":"bg-[#DDDD] text-[#000]"]]),onClick:o[34]||(o[34]=e=>a(s).currentlySavedFormId?a(s).createNewGoals?(a(s).publishForm(le.value),C.value=!1,a(s).createTeamKpiForm=!1):"":a(k).toastmessage("error","Save the form to Publish"))}," Publish",2)):p("",!0),x.value=="view"&&h.value.is_reviewer_accepted==""?(i(),r("button",{key:3,class:g(["text-[#000] py-2 px-4 rounded-md mx-2",[a(O)==100&&re.value==!0?" bg-[#F9BE00]":"bg-[#DDDD]"]]),onClick:o[35]||(o[35]=e=>a(O)==100?re.value===!0?(a(s).teamKpiFormApproval(z.value,1,""),a(s).createTeamKpiForm=!1,C.value=!1,A.value=""):a(k).toastmessage("error",""):a(k).toastmessage("error","The combined weightage of KPIs or OKRs must equal to 100%"))},"Approve",2)):p("",!0),x.value=="view"&&h.value.is_reviewer_accepted==""?(i(),r("button",{key:4,class:"text-[#fff] py-2 px-4 rounded-md mx-2 bg-black",onClick:o[36]||(o[36]=e=>L.value=!0)},"Reject")):p("",!0),x.value=="view"&&h.value.is_assignee_submitted===""&&h.value.is_reviewer_accepted==1?(i(),r("button",{key:5,class:"text-[#fff] py-2 px-4 rounded-md mx-2 bg-black",onClick:o[37]||(o[37]=e=>M.value=!0)},"Revoke")):p("",!0)])):p("",!0)])):p("",!0)]))])]),_:1},8,["visible"]),f(de,{visible:H.value,"onUpdate:visible":o[42]||(o[42]=e=>H.value=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full"},{default:y(()=>[t("div",ol,[t("div",ll,[t("i",{type:"button",onClick:o[39]||(o[39]=e=>H.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",il,[rl,nl,t("div",dl,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:o[40]||(o[40]=e=>(x.value=="view"?(a(s).createTeamKpiForm=!1,C.value=!1):x.value=="Creation"?(a(s).createTeamKpiForm=!1,C.value=!0):(a(s).createTeamKpiForm=!1,C.value=!1),H.value=!1))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:o[41]||(o[41]=e=>H.value=!1)},"Cancel")])])])]),_:1},8,["visible"]),f(de,{visible:R.value,"onUpdate:visible":o[46]||(o[46]=e=>R.value=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full h-[400px]"},{default:y(()=>[t("div",pl,[t("div",cl,[t("i",{type:"button",onClick:o[43]||(o[43]=e=>R.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",ul,[ml,_l,t("div",fl,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:o[44]||(o[44]=e=>(N.value=!1,R.value=!1))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:o[45]||(o[45]=e=>R.value=!1)},"Cancel")])])])]),_:1},8,["visible"]),f(de,{visible:L.value,"onUpdate:visible":o[51]||(o[51]=e=>L.value=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full"},{default:y(()=>[t("div",vl,[t("div",gl,[t("i",{type:"button",onClick:o[47]||(o[47]=e=>L.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",xl,[bl,hl,f(ne,{rows:"3",cols:"36",modelValue:ie.value,"onUpdate:modelValue":o[48]||(o[48]=e=>ie.value=e),placeholder:"Your Comments...",class:"!bg-[#f6f6f6] border-[1px] border-[#dddddd] w-[350px] p-2"},null,8,["modelValue"]),t("div",yl,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:o[49]||(o[49]=e=>ie.value?(a(s).teamKpiFormApproval(z.value,-1,ie.value),L.value=!1,a(s).createTeamKpiForm=!1,C.value=!1):a(k).toastmessage("error","Feedback for Rejection of KPI Form is Required"))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:o[50]||(o[50]=e=>L.value=!1)},"Cancel")])])])]),_:1},8,["visible"]),f(de,{visible:M.value,"onUpdate:visible":o[55]||(o[55]=e=>M.value=e),modal:"",style:{width:"30rem"},breakpoints:{"1199px":"75vw","575px":"90vw"},class:"m-0 p-0 relative shadow-md rounded-t-full"},{default:y(()=>[t("div",wl,[t("div",kl,[t("i",{type:"button",onClick:o[52]||(o[52]=e=>M.value=!1),class:"pi pi-times text-white",style:{"font-size":"3rem"}})]),t("div",Fl,[Dl,Cl,t("div",Kl,[t("button",{type:"button",class:"text-black bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 text-lg font-semibold rounded-md px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:o[53]||(o[53]=e=>(a(s).TeamAppraisalRevoke(z.value,"approve_reject"),M.value=!1,a(s).createTeamKpiForm=!1,C.value=!1))},"Yes"),t("button",{type:"button",class:"text-black bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 rounded-md text-lg px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:o[54]||(o[54]=e=>M.value=!1)},"Cancel")])])])]),_:1},8,["visible"])])],64)}}},jl=Me(Tl,[["__scopeId","data-v-2915da21"]]),Nl=Object.freeze(Object.defineProperty({__proto__:null,default:jl},Symbol.toStringTag,{value:"Module"}));export{at as _,ot as a,lt as b,it as c,rt as d,Nl as e,jl as t};
