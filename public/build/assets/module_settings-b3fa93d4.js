import{_ as M}from"./AssignEmployee-c95e1e3c.js";import{q as A,r as n,p as c,o as P,b as h,d as r,e as v,m as y,k as _,g as u,f as t,i as $,F as w,l as D,j,t as E,n as f}from"./app-e1ab7da0.js";const B=A("useModuleSettingsStore",()=>{const k=n(),o=n(!1),i=n(),b=n(),p=n(),a=n(!1);async function d(){a.value=!0,await c.get("/getClient_AllModuleDetails").then(e=>{console.log(e.data),i.value=e.data.data,console.log("mobile settings",i.value)}).finally(()=>{a.value=!1})}const g=async()=>{await c.get("session-sessionselectedclient").then(e=>{console.log(e.data),p.value=e.data,e.data.id&&(b.value=e.data)})},x=()=>{c.get("/getClient_AllModulePermissionDetails").then(e=>{console.log(e.data)})};return{currentlySelectedModule:k,employeeAssignDialog:o,arrayModuleSettingsDetails:i,getSessionClient:g,saveEnableDisableSetting:async(e,s)=>{let S={module_id:e.module_id?e.module_id:e.module_id?"":e.value.module_id,module_status:s,sub_module_id:e.sub_module_id||e.module_id?"":e.value.sub_module_id,sub_module_status:e.sub_module_status||e.module_id?"":e.value.sub_module_status};a.value=!0,await c.post("/update_AllClientModuleStatus",S).then(m=>{console.log("Status received : "+m.data.status),m.data.status=="success"&&(e.status=s)}).finally(()=>{a.value=!1,d(),x()})},canshowloading:a,client_details:b,updateEmployeesPermissionStatus:()=>{c.post("/updateEmployeesPermissionStatus",{app_sub_modules_link_id,selected_employees_user_code}).then(()=>{}).finally(()=>{})},getModuleSettings:d,getClient_AllModulePermissionDetails:x}});const N=t("h5",{style:{"text-align":"center"}},"Please wait...",-1),T={class:"w-full"},V=t("h1",{class:"text-[18px] text-[#000] my-2"},"Module Settings",-1),F={class:"grid items-center w-full grid-cols-2"},O={class:"my-auto"},q={class:"text-[#000] text-[14px] my-auto"},z={class:"mx-auto"},H=["onClick"],L=["onClick"],U={class:"my-auto"},W={class:"text-[#000] text-[14px]"},G={class:"mx-auto"},I=["onClick"],J=["onClick"],R={__name:"module_settings",setup(k){const o=B();P(async()=>{await o.getSessionClient(),await o.getModuleSettings()});const i=p=>Object.entries(p).map(d=>({title:d[0],value:d[1]}));n(1);const b=n();return n(!1),(p,a)=>{const d=h("ProgressSpinner"),g=h("Dialog"),x=h("AccordionTab"),C=h("Accordion");return r(),v(w,null,[y(g,{header:"Header",visible:u(o).canshowloading,"onUpdate:visible":a[0]||(a[0]=l=>u(o).canshowloading=l),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:_(()=>[y(d,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:_(()=>[N]),_:1},8,["visible"]),t("div",T,[V,$("",!0)]),y(C,null,{default:_(()=>[(r(!0),v(w,null,D(u(o).arrayModuleSettingsDetails,(l,e)=>(r(),j(x,{key:e},{header:_(()=>[t("div",F,[t("div",O,[t("h1",q,E(l.module_name),1)]),t("div",null,[t("div",z,[t("button",{class:f(["text-[12px] w-[100px] rounded-l-[8px] h-[26px]",[l.module_status==1?" bg-[#000] text-white  ":" bg-white !text-[#000] border-[2px] border-black"]]),onClick:s=>(u(o).saveEnableDisableSetting(l,1),l.module_status=1)},"Enable",10,H),t("button",{class:f(["text-[12px] w-[100px] rounded-r-[8px] h-[26px]",[l.module_status==0?"bg-[#000] text-white ":"bg-white text-black border-[2px] border-black"]]),onClick:s=>(u(o).saveEnableDisableSetting(l,0),l.module_status=0)},"Disable",10,L)])])])]),default:_(()=>[(r(!0),v(w,null,D(i(l.sub_module_details),(s,S)=>(r(),v("div",{class:"grid grid-cols-2 p-2 rounded-lg border my-2.5 h-[44px]",key:S},[t("div",U,[t("h1",W,E(s?s.value.sub_module_name:""),1)]),t("div",G,[t("button",{class:f(["text-[12px] w-[100px] rounded-l-[8px] h-[26px]",[s.value.sub_module_status==1?" bg-[#000] text-white  ":" bg-white !text-[#000] border-[2px] border-black"]]),onClick:m=>(u(o).saveEnableDisableSetting(s,1),s.value.sub_module_status=1)},"Enable",10,I),t("button",{class:f(["text-[12px] w-[100px] rounded-r-[8px] h-[26px]",[s.value.sub_module_status==0?"bg-[#000] text-white ":"bg-white text-black border-[2px] border-black"]]),onClick:m=>(u(o).saveEnableDisableSetting(s,0),s.value.sub_module_status=0)},"Disable",10,J)])]))),128))]),_:2},1024))),128))]),_:1}),y(M,{type:b.value},null,8,["type"])],64)}}};export{R as default};
