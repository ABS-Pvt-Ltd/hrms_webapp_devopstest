import{q as v,r,u as P,a as h,p as n}from"./app-e1ab7da0.js";import{S as y}from"./Service-a2d19084.js";const R=v("employeeService",()=>{const t=r([]),a=r(!0);P();const c=h(),i=r(),_=r(),f=r(),d=r(),e=y();r();function u(){return c.params.user_code?c.params.user_code:e.current_user_id}const p=()=>{n.post("/profile-pages/getProfilePicture",{user_id:u()}).then(o=>{i.value=o.data.data,(e.current_user_role==1&&e.current_user_role==t.value.org_role||e.current_user_role==2&&e.current_user_role==t.value.org_role)&&(l(),console.log(e.current_user_role,"service.current_user_role"))}).finally(()=>{})},l=()=>{n.post("/profile-pages/getAdminProfilePicture",{user_id:e.current_user_id}).then(o=>{_.value=o.data.data})};async function g(o){a.value=!0;let m="/profile-pages-getEmpDetails";await n.get(`${m}/${u()}`).then(s=>{a.value=!1,t.value=s.data}).catch(s=>console.log(s)).finally(s=>{p(),l()})}return{fetchEmployeeDetails:g,employeeDetails:t,loading_screen:a,user_code:f,getProfilePhoto:p,profile:i,profile_img:_,user_id:d,getURLParams_UID:u,get_current_profile:l}});export{R as p};
