import{d as M}from"./dayjs.min-ac6c82aa.js";import{q as X,r as f,p as B,D as P,o as V,b as _,d as l,e as r,f as e,m as a,k as o,h,n as k,g as b,t as d,j as R,i as L,K as J,y as F,P as U,F as q}from"./app-e1ab7da0.js";import{p as I}from"./ProfilePagesStore-f89c5adf.js";import{S as Y}from"./Service-a2d19084.js";/* empty css                                                                       */import{L as H}from"./LoadingSpinner-1df67a25.js";const T=X("manageEmployees",()=>{const N=f(),$=f(),n=f(),p=f(!0);async function m(){let g=window.location.origin+"/vmt-activeemployees-fetchall";console.log("AJAX URL : "+g),await B.get(g).then(c=>{N.value=c.data})}async function S(){let g=window.location.origin+"/vmt-yet-to-activeemployees-fetchall";console.log("AJAX URL : "+g),await B.get(g).then(c=>{console.log("Axios : "+c.data),$.value=c.data})}async function u(){let g=window.location.origin+"/vmt-exitemployees-fetchall";console.log("AJAX URL : "+g),await B.get(g).then(c=>{console.log("Axios : "+c.data),n.value=c.data})}return{array_active_employees:N,yet_to_active_employees_data:$,exit_employees_data:n,getActiveEmployees:m,ajax_yet_to_active_employees_data:S,ajax_exit_employees_data:u,canShowLoadingScreen:p}});const Q={class:"w-full"},W={class:"text-left"},Z={class:"p-input-icon-left"},ee=e("i",{class:"pi pi-search"},null,-1),te={class:"flex items-center justify-center"},ae=["src"],oe={class:"pl-2 font-semibold fs-6 flex flex-col text-[#0873CD] text-justify"},se={class:"text-[#535353]"},ne={class:"flex justify-start"},le={class:"font-semibold text-[12px]"},ie={class:"flex justify-start"},re={class:"font-semibold text-[12px]"},de=e("i",{class:"h-6 py-1 mx-2 pi pi-eye text-[#000]"},null,-1),ce={__name:"active_employees",setup(N){const $=Y(),n=T();I(),f();const p=f({global:{value:null,matchMode:P.CONTAINS}});V(async()=>{await n.getActiveEmployees(),n.canShowLoadingScreen=!1});async function m(S){console.log(S)}return(S,u)=>{const g=_("InputText"),c=_("Column"),w=_("ProgressBar"),v=_("RouterLink"),A=_("DataTable");return l(),r("div",Q,[e("div",null,[a(A,{value:b(n).array_active_employees,paginator:!0,rows:10,dataKey:"emp_code",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:p.value,"onUpdate:filters":u[1]||(u[1]=s=>p.value=s),filterDisplay:"menu",loading:S.canShowLoadingScreen,globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{header:o(()=>[e("div",W,[e("div",Z,[ee,a(g,{class:"border p-1.5 bg-gray-100 border-gray-300",modelValue:p.value.global.value,"onUpdate:modelValue":u[0]||(u[0]=s=>p.value.global.value=s),placeholder:"Global Search"},null,8,["modelValue"])])])]),empty:o(()=>[h(" No customers found.")]),loading:o(()=>[h(" Loading customers data. Please wait. ")]),default:o(()=>[a(c,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"5rem !important","text-align":"center:  !important"}},{body:o(s=>[e("div",te,[JSON.parse(s.data.emp_avatar).type=="shortname"?(l(),r("p",{key:0,class:k(["p-2 font-semibold text-white rounded-full w-11 fs-6",b($).getBackgroundColor(s.index)])},d(JSON.parse(s.data.emp_avatar).data),3)):(l(),r("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(s.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ae)),e("p",oe,[h(d(s.data.emp_name)+" ",1),e("span",se,d(s.data.emp_code),1)])])]),_:1}),a(c,{field:"emp_designation",header:"Designation",style:{"min-width":"10rem","text-align":"start"}},{body:o(s=>[e("div",ne,[e("span",le,d(s.data.emp_designation),1)])]),_:1}),a(c,{field:"reporting_manager_name",header:"Reporting Manager",style:{"min-width":"10rem"}},{body:o(s=>[e("div",ie,[e("span",re,d(s.data.reporting_manager_name),1)])]),_:1}),a(c,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(s=>[h(d(b(M)(s.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(c,{field:"profile_completeness",header:"Profile Completeness"},{body:o(s=>[s.data.profile_completeness<=39?(l(),R(w,{key:0,value:s.data.profile_completeness,class:k([s.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),s.data.profile_completeness>=40&&s.data.profile_completeness<=59?(l(),R(w,{key:1,class:k(["progressbar_val2",[s.data.profile_completeness>=40&&s.data.profile_completeness<=59]]),value:s.data.profile_completeness},null,8,["class","value"])):L("",!0),s.data.profile_completeness>=60?(l(),R(w,{key:2,class:k(["progressbar_val3",[s.data.profile_completeness>=60]]),value:s.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),a(c,{field:"enc_user_id",header:"View Profile"},{body:o(s=>[a(v,{to:`/profile-page/${s.data.user_id}`,onClick:y=>m(s.data),class:"px-2 py-1"},{default:o(()=>[de]),_:2},1032,["to","onClick"])]),_:1})]),_:1},8,["value","filters","loading"])])])}}},pe={class:"confirmation-content"},_e=e("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),me={class:"text-left"},ue={class:"p-input-icon-left"},fe=e("i",{class:"pi pi-search"},null,-1),ge={class:"flex items-center justify-center !borde-[1px] !border-[#000]"},ve=["src"],ye={class:"pl-2 font-semibold fs-6 flex flex-col text-[#0873CD] text-justify"},he={class:"text-[#535353]"},xe={class:"text-[#000] font-normal text-start"},be={key:0,class:"text-[#000] font-normal text-start"},we={key:1,class:"text-center text-[#000] font-normal"},ke=e("i",{class:"h-6 py-1 mx-2 pi pi-eye text-[#000]"},null,-1),Se={key:0},$e={key:1},Ce={__name:"yet_to_active_employees",setup(N){const $=Y(),n=T();V(()=>{n.ajax_yet_to_active_employees_data()}),f();let p=f(!1);f(!1),J();const m=F();function S(y){}const u=f({global:{value:null,matchMode:P.CONTAINS}});f(["Pending","Approved","Rejected"]);let g=null,c=null;function w(y,x){y.emp_code,y.emp_status,console.log(T.emp_status),console.log(y.emp_status),p.value=!0,g=x,c=y,console.log("Selected Row Data : "+JSON.stringify(y))}function v(y){n.canShowLoadingScreen=!1,p.value=!1,y&&A()}function A(){g="",c=null}function s(){v(!1),n.canShowLoadingScreen=!0,console.log("Processing Rowdata : "+JSON.stringify(c)),B.post(window.location.origin+"/onboarding/updateEmployeeActive",{user_code:c.emp_code,active_status:1}).then(y=>{console.log("Response : "+y),m.add({severity:"success",summary:"Activated",detail:`${c.emp_name} Activated Successfully`,life:3e3}),A()}).catch(y=>{n.canShowLoadingScreen=!1,A()}).finally(()=>{n.ajax_yet_to_active_employees_data(),n.getActiveEmployees(),n.canShowLoadingScreen=!1,p.value=!1})}return(y,x)=>{const D=_("Toast"),j=_("Button"),E=_("Dialog"),i=_("InputText"),C=_("Column"),O=_("ProgressBar"),z=_("RouterLink"),G=_("DataTable");return l(),r("div",null,[a(D),a(E,{header:"Confirmation",visible:b(p),"onUpdate:visible":x[2]||(x[2]=t=>U(p)?p.value=t:p=t),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[a(j,{label:"Yes",icon:"pi pi-check",onClick:x[0]||(x[0]=t=>s()),class:"p-button-text",autofocus:""}),a(j,{label:"No",icon:"pi pi-times",onClick:x[1]||(x[1]=t=>v(!0)),class:"p-button-text"})]),default:o(()=>[e("div",pe,[_e,e("span",null,"Are you sure you want to "+d(b(g))+"?",1)])]),_:1},8,["visible"]),e("div",null,[a(G,{value:b(n).yet_to_active_employees_data,paginator:!0,rows:10,dataKey:"emp_code",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:u.value,"onUpdate:filters":x[4]||(x[4]=t=>u.value=t),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{header:o(()=>[e("div",me,[e("div",ue,[fe,a(i,{class:"border p-1.5 bg-gray-100 border-gray-300",modelValue:u.value.global.value,"onUpdate:modelValue":x[3]||(x[3]=t=>u.value.global.value=t),placeholder:"Global Search"},null,8,["modelValue"])])])]),empty:o(()=>[h(" No customers found. ")]),loading:o(()=>[h(" Loading customers data. Please wait. ")]),default:o(()=>[a(C,{class:"font-bold",field:"emp_name",header:"Employee Name",style:{"min-width":"20rem !important","text-align":"center  !important"}},{body:o(t=>[e("div",ge,[JSON.parse(t.data.emp_avatar).type=="shortname"?(l(),r("p",{key:0,class:k(["p-2 font-semibold text-white rounded-full w-[30px] text-[12px]",b($).getBackgroundColor(t.index)])},d(JSON.parse(t.data.emp_avatar).data),3)):(l(),r("img",{key:1,class:"rounded-circle userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(t.data.emp_avatar).data}`,srcset:"",alt:""},null,8,ve)),e("p",ye,[h(d(t.data.emp_name)+" ",1),e("span",he,d(t.data.emp_code),1)])])]),_:1}),a(C,{field:"emp_designation",header:"Designation",class:""},{body:o(t=>[e("p",xe,d(t.data.emp_designation),1)]),_:1}),a(C,{field:"reporting_manager_name",header:"Reporting Manager"},{body:o(t=>[t.data.reporting_manager_name!=null?(l(),r("p",be,d(t.data.reporting_manager_name),1)):(l(),r("p",we,"---"))]),_:1}),a(C,{field:"doj",header:"DOJ",style:{"min-width":"10rem"}},{body:o(t=>[h(d(b(M)(t.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(C,{field:"profile_completeness",header:"Profile Completeness"},{body:o(t=>[t.data.profile_completeness<=39?(l(),R(O,{key:0,value:t.data.profile_completeness,class:k([t.data.profile_completeness<=39?"progressbar":""])},null,8,["value","class"])):L("",!0),t.data.profile_completeness>=40&&t.data.profile_completeness<=59?(l(),R(O,{key:1,class:k(["progressbar_val2",[t.data.profile_completeness>=40&&t.data.profile_completeness<=59]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0),t.data.profile_completeness>=60?(l(),R(O,{key:2,class:k(["progressbar_val3",[t.data.profile_completeness>=60]]),value:t.data.profile_completeness},null,8,["class","value"])):L("",!0)]),_:1}),a(C,{field:"is_onboarded",header:"Onboarding Status"},{body:o(t=>[h(d(t.data.is_onboarded?"Completed":"Pending"),1)]),_:1}),a(C,{field:"doc_status",header:"Docs Approval Status"},{body:o(t=>[h(d(t.data.is_onboarded&&t.data.doc_status?"Approved":"Pending"),1)]),_:1}),a(C,{field:"enc_user_id",header:"View Profile"},{body:o(t=>[a(z,{to:`/profile-page/${t.data.user_id}`,onClick:K=>(t.data,void 0),class:"px-2 py-1"},{default:o(()=>[ke]),_:2},1032,["to","onClick"])]),_:1}),a(C,{style:{width:"300px"},field:"",header:"Action"},{body:o(t=>[t.data.is_onboarded&&t.data.doc_status?(l(),r("div",Se,[a(j,{icon:"pi pi-check-circle",severity:"success",label:"Activate",class:"p-button-success Button",onClick:K=>w(t.data,"Active"),style:{height:"2em"}},null,8,["onClick"])])):(l(),r("div",$e))]),_:1})]),_:1},8,["value","filters"])])])}}},Le={class:"confirmation-content"},De=e("i",{class:"mr-3 pi pi-exclamation-triangle",style:{"font-size":"2rem"}},null,-1),Ae={class:"text-left"},Re={class:"p-input-icon-left"},Ne=e("i",{class:"pi pi-search"},null,-1),je={class:"flex items-center justify-center"},Be=["src"],Te={class:"pl-2 font-semibold fs-6 flex flex-col text-[#0873CD] text-justify"},Me={class:"text-[#535353]"},Ee={class:"flex justify-start"},Oe={class:"font-semibold text-[12px]"},Pe={class:"flex justify-start"},Ve={class:"font-semibold text-[12px]"},Ye=e("i",{class:"h-6 py-1 mx-2 pi pi-eye text-[#000]"},null,-1),Je={__name:"exit_employees",setup(N){const $=Y(),n=T();V(()=>{n.ajax_exit_employees_data()}),f();let p=f(!1),m=f(!1);J();const S=F();I();const u=f({global:{value:null,matchMode:P.CONTAINS}});function g(w){}function c(){hideConfirmDialog(!1),m.value=!0,console.log("Processing Rowdata : "+JSON.stringify(currentlySelectedRowData)),B.post(window.location.origin+"/attendance-regularization-approvals",{id:currentlySelectedRowData.id,status:currentlySelectedStatus=="Approve"?"Approved":currentlySelectedStatus=="Reject"?"Rejected":currentlySelectedStatus,status_text:""}).then(w=>{console.log("Response : "+w),m.value=!1,S.add({severity:"success",summary:"Info",detail:"Success",life:3e3}),ajax_GetAttRegularizationData(),resetVars()}).catch(w=>{m.value=!1,resetVars()})}return(w,v)=>{const A=_("Toast"),s=_("Button"),y=_("Dialog"),x=_("InputText"),D=_("Column"),j=_("RouterLink"),E=_("DataTable");return l(),r("div",null,[a(A),a(y,{header:"Confirmation",visible:b(p),"onUpdate:visible":v[2]||(v[2]=i=>U(p)?p.value=i:p=i),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"350px"},modal:!0},{footer:o(()=>[a(s,{label:"Yes",icon:"pi pi-check",onClick:v[0]||(v[0]=i=>c()),class:"p-button-text",autofocus:""}),a(s,{label:"No",icon:"pi pi-times",onClick:v[1]||(v[1]=i=>w.hideConfirmDialog(!0)),class:"p-button-text"})]),default:o(()=>[e("div",Le,[De,e("span",null,"Are you sure you want to "+d(w.currentlySelectedStatus)+"?",1)])]),_:1},8,["visible"]),e("div",null,[a(E,{value:b(n).exit_employees_data,paginator:!0,rows:10,dataKey:"id",paginatorTemplate:"CurrentPageReport FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",rowsPerPageOptions:[5,10,25],filters:u.value,"onUpdate:filters":v[4]||(v[4]=i=>u.value=i),filterDisplay:"menu",globalFilterFields:["emp_name","emp_code","emp_designation","reporting_manager_name","status"]},{header:o(()=>[e("div",Ae,[e("div",Re,[Ne,a(x,{class:"border p-1.5 bg-gray-100 border-gray-300",modelValue:u.value.global.value,"onUpdate:modelValue":v[3]||(v[3]=i=>u.value.global.value=i),placeholder:"Global Search"},null,8,["modelValue"])])])]),empty:o(()=>[h(" No customers found.")]),loading:o(()=>[h(" Loading customers data. Please wait. ")]),default:o(()=>[a(D,{class:"font-bold",field:"emp_name",header:"Employee Name"},{body:o(i=>[e("div",je,[JSON.parse(i.data.emp_avatar).type=="shortname"?(l(),r("p",{key:0,class:k(["p-2 font-semibold text-white rounded-full w-[35px] fs-6",b($).getBackgroundColor(i.index)])},d(JSON.parse(i.data.emp_avatar).data),3)):(l(),r("img",{key:1,class:"w-10 rounded-circle img-md userActive-status profile-img",style:{height:"30px !important",width:"30px !important"},src:`data:image/png;base64,${JSON.parse(i.data.emp_avatar).data}`,srcset:"",alt:""},null,8,Be)),e("p",Te,[h(d(i.data.emp_name)+" ",1),e("span",Me,d(i.data.emp_code),1)])])]),_:1}),a(D,{field:"emp_designation",header:"Designation"},{body:o(i=>[e("div",Ee,[e("span",Oe,d(i.data.emp_designation),1)])]),_:1}),a(D,{field:"reporting_manager_name",header:"Reporting Manager"},{body:o(i=>[e("div",Pe,[e("span",Ve,d(i.data.reporting_manager_name),1)])]),_:1}),a(D,{field:"doj",header:"DOJ"},{body:o(i=>[h(d(b(M)(i.data.doj).format("DD-MMM-YYYY")),1)]),_:1}),a(D,{field:"dol",header:"Exit Date"},{body:o(i=>[h(d(b(M)(i.data.dol).format("DD-MMM-YYYY")),1)]),_:1}),a(D,{field:"enc_user_id",header:"View Profile"},{body:o(i=>[a(j,{to:`/profile-page/${i.data.user_id}`,onClick:C=>(i.data,void 0),class:"px-2 py-1"},{default:o(()=>[Ye]),_:2},1032,["to","onClick"])]),_:1})]),_:1},8,["value","filters"])])])}}};const Fe={class:""},Ue={style:{position:"relative"}},Ie={class:"divide-x nav nav-pills divide-solid nav-tabs-dashed mb-3",id:"pills-tab",role:"tablist"},ze={class:"nav-item",role:"presentation"},Ge={key:0,class:"h-1 rounded-l-3xl",style:{border:"2px solid #F9BE00 !important"}},Ke={key:1,class:"border-2 h-1 rounded-l-3xl border-gray-300"},Xe={class:"nav-item position-relative border-0",role:"presentation"},qe={key:0,class:"h-1 position-absolute bottom-[1px] left-0 w-[100%]",style:{border:"2px solid #F9BE00 !important"}},He={key:1,class:"border-3 h-1 border-gray-300"},Qe={class:"nav-item position-relative border-0",role:"presentation"},We={key:0,class:"h-1 rounded-r-3xl position-absolute bottom-[1px] w-[100%] left-0",style:{border:"2px solid #F9BE00 !important"}},Ze={key:1,class:"border-3 h-1 rounded-r-3xl border-gray-300"},et=e("div",{class:"border-gray-300 border-b-[4px] w-100 mt-[-7px]"},null,-1),tt={class:"tab-content",id:""},at={class:"card-body"},ot={key:0},st={key:1},nt={key:2},_t={__name:"ManageEmployee",setup(N){const $=T(),n=f(1);return(p,m)=>(l(),r(q,null,[b($).canShowLoadingScreen?(l(),R(H,{key:0,class:"absolute z-50 bg-white w-[100%] h-[100%]"})):L("",!0),e("div",Fe,[e("div",null,[e("div",Ue,[e("ul",Ie,[e("li",ze,[e("a",{class:k(["px-4 position-relative border-0 font-['poppins'] text-[14px] text-[#001820]",[n.value===1?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:m[0]||(m[0]=S=>n.value=1)}," Active Employees ",2),n.value===1?(l(),r("div",Ge)):(l(),r("div",Ke))]),e("li",Xe,[e("a",{class:k(["text-center px-4 border-0 font-['poppins'] text-[14px] text-[#001820]",[n.value===2?"active font-semibold":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:m[1]||(m[1]=S=>n.value=2),role:"tab","aria-controls":"","aria-selected":"true"}," Yet To Active Employees ",2),n.value===2?(l(),r("div",qe)):(l(),r("div",He))]),e("li",Qe,[e("a",{class:k(["text-center px-4 border-0 font-['poppins'] text-[14px] text-[#001820]",[n.value===3?"active font-semibold ":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:m[2]||(m[2]=S=>n.value=3),role:"tab","aria-controls":"","aria-selected":"true"}," Exit Employee ",2),n.value===3?(l(),r("div",We)):(l(),r("div",Ze))]),et]),e("div",tt,[e("div",null,[e("div",at,[n.value===1?(l(),r("div",ot,[a(ce)])):L("",!0),n.value===2?(l(),r("div",st,[a(Ce)])):L("",!0),n.value===3?(l(),r("div",nt,[a(Je)])):L("",!0)])])])])])])],64))}};export{_t as default};
