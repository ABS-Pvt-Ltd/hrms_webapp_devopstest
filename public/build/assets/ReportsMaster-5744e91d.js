import{q as ie,r as n,z as ue,p as B,_ as X,o as z,D as Z,b as k,d as u,e as h,f as t,m as S,g as e,i as T,n as E,j as V,k as O,F as G,l as K,E as ee,G as te,J as pe,h as H}from"./app-e1ab7da0.js";import"./lodash-68dd3609.js";import{L as W}from"./LoadingSpinner-1df67a25.js";/* empty css                                                                       */import{S as re}from"./Service-a2d19084.js";import{d as ce}from"./dayjs.min-ac6c82aa.js";import{u as ve}from"./pmsMainStore-a8268de2.js";import"./xlsx-4ad528ac.js";import"./exceljs.min-3890d7de.js";import"./_commonjs-dynamic-modules-302442b1.js";const q=ie("EmployeeMasterStore",()=>{const d=n(),o=n(),l=n(),f=n(),_=n(),s=n(),a=n(!1),y=n(),v=n(!1),m=n([]),r=n([]),M=n(),P=n(""),Y=n(1),i=n(!1),p=ue({date:"",department_id:"",legal_entity:"",active_status:"",type:""}),A=n([]),L=n([]),Q=()=>{let g="/fetch-employee-ctc-report";i.value=!0,B.post(g,{type:""}).then(D=>{console.log(D.data.rows,"get value "),m.value=D.data.rows,console.log(m.value," testings data"),D.data.headers.forEach($=>{let U={title:$};r.value.push(U),console.log($)}),console.log(r.value)}).finally(()=>{i.value=!1})};function oe(){i.value=!0,B.get("/filter-client-ids").then(g=>{_.value=g.data,console.log(" testing client id",_.value)}).finally(()=>{i.value=!1})}function F(){i.value=!0,B.get("/get-department").then(g=>{M.value=g.data}).finally(()=>{i.value=!1})}function R(){i.value=!0,B.post("/get-filter-months-for-reports").then(g=>{P.value=g.data}).finally(()=>{i.value=!1})}function b(){m.value.splice(0),r.value.splice(0),v.value==!0?(console.log(v),v.value=!1,y.value="",console.log(y.value)):v.value==!1&&(v.value=!0,y.value="detailed",console.log(y.value)),p.type=y.value,B.post("/fetch-employee-ctc-report",p).then(g=>{console.log(g.data.rows,"get value "),m.value=g.data.rows,console.log(m.value," testings data"),g.data.headers.forEach(D=>{let $={title:D};r.value.push($),console.log(D)}),console.log(r.value)})}const x=()=>{let g="/generate-employee-ctc-report";i.value=!0,B.post(g,p,{responseType:"blob"}).then(D=>{console.log(D.data);var $=document.createElement("a");$.href=window.URL.createObjectURL(D.data),$.download="Employee CTC Report_.xlsx",$.click()}).finally(()=>{a.value=!1,i.value=!1})};function I(g){if(console.log("active_status: ",g),L.value.splice(0,L.value.length),A.value.splice(0,A.value.length),m.value.splice(0,m.value.length),r.value.splice(0,r.value.length),g==1){i.value=!0;let D="/fetch-master-employee-report";B.post(D,p).then($=>{console.log($.data.rows,"get value "),A.value=$.data.rows,console.log(A.value," testings data"),$.data.headers.forEach(U=>{let se={title:U};L.value.push(se),console.log(U)}),console.log(L.value),$.data.headers.length===0&&Swal.fire({title:$.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(U=>{})}).finally(()=>{i.value=!1})}else if(g==2){let D="/fetch-employee-ctc-report";i.value=!0,B.post(D,p).then($=>{console.log($.data.rows,"get value "),m.value=$.data.rows,console.log(m.value," testings data"),$.data.headers.forEach(U=>{let se={title:U};r.value.push(se),console.log(U)}),console.log(r.value),$.data.rows.length===0&&Swal.fire({title:$.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(U=>{})}).finally(()=>{i.value=!1})}}function ae(g,D,$){console.log(g,D,$),g=="department"?p.department_id=D:g=="Category"?(p.active_status=D,console.log(p)):g=="date"?p.date=D:g=="legal_entity"&&(p.legal_entity=D)}function ne(){let g="/fetch-master-employee-report";i.value=!0,B.post(g,{type:""}).then(D=>{console.log(D.data.rows,"get value "),A.value=D.data.rows,console.log(A.value," testings data"),D.data.headers.forEach($=>{let U={title:$};L.value.push(U),console.log($)}),console.log(L.value)}).finally(()=>{i.value=!1})}function C(){let g="/generate-master-employee-report-data";i.value=!0,B.post(g,p,{responseType:"blob"}).then(D=>{console.log(D.data);var $=document.createElement("a");$.href=window.URL.createObjectURL(D.data),$.download="Employee Master Report_.xlsx",$.click()}).finally(()=>{a.value=!1,i.value=!1})}function c(g){console.log("testing data :",g),g===2?(m.value.splice(0,m.value.length),r.value.splice(0,r.value.length),p.active_status="",p.date="",p.department_id="",p.legal_entity="",d.value="",o.value="",l.value="",f.value=""):(A.value.splice(0,A.value.length),L.value.splice(0,L.value.length),p.active_status="",p.date="",p.department_id="",p.legal_entity="",d.value="",o.value="",l.value="",f.value="")}function w(g){console.log(g?"1":"2",g)}function N(g){g===4?P.value.push({date:"custom_date",month:"Custom Date"}):P.value.pop()}return{show:v,client_ids:_,employeeCTCReportSource:m,Employee_CTCReportDynamicHeaders:r,personalDetail:y,selectCategory:s,department:M,PeriodMonth:P,fetchFilterClientIds:oe,getEmployeeCTC:Q,personalDetails:b,getALLdepartment:F,getPeriodMonth:R,updateEmployeeApplyFilter:I,downloadEmployeeCTC:x,btn_download:a,canShowLoading:i,filterbtn:Y,legal_Entity:d,Department:o,period_Date:l,select_Category:f,getemployeeMater:ne,employeeMaterReportSource:A,Employee_MaterReportDynamicHeaders:L,downloadEmployeeMaster:C,getSelectoption:ae,clearfilterBtn:c,testings:w,selectedfilters:p,resetChars:()=>{p.active_status="",p.date="",p.department_id="",p.legal_entity="",d.value="",o.value="",l.value="",f.value=""},filterCustomDate:N}});const le=d=>(ee("data-v-2ce6d417"),d=d(),te(),d),me={class:"flex justify-between p-2 bg-white"},fe={class:""},_e={class:"flex items-center"},be=le(()=>t("h1",{class:"text-[12px] text-black font-semibold font-['poppins']"},"Personal Details -",-1)),ge={key:0,class:"pi pi-eye"},xe={key:1,class:"pi pi-eye-slash"},he=le(()=>t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),ye=le(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),we=le(()=>t("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),Ee=[he,ye,we],Ce={class:""},Se={__name:"employee_CTC",setup(d){const o=q();z(()=>{}),n([]);const l=n({global:{value:null,matchMode:Z.CONTAINS}}),f=n("downloaded");return(_,s)=>{const a=k("InputText"),y=k("loadingSpinner"),v=k("Column"),m=k("DataTable");return u(),h("div",null,[t("div",me,[t("div",fe,[S(a,{placeholder:"Search",modelValue:l.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=r=>l.value.global.value=r),class:"border-color !h-10 my-2"},null,8,["modelValue"])]),t("div",_e,[be,t("button",{class:"bg-[#E6E6E6] px-3 p-2 rounded-md mx-2",onClick:s[1]||(s[1]=r=>e(o).personalDetails())},[e(o).show&&e(o).personalDetail=="detailed"?(u(),h("i",ge)):e(o).show?T("",!0):(u(),h("i",xe))]),t("button",{class:E(["p-2 mx-2 rounded-md w-[120px]",[!e(o).employeeCTCReportSource.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:s[2]||(s[2]=r=>(e(o).btn_download=!e(o).btn_download,e(o).downloadEmployeeCTC()))},[t("p",{class:E(["relative left-2 font-['poppins']",[!e(o).employeeCTCReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:E([e(o).btn_download==!0?f.value:" "])},[(u(),h("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:E([!e(o).employeeCTCReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},Ee,2))],2)],2)])]),t("div",Ce,[e(o).canShowLoading?(u(),V(y,{key:0,class:"absolute z-50 bg-white"})):T("",!0),S(m,{value:e(o).employeeCTCReportSource,filters:l.value,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}",responsiveLayout:"scroll"},{default:O(()=>[(u(!0),h(G,null,K(e(o).Employee_CTCReportDynamicHeaders,r=>(u(),V(v,{key:r.title,field:r.title,header:r.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important"}},null,8,["field","header"]))),128))]),_:1},8,["value","filters"])])])}}},$e=X(Se,[["__scopeId","data-v-2ce6d417"]]);const Re=d=>(ee("data-v-d0145d58"),d=d(),te(),d),De={class:"flex justify-between bg-white py-1"},Be={class:"flex items-center"},Pe=Re(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),ke={class:""},Me={__name:"Employee_Master",setup(d){n(1);const o=q();z(()=>{});const l=n({global:{value:null,matchMode:Z.CONTAINS}}),f=n("downloaded");return(_,s)=>{const a=k("InputText"),y=k("Column"),v=k("DataTable");return u(),h("div",null,[t("div",null,[t("div",De,[t("div",null,[S(a,{placeholder:"Search",modelValue:l.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=m=>l.value.global.value=m),class:"border-color !h-10 my-2",style:{height:"3em"}},null,8,["modelValue"])]),t("div",Be,[t("button",{class:E(["p-2 mx-2 rounded-md w-[120px]",[!e(o).employeeMaterReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]]),onClick:s[1]||(s[1]=m=>(e(o).btn_download=!e(o).btn_download,e(o).downloadEmployeeMaster()))},[t("p",{class:E(["relative left-2 font-['poppins']",[!e(o).employeeMaterReportSource.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:E([e(o).btn_download==!0?f.value:""])},[(u(),h("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:E([!e(o).employeeMaterReportSource.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},[t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check",style:pe([!e(o).employeeMaterReportSource.length===0?"stroke=blue":"!bg-[#E6E6E6] !text-[#000] "])},null,4),Pe,t("path",{d:"M8,1 L8,11",class:"svg-out",stroke:"",style:pe([e(o).employeeMaterReportSource.length===0?"red":"fill: red"])},null,4)],2))],2)],2)])]),t("div",ke,[S(v,{value:e(o).employeeMaterReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:O(()=>[(u(!0),h(G,null,K(e(o).Employee_MaterReportDynamicHeaders,m=>(u(),V(y,{class:"",key:m.title,field:m.title,header:m.title,style:{"text-align":"left",width:"15rem !important","marign-right":"1rem !important"},resizableColumns:"",columnResizeMode:"fit"},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},Le=X(Me,[["__scopeId","data-v-d0145d58"]]);const Te={class:"px-2"},Ae={class:"flex justify-between mb-[10px]"},Fe=t("h1",{class:"text-black text-[24px] font-semibold"},"Employee Master Report",-1),Ie={class:"flex item-center"},Ve=t("i",{class:"mr-2 pi pi-times"},null,-1),Ue=t("i",{class:"mr-2 pi pi-filter"},null,-1),Oe={style:{position:"relative"}},je={class:"flex justify-between"},Ne={class:"flex mb-3 h-[3rem] !border-[0px] divide-x !w-[280px] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%]",id:"pills-tab",role:"tablist"},He={class:"flex items-center nav-item !border-[0px]",role:"presentation"},ze={class:"flex items-center nav-item !border-[0px]",role:"presentation"},Ye={class:"flex justify-between max-[1200px]:w-[60%] max-[1200px]:justify-start flex-wrap max-[1024px]:w-[100%]"},Ge={class:"flex items-center"},Ke=t("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"},"Period : ",-1),qe={class:"flex items-center"},Je=t("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"}," Department : ",-1),Qe={class:"flex items-center"},We=t("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"},"Legal Entity : ",-1),Xe={class:"flex items-center my-1"},Ze=t("h1",{class:"text-[12px] text-black px-1 font-semibold font-['poppins'] whitespace-nowrap"},"Status : ",-1),et={class:"tab-content",id:""},tt={class:"card-body"},ot={key:0},lt={key:1},at={key:2},nt={__name:"employee_master_report",setup(d){const o=q();z(()=>{}),n("border-[1px] border-[#F9BE00]"),n("border-[1px] border-[#DCDCDC]");const l=n(1),f=n([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]);return(_,s)=>{const a=k("Dropdown"),y=k("MultiSelect");return u(),h("div",Te,[t("div",Ae,[Fe,t("div",Ie,[t("button",{onClick:s[0]||(s[0]=v=>e(o).clearfilterBtn(l.value)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] !bg-[#E6E6E6] mx-2 rounded-[4px]"},[Ve,H(" Clear Filter")]),t("button",{onClick:s[1]||(s[1]=v=>e(o).updateEmployeeApplyFilter(l.value)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[Ue,H(" Run")])])]),t("div",Oe,[t("div",je,[t("ul",Ne,[t("li",He,[t("a",{class:E(["p-2 position-relative font-['poppins'] !border-r-[0px] text-[14px] text-[#001820] w-[100%] !m-[0px]",[l.value===1?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:s[2]||(s[2]=v=>(l.value=1,e(o).clearfilterBtn(l.value)))}," Employee Master ",2)]),t("li",ze,[t("a",{class:E(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[l.value===2?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:s[3]||(s[3]=v=>(l.value=2,e(o).clearfilterBtn(l.value)))}," Employee CTC ",2)])]),t("ul",Ye,[t("li",Ge,[Ke,S(a,{optionLabel:"month",optionValue:"date",options:e(o).PeriodMonth,modelValue:e(o).period_Date,"onUpdate:modelValue":s[4]||(s[4]=v=>e(o).period_Date=v),onChange:s[5]||(s[5]=v=>e(o).getSelectoption("date",e(o).period_Date,l.value)),placeholder:"   -- Select --",class:"w-[150px] mx-1 !h-10 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),t("li",qe,[Je,S(y,{modelValue:e(o).Department,"onUpdate:modelValue":s[6]||(s[6]=v=>e(o).Department=v),options:e(o).department,optionLabel:"name",placeholder:" -- Select --",onChange:s[7]||(s[7]=v=>e(o).getSelectoption("department",e(o).Department,l.value)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",Qe,[We,S(y,{onChange:s[8]||(s[8]=v=>e(o).getSelectoption("legal_entity",e(o).legal_Entity,l.value)),modelValue:e(o).legal_Entity,"onUpdate:modelValue":s[9]||(s[9]=v=>e(o).legal_Entity=v),options:e(o).client_ids,optionLabel:"client_fullname",placeholder:" -- Select --",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",Xe,[Ze,S(y,{onChange:s[10]||(s[10]=v=>e(o).getSelectoption("Category",e(o).select_Category,l.value)),modelValue:e(o).select_Category,"onUpdate:modelValue":s[11]||(s[11]=v=>e(o).select_Category=v),optionValue:"id",options:f.value,optionLabel:"name",placeholder:"-- Select --",maxSelectedLabels:3,class:"min-w-[100px] w-[150px] !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6] mx-2"},null,8,["modelValue","options"])])])]),t("div",et,[t("div",null,[t("div",tt,[l.value===1?(u(),h("div",ot,[e(o).canShowLoading?(u(),V(W,{key:0,class:"absolute z-50 bg-white"})):T("",!0),S(Le)])):T("",!0),l.value===2?(u(),h("div",lt,[e(o).canShowLoading?(u(),V(W,{key:0,class:"absolute z-50 bg-white"})):T("",!0),S($e)])):T("",!0),l.value===3?(u(),h("div",at)):T("",!0)])])])])])}}},st=ie("UseReports_store",()=>{const d=q(),o=n(),l=n(),f=n(),_=n(!1),s=n(),a=n(),y=n(),v=n(),m=n(),r=n(1),M=re(),P=n(!1),Y=n(1),i=n(),p=ue({date:"",department_id:"",client_id:"",active_status:"",start_date:"",end_date:"",type:"",user_code:M.current_user_code}),A=n([]),L=n([]);function Q(){P.value=!0,B.get("/clients-fetchAll").then(C=>{o.value=C.data,console.log("legal_entity ::",o.value)}).finally(()=>{P.value=!1})}function oe(){P.value=!0,B.get("/get-department").then(C=>{l.value=C.data}).finally(()=>{P.value=!1})}function F(){P.value=!0,B.post("/get-filter-months-for-reports").then(C=>{f.value=C.data}).finally(()=>{P.value=!1})}function R(C,c,w){console.log(C,c,w),console.log(p),console.log(c),w==1?c==="custom_date"&&(_.value=!0):w==2&&c==="custom_date"&&(_.value=!0),w==3||w==4?c==="custom_date"&&(_.value=!0):w==5&&(r.value?r.value==1||r.value==2||r.value==3||r.value==4||r.value==5?c==="custom_date"&&(_.value=!0):r.value==6&&c==="custom_date"&&(_.value=!0):(Swal.fire({title:"error",text:"selected report type",icon:"error",showCancelButton:!1}),d.period_Date=null,d.Department=null,d.legal_Entity=null)),C=="department"?p.department_id=c:C=="Category"?(p.active_status=c,console.log(p)):C=="date"?p.date=c:C=="legal_entity"&&(p.client_id=c)}function b(C){A.value.splice(0,A.value.length),L.value.splice(0,L.value.length);let c;console.log(C,"url "),C==2?c="/fetch-attendance-data":C==3?c="/fetch-consolidate-report":C==4?c="/fetch-overtime-report-data":C==5&&(r.value?r.value==1?c="/fetch-LC-report-data":r.value==2?c="/fetch-EG-report-data":r.value==3?c="/fetch-absent-report-data":r.value==4?c="/fetch-half-day-report":r.value==5?(c="/api/fetch-mip-mop-report",p.type="MIP"):r.value==6&&(c="/api/fetch-mip-mop-report",p.type="MOP"):(Swal.fire({title:"error",text:"selected report type",icon:"error",showCancelButton:!1}),d.period_Date=null,d.Department=null,d.legal_Entity=null)),c&&(d.canShowLoading=!0,B.post(`${window.location.origin}${c}`,p).then(w=>{A.value=w.data.rows,w.data.headers.forEach(N=>{let J={title:N};L.value.push(J),w.data.rows.length===0&&Swal.fire({title:w.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(g=>{})})}).finally(()=>{d.canShowLoading=!1}))}function x(C,c,w){w==2||w==4||w==5&&(r.value?r.value==1||r.value==2||r.value==3||r.value==4:(Swal.fire({title:"error",text:"selected report type",icon:"error",showCancelButton:!1}),d.period_Date=null,d.Department=null,d.legal_Entity=null)),C=="start_date"?(p.start_date=c,console.log(p)):C=="end_date"&&(p.end_date=c,console.log(p)),p.start_date&&p.end_date&&(_.value=!1)}const I=C=>{d.canShowLoading=!0;let c,w;C==1?(c="/reports/generate-detailed-attendance-report",w="Attendance Detailed Report"):C==2?(c="/reports/generate-basic-attendance",w="Attendance Basic Report"):C==3?(c="/report/download-consolidate-report",w="consolidate Report"):C==4?(c="/report/download-over-time-report",w="Attendance Overtime Report"):C==5&&(r.value==1?(c="/report/download-late-coming-report",w="Attendance Late-coming Report"):r.value==2?(c="/report/download-early-going-report",w="Attendance Early going Report"):r.value==3?(c="/report/download-absent-report",w="Attendance Absent Report"):r.value==4?(c="/report/download-half-day-report",w="Attendance Half-day Report"):r.value==5?(c="/api/report/download/mip-mop-report",p.type="MIP",w="Missed in Punch Report"):r.value==6&&(c="/api/report/download/mip-mop-report",p.type="MOP",w="Missed out Punch Report")),c&&B.post(c,p,{responseType:"blob"}).then(N=>{console.log(N.data);var J=document.createElement("a");J.href=window.URL.createObjectURL(N.data),J.download=`${w}.xlsx`,J.click()}).finally(()=>{d.canShowLoading=!1,d.selectedfilters.active_status="",d.selectedfilters.date="",d.selectedfilters.department_id="",d.selectedfilters.legal_entity="",d.legal_Entity="",d.Department="",d.period_Date="",d.select_Category="",v.value="",m.value="",p.end_date="",p.start_date=""})},ae=async()=>{let C="/fetch-attendance-data";P.value=!0,await B.post(C).then(c=>{console.log(c.data.rows),A.value=c.data.rows,c.data.headers.forEach(w=>{let N={title:w};L.value.push(N),console.log(w)}),console.log(L.value)}).finally(()=>{P.value=!1})};function ne(){A.value.splice(0,A.value.length),L.value.splice(0,L.value.length),v.value="",m.value="",p.end_date="",p.start_date=""}return{canShowLoading:P,Legal_Entity:s,Department:a,PeriodMonth:y,Start_Date:v,End_Date:m,btn_download:i,getPeriodMonth:f,getDepartment:l,get_Legal_Entity:o,activetab:Y,fetchFilterClientId:Q,get_All_Department:oe,fetchPeriodMonth:F,getSelectoption:R,AttendanceReportSource:A,AttendanceReportDynamicHeaders:L,getEmployeeAttendanceReports:ae,attendance_Type:r,downloadAttendanceReports:I,clearDataTable:ne,select_StartAndEnd_Date:x,updateAttendanceReports:b,selectedfilters:p,dialog_customDate:_}});const j=d=>(ee("data-v-161dd3c0"),d=d(),te(),d),it={class:"px-2"},rt={class:"flex justify-between mb-[10px]"},dt=j(()=>t("h1",{class:"text-black text-[24px] font-semibold"},"Attendance Reports",-1)),pt={class:"flex items-center"},ct=j(()=>t("i",{class:"mr-2 pi pi-times"},null,-1)),ut=j(()=>t("i",{class:"mr-2 pi pi-filter"},null,-1)),vt={style:{position:"relative"}},mt={class:"flex justify-between"},ft={class:"flex mb-3 divide-x max-[1300px]:!w-[40%] max-[1400px]:![50%] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%]",id:"pills-tab",role:"tablist"},_t={class:"nav-item !border-0 text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},bt={class:"nav-item !border-0 flex items-center",role:"presentation"},gt={class:"nav-item !border-0 flex items-center",role:"presentation"},xt={class:"nav-item !border-0 flex items-center",role:"presentation"},ht={class:"nav-item !border-0 flex items-center",role:"presentation"},yt={class:"flex justify-between max-[1300px]:w-[60%] max-[1400px]:![50%] max-[1200px]:justify-start flex-wrap max-[1024px]:w-[100%]"},wt={class:"flex items-center"},Et=j(()=>t("h1",{class:"text-[12px] text-black mx-1 font-semibold font-['poppins']"},"Period : ",-1)),Ct={class:"flex items-center"},St=j(()=>t("h1",{class:"text-[12px] text-black mx-2 font-semibold font-['poppins']"},"Department : ",-1)),$t={class:"flex items-center"},Rt=j(()=>t("h1",{class:"text-[12px] text-black mx-1 font-semibold font-['poppins']"},"Legal Entity : ",-1)),Dt={key:0,class:"border-[1px ] border-[#000]"},Bt={class:"flex mb-3 divide-x max-[1300px]:!w-[60%] max-[1400px]:![70%] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%]",id:"pills-tab",role:"tablist"},Pt={class:"nav-item !border-0 text-center font-['poppins'] text-[14px] text-[#001820]",role:"presentation"},kt={class:"nav-item !border-0 flex items-center",role:"presentation"},Mt={class:"nav-item !border-0 flex items-center",role:"presentation"},Lt={class:"nav-item !border-0 flex items-center",role:"presentation"},Tt={class:"nav-item !border-0 flex items-center",role:"presentation"},At={class:"nav-item !border-0 flex items-center",role:"presentation"},Ft={class:"tab-content",id:""},It={class:"card-body"},Vt={class:"flex items-center justify-between p-2 bg-white"},Ut={class:"flex !items-center"},Ot={key:0,class:"flex items-center pt-2 ml-2"},jt={class:"flex items-center"},Nt=j(()=>t("path",{d:"M2,10 L6,13 L12.8760559,4.5959317 C14.1180021,3.0779974 16.2457925,2.62289624 18,3.5 L18,3.5 C19.8385982,4.4192991 21,6.29848669 21,8.35410197 L21,10 C21,12.7614237 18.7614237,15 16,15 L1,15",id:"check"},null,-1)),Ht=j(()=>t("polyline",{points:"4.5 8.5 8 11 11.5 8.5",class:"svg-out"},null,-1)),zt=j(()=>t("path",{d:"M8,1 L8,11",class:"svg-out"},null,-1)),Yt=[Nt,Ht,zt],Gt={class:"flex items-center justify-between"},Kt={__name:"AttendanceMaster",setup(d){const o=q(),l=st(),f=re(),_=n({global:{value:null,matchMode:Z.CONTAINS}});return n(),n(),n(),n([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]),n([{type:"Late Coming",id:1},{type:"Early Going",id:2},{type:"Absent",id:3},{type:"Half-Day Absent",id:4}]),z(async()=>{const s=await f.current_user_code;l.selectedfilters.user_code=s}),(s,a)=>{const y=k("Dropdown"),v=k("MultiSelect"),m=k("InputText"),r=k("Column"),M=k("DataTable"),P=k("Calendar"),Y=k("Dialog");return u(),h("div",it,[t("div",rt,[dt,t("div",pt,[t("button",{onClick:a[0]||(a[0]=i=>(e(o).clearfilterBtn(e(l).activetab),e(l).clearDataTable())),class:"flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] !bg-[#E6E6E6] mx-2 rounded-[4px]"},[ct,H(" Clear Filter")]),t("button",{onClick:a[1]||(a[1]=i=>e(l).updateAttendanceReports(e(l).activetab)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[ut,H(" Run")])])]),t("div",vt,[t("div",mt,[t("ul",ft,[t("li",_t,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).activetab===1?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[2]||(a[2]=i=>(e(l).activetab=1,e(o).clearfilterBtn(s.activetab),e(l).clearDataTable()))}," DETAILED REPORT ",2)]),t("li",bt,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).activetab===2?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[3]||(a[3]=i=>(e(l).activetab=2,e(o).clearfilterBtn(s.activetab),e(l).clearDataTable()))}," MUSTER ROLL ",2)]),t("li",gt,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).activetab===3?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[4]||(a[4]=i=>(e(l).activetab=3,e(o).clearfilterBtn(s.activetab),e(l).clearDataTable()))}," CONSOLIDATE ",2)]),t("li",xt,[t("a",{class:E(["px-4 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).activetab===4?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[5]||(a[5]=i=>(e(l).activetab=4,e(o).clearfilterBtn(s.activetab),e(l).clearDataTable()))}," OVERTIME ",2)]),t("li",ht,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).activetab===5?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[6]||(a[6]=i=>(e(l).activetab=5,e(o).clearfilterBtn(s.activetab),e(l).clearDataTable()))}," OTHERS ",2)])]),t("ul",yt,[t("li",wt,[Et,S(y,{optionLabel:"month",optionValue:"date",options:e(o).PeriodMonth,modelValue:e(o).period_Date,"onUpdate:modelValue":a[7]||(a[7]=i=>e(o).period_Date=i),onChange:a[8]||(a[8]=i=>e(l).getSelectoption("date",e(o).period_Date,e(l).activetab)),placeholder:"-- Select --",class:"w-[120px] mx-1 !h-10 my-1 !font-semibold !font-['poppins'] !text-[#000] !bg-[#E6E6E6]"},null,8,["options","modelValue"])]),t("li",Ct,[St,S(v,{modelValue:e(o).Department,"onUpdate:modelValue":a[9]||(a[9]=i=>e(o).Department=i),options:e(o).department,optionLabel:"name",placeholder:"-- Select --",onChange:a[10]||(a[10]=i=>e(l).getSelectoption("department",e(o).Department,e(l).activetab)),optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[140px] my-1 !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])]),t("li",$t,[Rt,S(v,{onChange:a[11]||(a[11]=i=>e(l).getSelectoption("legal_entity",e(o).legal_Entity,e(l).activetab)),modelValue:e(o).legal_Entity,"onUpdate:modelValue":a[12]||(a[12]=i=>e(o).legal_Entity=i),options:e(o).client_ids,optionLabel:"client_fullname",placeholder:"-- Select --",optionValue:"id",maxSelectedLabels:3,class:"min-w-[100px] w-[140px] my-1 !font-semibold !font-['poppins'] !h-10 text-[#000] !bg-[#E6E6E6]"},null,8,["modelValue","options"])])])]),e(l).activetab==5?(u(),h("div",Dt,[t("ul",Bt,[t("li",Pt,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).attendance_Type===1?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[13]||(a[13]=i=>e(l).attendance_Type=1)}," Late Coming ",2)]),t("li",kt,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).attendance_Type===2?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[14]||(a[14]=i=>e(l).attendance_Type=2)}," Early Going ",2)]),t("li",Mt,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).attendance_Type===3?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[15]||(a[15]=i=>e(l).attendance_Type=3)}," Absent ",2)]),t("li",Lt,[t("a",{class:E(["px-4 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).attendance_Type===4?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[16]||(a[16]=i=>e(l).attendance_Type=4)}," Half-Day Absent ",2)]),t("li",Tt,[t("a",{class:E(["px-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).attendance_Type===5?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[17]||(a[17]=i=>e(l).attendance_Type=5)}," MIP ",2)]),t("li",At,[t("a",{class:E(["px-4 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[e(l).attendance_Type===6?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:a[18]||(a[18]=i=>e(l).attendance_Type=6)}," MOP ",2)])])])):T("",!0),t("div",Ft,[t("div",It,[e(o).canShowLoading?(u(),V(W,{key:0,class:"absolute z-50 bg-white"})):T("",!0),t("div",null,[t("div",Vt,[t("div",Ut,[t("div",null,[S(m,{placeholder:"Search",modelValue:_.value.global.value,"onUpdate:modelValue":a[19]||(a[19]=i=>_.value.global.value=i),class:"border-color !h-10 my-1"},null,8,["modelValue"])]),e(l).activetab==5?(u(),h("div",Ot)):T("",!0)]),t("div",jt,[t("button",{class:E(["p-2 mx-2 rounded-md w-[120px]",[!e(l).AttendanceReportDynamicHeaders.length==0?"bg-[#000] text-white":" !text-[#000] !bg-[#E6E6E6] "]]),onClick:a[20]||(a[20]=i=>(e(l).btn_download=!e(l).btn_download,e(l).downloadAttendanceReports(e(l).activetab)))},[t("p",{class:E(["relative left-2 font-['poppins']",[!e(l).AttendanceReportDynamicHeaders.length==0?"bg-[#000] !text-[#ffff]":"!text-[#000] !bg-[#E6E6E6]"]])},"Download",2),t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:E([e(l).btn_download==!0?s.toggleClass:" "])},[(u(),h("svg",{width:"22px",height:"16px",viewBox:"0 0 22 16",class:E([!e(l).AttendanceReportDynamicHeaders.length==0?"!stroke-[#ffff] ":"!stroke-[#000]"])},Yt,2))],2)],2)])]),t("div",null,[S(M,{value:e(l).AttendanceReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:O(()=>[(u(!0),h(G,null,K(e(l).AttendanceReportDynamicHeaders,i=>(u(),V(r,{key:i.title,field:i.title,header:i.title,style:{"white-space":"nowrap","text-align":"left",width:"15rem !important","marign-right":"1rem !important"}},null,8,["field","header"]))),128))]),_:1},8,["value"]),S(Y,{visible:e(l).dialog_customDate,"onUpdate:visible":a[26]||(a[26]=i=>e(l).dialog_customDate=i),modal:"",header:"Custom Date",style:{width:"30vw"}},{default:O(()=>[t("div",null,[t("i",{class:"pi pi-times text-[14px] text-gray-400 rounded-full border-[3px] p-2 hover:border-blue-200 font-medium absolute top-5 right-5",onClick:a[21]||(a[21]=i=>e(l).dialog_customDate=!1)}),t("div",Gt,[S(P,{modelValue:e(l).Start_Date,"onUpdate:modelValue":a[22]||(a[22]=i=>e(l).Start_Date=i),onDateSelect:a[23]||(a[23]=i=>e(l).select_StartAndEnd_Date("start_date",e(ce)(e(l).Start_Date).format("YYYY-MM-DD"),e(l).activetab)),dateFormat:"dd-mm-yy",class:"w-[150px] h-10 mx-2",placeholder:"Start-date "},null,8,["modelValue"]),S(P,{modelValue:e(l).End_Date,"onUpdate:modelValue":a[24]||(a[24]=i=>e(l).End_Date=i),dateFormat:"dd-mm-yy",onDateSelect:a[25]||(a[25]=i=>e(l).select_StartAndEnd_Date("end_date",e(ce)(e(l).End_Date).format("YYYY-MM-DD"),e(l).activetab)),class:"w-[150px] h-10",placeholder:"End-date "},null,8,["modelValue"])])])]),_:1},8,["visible"])])])])])])])}}},qt=X(Kt,[["__scopeId","data-v-161dd3c0"]]),de=ie("PMSMasterStore",()=>{ve();const d=n(!1),o=n(),l=re(),f=n(!1);n([]),n([]);const _=n(),s=n([]),a=n([]),y=n([]),v=n([]),m=n([]),r=n([]),M=n([]),P=n([]),Y=async F=>{let R="";await B.get(` ${window.location.origin}/session-sessionselectedclient`).then(b=>{R=b.data.id}),console.log(R,"client_id"),await B.post(`${window.location.origin}/api/pms/getAssignmentPeriodDropdown`,{user_code:l.current_user_code,client_id:R}).then(b=>{b.data.map(({current_period:x,assignment_id:I})=>{x==1&&(o.value=I,console.log(x),console.log(I))})})},i=()=>{let F={client_id:_.value,assignment_setting_id:o.value};f.value=!0;let R=`${window.location.origin}/api/pms/pmsMasterReportExcellExport`;B.post(R,F,{responseType:"blob"}).then(b=>{console.log(b.data);var x=document.createElement("a");x.href=window.URL.createObjectURL(b.data),x.download="Detail Annual PMS Report_.xlsx",x.click()}).finally(()=>{d.value=!1,f.value=!1})},p=()=>{let F={client_id:_.value,assignment_setting_id:o.value};f.value=!0;let R=`${window.location.origin}/api/pms/pmsScoreExportReport`;B.post(R,F,{responseType:"blob"}).then(b=>{console.log(b.data);var x=document.createElement("a");x.href=window.URL.createObjectURL(b.data),x.download="Basic PMS Report_.xlsx",x.click()}).finally(()=>{d.value=!1,f.value=!1})};function A(F){if(console.log("active_status: ",F),r.value.splice(0,r.value.length),m.value.splice(0,m.value.length),a.value.splice(0,a.value.length),y.value.splice(0,y.value.length),v.value.splice(0,v.value.length),F==1){f.value=!0;let R=`${window.location.origin}/api/pms/pmsScoreExportReport`;B.post(R,{client_id:_.value,assignment_setting_id:o.value,type:"json"}).then(b=>{console.log(b),console.log(b.data.data,"get value "),m.value=b.data.data.value,console.log(m.value," testings data"),b.data.data.header.forEach(x=>{let I={title:x};r.value.push(I),console.log(x)}),console.log(r.value),b.data.data.header.length===0&&Swal.fire({title:b.data.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(x=>{})}).finally(()=>{f.value=!1})}else if(F==2){f.value=!0;let R=`${window.location.origin}/api/pms/pmsMasterReportExcellExport`;B.post(R,{client_id:_.value,assignment_setting_id:o.value,type:"json"}).then(b=>{console.log(b),console.log(b.data.data,"get value "),console.log(b.data.data.value),console.log(b.data.data.value),a.value=b.data.data.value,console.log(a.value," testings data"),b.data.data.header1.forEach(x=>{let I={title:x};y.value.push(I),console.log(x)}),console.log(y.value),b.data.data.header2.forEach(x=>{let I={title:x};v.value.push(I),console.log(x)}),console.log(v.value),Object.keys(a.value[0]).forEach(x=>{M.value.push(x)}),M.value.forEach(x=>{let I={title:x};P.value.push(I),console.log(x)}),console.log("Keys Array:",M.value),b.data.data.value.length===0&&Swal.fire({title:b.data.data.status="failure",text:"No employees found in this category",icon:"error",showCancelButton:!1}).then(x=>{})}).finally(()=>{f.value=!1})}}function L(){let F=`${window.location.origin}/api/pms/pmsScoreExportReport`;f.value=!0,B.post(F,{client_id:_.value,assignment_setting_id:o.value,type:"json"}).then(R=>{console.log(R),console.log(R.data.data,"get value "),m.value=R.data.data.value,console.log(m.value," testings data"),R.data.data.header.forEach(b=>{let x={title:b};r.value.push(x),console.log(b)}),console.log(r.value)}).finally(()=>{f.value=!1})}function Q(){let F=`${window.location.origin}/api/pms/pmsMasterReportExcellExport`;f.value=!0,B.post(F,{client_id:_.value,assignment_setting_id:o.value,type:"json"}).then(R=>{console.log(R),console.log(R.data.data,"get value "),a.value=R.data.data.value,console.log(m.value," testings data"),R.data.data.header1.forEach(b=>{let x={title:b};y.value.push(x),console.log(b)}),console.log(y.value),R.data.data.header2.forEach(b=>{let x={title:b};v.value.push(x),console.log(b)}),console.log(v.value)}).finally(()=>{f.value=!1})}return{PMSReportSource:s,current_session_client_id:_,PMSAnnualReportSourceData:P,PMSBasicReport_DynamicHeaders:r,PMSBasicReportSource:m,PMSAnnualReport_DynamicHeaders2:v,PMSAnnualReport_DynamicHeaders1:y,PMSAnnualReportSource:a,getclient_id:async()=>await B.get(`${window.location.origin}/getCurrentSessionClientId`).then(F=>{console.log(F.data),_.value=F.data}),getAssignmentPeriodDropdown:Y,getPMSBasicReport:L,updatePMSReport:A,downloadBasicReport:p,downloadAnnualPMSReport:i,getPMSAnnualReport:Q}});const Jt=d=>(ee("data-v-a77902c9"),d=d(),te(),d),Qt={class:"flex justify-between bg-white p-2"},Wt={class:"flex items-center"},Xt=Jt(()=>t("p",{class:"relative font-['poppins'] bg-[#000] !text-[#ffff]"},[t("i",{class:"pi pi-download mx-2"}),H("Download")],-1)),Zt={class:""},eo={__name:"BasicReport",setup(d){n(1);const o=de();z(()=>{o.getAssignmentPeriodDropdown(),o.getclient_id()});const l=n({global:{value:null,matchMode:Z.CONTAINS}}),f=n("downloaded");return(_,s)=>{const a=k("InputText"),y=k("Column"),v=k("DataTable");return u(),h("div",null,[t("div",null,[t("div",Qt,[t("div",null,[S(a,{placeholder:"Search",modelValue:l.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=m=>l.value.global.value=m),class:"border-color !h-10 my-2",style:{height:"3em"}},null,8,["modelValue"])]),t("div",Wt,[t("button",{class:"p-2 mx-2 rounded-md w-[120px] bg-[#000] !text-[#ffff]",onClick:s[1]||(s[1]=m=>(e(o).btn_download=!e(o).btn_download,e(o).downloadBasicReport()))},[Xt,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:E([e(o).btn_download==!0?f.value:""])},null,2)])])]),t("div",Zt,[S(v,{value:e(o).PMSBasicReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:O(()=>[(u(!0),h(G,null,K(e(o).PMSBasicReport_DynamicHeaders,m=>(u(),V(y,{class:"",key:m.title,field:m.title,header:m.title,style:{"text-align":"left",width:"15rem !important","marign-right":"1rem !important"},resizableColumns:"",columnResizeMode:"fit"},null,8,["field","header"]))),128))]),_:1},8,["value"])])])])}}},to=X(eo,[["__scopeId","data-v-a77902c9"]]);const oo=d=>(ee("data-v-4aa5b322"),d=d(),te(),d),lo={class:"flex justify-between p-2 bg-white"},ao={class:""},no={class:"flex items-center"},so=oo(()=>t("p",{class:"relative font-['poppins'] bg-[#000] !text-[#ffff]"},[t("i",{class:"pi pi-download mx-2"}),H("Download")],-1)),io={class:""},ro={__name:"DetailReport",setup(d){const o=de();z(()=>{o.getAssignmentPeriodDropdown(),o.getclient_id()}),n([]);const l=n({global:{value:null,matchMode:Z.CONTAINS}}),f=n("downloaded");return(_,s)=>{const a=k("InputText"),y=k("Column"),v=k("Row"),m=k("ColumnGroup"),r=k("DataTable");return u(),h("div",null,[t("div",lo,[t("div",ao,[S(a,{placeholder:"Search",modelValue:l.value.global.value,"onUpdate:modelValue":s[0]||(s[0]=M=>l.value.global.value=M),class:"border-color !h-10 my-2"},null,8,["modelValue"])]),t("div",no,[t("button",{class:"p-2 mx-2 rounded-md w-[120px] bg-[#000] !text-[#ffff]",onClick:s[1]||(s[1]=M=>(e(o).btn_download=!e(o).btn_download,e(o).downloadAnnualPMSReport()))},[so,t("div",{id:"btn-download",style:{position:"absolute",right:"0"},class:E([e(o).btn_download==!0?f.value:""])},null,2)])])]),t("div",io,[S(r,{value:e(o).PMSAnnualReportSource,paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],responsiveLayout:"scroll",scrollable:"",scrollHeight:"240px",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{default:O(()=>[S(m,{type:"header"},{default:O(()=>[S(v,null,{default:O(()=>[(u(!0),h(G,null,K(e(o).PMSAnnualReport_DynamicHeaders2,(M,P)=>(u(),V(y,{key:P,header:M.title},null,8,["header"]))),128))]),_:1}),S(v,null,{default:O(()=>[(u(!0),h(G,null,K(e(o).PMSAnnualReport_DynamicHeaders1,(M,P)=>(u(),V(y,{key:P,header:M.title},null,8,["header"]))),128))]),_:1})]),_:1}),(u(!0),h(G,null,K(e(o).PMSAnnualReportSourceData,M=>(u(),V(y,{key:M.title,field:M.title},null,8,["field"]))),128))]),_:1},8,["value"])])])}}},po=X(ro,[["__scopeId","data-v-4aa5b322"]]);const co={class:"px-2"},uo={class:"flex justify-between mb-[10px]"},vo=t("h1",{class:"text-black text-[24px] font-semibold"},"PMS Report",-1),mo={class:"flex item-center"},fo=t("button",{class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] !bg-[#E6E6E6] mx-2 rounded-[4px]"},[t("i",{class:"mr-2 pi pi-times"}),H(" Clear Filter")],-1),_o=t("i",{class:"mr-2 pi pi-filter"},null,-1),bo={style:{position:"relative"}},go={class:"flex justify-between"},xo={class:"flex mb-3 h-[3rem] !border-[0px] divide-x !w-[380px] nav nav-pills divide-solid nav-tabs-dashed max-[1024px]:w-[100%]",id:"pills-tab",role:"tablist"},ho={class:"flex items-center nav-item !border-[0px]",role:"presentation"},yo={class:"flex items-center nav-item !border-[0px]",role:"presentation"},wo={class:"tab-content",id:""},Eo={class:"card-body"},Co={key:0},So={key:1},$o={__name:"PMSReports",setup(d){const o=de(),l=q();z(()=>{}),n("border-[1px] border-[#F9BE00]"),n("border-[1px] border-[#DCDCDC]");const f=n(1);return n([{name:"Active",id:1},{name:"Yet To Active",id:0},{name:"Exit",id:-1}]),(_,s)=>(u(),h("div",co,[t("div",uo,[vo,t("div",mo,[fo,t("button",{onClick:s[0]||(s[0]=a=>e(o).updatePMSReport(f.value)),class:"my-2 flex items-center text-[#000] !font-semibold !font-['poppins'] text-[12px] px-3 py-2 border-[1px] bg-[#F9BE00] mx-2 rounded-[4px]"},[_o,H(" Run")])])]),t("div",bo,[t("div",go,[t("ul",xo,[t("li",ho,[t("a",{class:E(["p-2 position-relative font-['poppins'] !border-r-[0px] text-[14px] text-[#001820] w-[100%] !m-[0px]",[f.value===1?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:s[1]||(s[1]=a=>f.value=1)}," Basic Annual Report ",2)]),t("li",yo,[t("a",{class:E(["p-2 position-relative font-['poppins'] text-[14px] text-[#001820] w-[100%]",[f.value===2?"active font-semibold !border-b-[2.2px]  !border-[#F9BE00]":"font-medium !text-[#8B8B8B] border-b-[2.2px] border-[#dcdcdc] "]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:s[2]||(s[2]=a=>f.value=2)}," Detailed Annual Report ",2)])])]),t("div",wo,[t("div",null,[t("div",Eo,[f.value===1?(u(),h("div",Co,[e(l).canShowLoading?(u(),V(W,{key:0,class:"absolute z-50 bg-white"})):T("",!0),S(to)])):T("",!0),f.value===2?(u(),h("div",So,[e(l).canShowLoading?(u(),V(W,{key:0,class:"absolute z-50 bg-white"})):T("",!0),S(po)])):T("",!0)])])])])]))}},Ro={style:{position:"relative"}},Do={class:"mb-3 divide-x nav nav-pills divide-solid nav-tabs-dashed w-[50%]",id:"pills-tab",role:"tablist"},Bo={class:"nav-item",role:"presentation"},Po={key:0,class:"h-1 rounded-l-3xl",style:{border:"2px solid #F9BE00 !important"}},ko={key:1,class:"h-1 border-2 border-gray-300 rounded-l-3xl",style:{border:"2px solid #dcdcdc !important"}},Mo={class:"border-0 nav-item position-relative",role:"presentation"},Lo={key:0,class:"h-1 rounded-r-3xl position-absolute bottom-[1px] w-[100%] left-0",style:{border:"2px solid #F9BE00 !important"}},To={key:1,class:"h-1 border-2 border-gray-300 rounded-l-3xl"},Ao={class:"border-0 nav-item position-relative",role:"presentation"},Fo={key:0,class:"h-1 rounded-r-3xl position-absolute bottom-[1px] w-[100%] left-0",style:{border:"2px solid #F9BE00 !important"}},Io={key:1,class:"h-1 border-gray-300 border-3 rounded-r-3xl"},Vo=t("div",{class:"border-gray-300 border-b-[4px] w-100 mt-[-7px]"},null,-1),Uo={class:"tab-content",id:""},Oo={class:"card-body"},jo={key:0},No={key:1},Ho={key:2},el={__name:"ReportsMaster",setup(d){const o=n(1),l=q();return z(()=>{l.fetchFilterClientIds(),l.getALLdepartment(),l.getPeriodMonth()}),(f,_)=>(u(),h("div",null,[t("div",Ro,[t("ul",Do,[t("li",Bo,[t("a",{class:E(["px-4 position-relative border-0 font-['poppins'] text-[14px] text-[#001820]",[o.value===1?"active font-semibold border: 2px solid #F9BE00 !important;":"font-medium !text-[#8B8B8B] border: 2px solid #dcdcdc !important;"]]),id:"","data-bs-toggle":"pill",href:"",role:"tab","aria-controls":"","aria-selected":"true",onClick:_[0]||(_[0]=s=>(o.value=1,e(l).clearfilterBtn(o.value),e(l).filterCustomDate(o.value)))}," EMPLOYEE REPORTS ",2),o.value===1?(u(),h("div",Po)):(u(),h("div",ko))]),T("",!0),T("",!0),t("li",Mo,[t("a",{class:E(["text-center px-4 border-0 font-['poppins'] text-[14px] text-[#001820]",[o.value===4?"active font-semibold ":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:_[3]||(_[3]=s=>(o.value=4,e(l).clearfilterBtn(o.value),e(l).filterCustomDate(o.value))),role:"tab","aria-controls":"","aria-selected":"true"}," ATTENDANCE ",2),o.value===4?(u(),h("div",Lo)):(u(),h("div",To))]),T("",!0),t("li",Ao,[t("a",{class:E(["text-center px-4 border-0 font-['poppins'] text-[14px] text-[#001820]",[o.value===6?"active font-semibold ":"font-medium !text-[#8B8B8B]"]]),id:"","data-bs-toggle":"pill",href:"",onClick:_[5]||(_[5]=s=>o.value=6),role:"tab","aria-controls":"","aria-selected":"true"}," PMS/OKR ",2),o.value===6?(u(),h("div",Fo)):(u(),h("div",Io))]),Vo]),t("div",Uo,[t("div",null,[t("div",Oo,[o.value===1?(u(),h("div",jo,[S(nt)])):T("",!0),o.value===4?(u(),h("div",No,[S(qt)])):T("",!0),o.value===6?(u(),h("div",Ho,[S($o)])):T("",!0)])])])])]))}};export{el as default};
