import{u as R,a as F,ab as G,r as C,b as p,c as Q,d as s,e as n,m as k,k as b,T as H,f as i,h as y,t as r,g as t,j as d,i as g,F as S,l as O,n as u,w as _}from"./app-e1ab7da0.js";import{a as J,u as K}from"./OnboardingMainStore-80ba7eda.js";import"./Service-a2d19084.js";import"./xlsx-4ad528ac.js";import"./index.esm-8509f6bf.js";import"./dayjs.min-ac6c82aa.js";const j=i("h5",{style:{"text-align":"center"}},"Please wait...",-1),W={class:"grid w-10/12 grid-cols-3 mx-auto my-2 place-content-center"},z={class:"p-2 mx-6 font-semibold text-black bg-white rounded-lg fs-6"},$={class:"font-bold"},q={class:"p-2 mx-6 font-semibold text-black bg-green-100 rounded-lg fs-6"},X={class:"font-bold"},Y={class:"p-2 mx-6 font-semibold text-black bg-red-100 rounded-lg fs-6"},Z={class:"font-bold"},ee={class:"py-5"},oe=i("p",{class:"font-semibold fs-6"},"Sample format:",-1),le={class:"table-responsive"},te={class:"table-responsive"},se=i("p",{class:"font-semibold fs-6"},"Original data:",-1),ne={class:"font-semibold fs-6"},ae={key:0,class:"mx-2 cursor-pointer fa fa-exclamation-circle text-warning","aria-hidden":"true"},re={class:"font-semibold fs-6"},ie={key:0,class:"mx-2 cursor-pointer fa fa-exclamation-circle text-warning","aria-hidden":"true"},ue={key:0,class:"cursor-pointer fa fa-exclamation-circle text-warning","aria-hidden":"true"},de={class:"px-2 font-semibold fs-6 py-auto"},ce={key:0,class:"cursor-pointer fa fa-exclamation-circle text-warning","aria-hidden":"true"},me={key:0,class:"cursor-pointer fa fa-exclamation-circle text-warning","aria-hidden":"true"},pe={key:0,class:"cursor-pointer fa fa-exclamation-circle text-warning","aria-hidden":"true"},be={key:9,class:"font-semibold fs-6"},ye={key:10,class:"font-semibold fs-6"},ge={key:11,class:"font-semibold fs-6"},he={key:19,class:"font-semibold fs-6"},De={__name:"ImportQuickOnboarding",setup(Ve){R(),F();const o=J(),N=K(),B=E=>!!["Basic","HRA","Statutory Bonus","Child Education Allowance","Food Coupon","LTA"].includes(E);G(()=>{o.isValueUpdated&&(o.currentlyImportedTableEmployeeCodeValues.splice(0,o.currentlyImportedTableEmployeeCodeValues.length),o.currentlyImportedTableAadharValues.splice(0,o.currentlyImportedTableAadharValues.length),o.currentlyImportedTableAccNoValues.splice(0,o.currentlyImportedTableAccNoValues.length),o.currentlyImportedTablePanValues.splice(0,o.currentlyImportedTablePanValues.length),o.currentlyImportedTableEmailValues.splice(0,o.currentlyImportedTableEmailValues.length),o.currentlyImportedTableMobileNumberValues.splice(0,o.currentlyImportedTableMobileNumberValues.length),setTimeout(()=>{o.getCurrentlyImportedTableDuplicateEntries(o.EmployeeQuickOnboardingSource)},100))});const U=C(!0),w=E=>{o.initialUpdate=!0,setTimeout(()=>{U.value=!1,console.log("functionkilled")},30),o.errorRecordsCount.splice(0,o.errorRecordsCount.length);let{data:c,newValue:f,field:v}=E;f?o.isValueUpdated=!0:o.isValueUpdated=!1,f.trim().length>0?c[v]=f:E.preventDefault();for(let x=0;x<o.EmployeeQuickOnboardingSource.length;x++)o.getValidationMessages(o.EmployeeQuickOnboardingSource[x])},A=C([{"Employee Code":"ABS01","Employee Name":"Vishu","Date Of Birth (dd-mm-yyyy)":"23-09-2001","Date of Joined (dd-mm-yyyy)":"23-09-2023","Mobile Number":"9898989898","Aadhaar Number":"2222 3333 4444","Personal Email":"abs@gmail.com","Pan Number":"AJUPA0900H",Gender:"Male","Marital Status":"Married","Reporting Manager":"Pradessh",Designation:"Developer",Department:"IT",Location:"Chennai","Father Name":"Simma","Physically Handicapped":"No"}]),P=[{title:"Employee Code"},{title:"Employee Name"},{title:"Date Of Birth (dd-mm-yyyy)"},{title:"Date of Joined (dd-mm-yyyy)"},{title:"Mobile Number"},{title:"Aadhaar Number"},{title:"Personal Email"},{title:"Pan Number"},{title:"Gender"},{title:"Marital Status"},{title:"Reporting Manager"},{title:"Designation"},{title:"Department"},{title:"Location"},{title:"Father Name"},{title:"Physically Handicapped"}],I=C([{name:"Male",value:"Male"},{name:"Female",value:"Female"},{name:"Others",value:"Others"}]);return(E,c)=>{const f=p("Toast"),v=p("ProgressSpinner"),x=p("Dialog"),T=p("Column"),M=p("DataTable"),D=p("InputText"),h=p("Dropdown"),L=p("InputMask"),V=Q("tooltip");return s(),n(S,null,[k(f),k(H,{name:"fade",mode:"out-in"},{default:b(()=>[k(x,{header:"Header",visible:t(o).canShowloading,"onUpdate:visible":c[0]||(c[0]=m=>t(o).canShowloading=m),breakpoints:{"960px":"75vw","640px":"90vw"},style:{width:"25vw"},modal:!0,closable:!1,closeOnEscape:!1},{header:b(()=>[k(v,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:"2s","aria-label":"Custom ProgressSpinner"})]),footer:b(()=>[j]),_:1},8,["visible"])]),_:1}),i("div",W,[i("div",z,[y("Total Records : "),i("span",$,r(t(o).totalRecordsCount.length?t(o).totalRecordsCount[0].length:0),1)]),i("div",q,[y("Processed Records : "),i("span",X,r(t(o).totalRecordsCount.length?t(o).totalRecordsCount[0].length-t(o).errorRecordsCount.length:0),1)]),i("div",Y,[y("Error Records : "),i("span",Z,r(t(o).errorRecordsCount.length),1)])]),i("div",ee,[oe,i("div",le,[k(M,{class:"my-4",value:A.value,tableStyle:"min-width: 50rem",responsiveLayout:"scroll"},{default:b(()=>[(s(),n(S,null,O(P,m=>k(T,{key:m.title,field:m.title,style:{"min-width":"12rem"},header:m.title},null,8,["field","header"])),64))]),_:1},8,["value"])])]),i("div",te,[se,t(o).EmployeeQuickOnboardingSource?(s(),d(M,{key:0,class:"py-4",value:t(o).EmployeeQuickOnboardingSource,tableStyle:"min-width: 50rem",responsiveLayout:"scroll",editMode:"cell",onCellEditComplete:w,stateStorage:"session",stateKey:"dt-state-demo-session",rows:t(o).EmployeeQuickOnboardingSource.length},{footer:b(()=>[i("button",{class:"flex justify-center mx-auto btn btn-orange",onClick:c[3]||(c[3]=m=>t(o).uploadOnboardingFile(t(o).EmployeeQuickOnboardingSource))},"Upload")]),default:b(()=>[(s(!0),n(S,null,O(t(o).EmployeeQuickOnboardingDynamicHeader,m=>(s(),d(T,{key:m.title,field:m.title,style:{"min-width":"12rem"},header:m.title},{body:b(({data:e,field:l})=>[l.includes("Employee Code")?(s(),n("div",{key:0,class:u([t(o).findCurrentTableDups(t(o).currentlyImportedTableEmployeeCodeValues,e["Employee Code"])||!t(o).isUserExists(e["Employee Code"])?"bg-red-100 p-2 rounded-lg":""])},[i("p",ne,[t(o).isUserExists(e["Employee Code"])?g("",!0):_((s(),n("i",ae,null,512)),[[V,"User code is already exists",void 0,{right:!0}]]),y(" "+r(e["Employee Code"]?e["Employee Code"]:"-"),1)])],2)):l.includes("Legal Entity")?(s(),n("div",{key:1,class:u([t(o).isExistsOrNot(t(o).existingLegalEntity,e["Legal Entity"])||!e["Legal Entity"]?"bg-red-100 p-2 rounded-lg":""])},[i("p",re,r(e["Legal Entity"]?e["Legal Entity"]:"-"),1)],2)):l.includes("Aadhar")?(s(),n("p",{key:2,class:u([[t(o).findCurrentTableDups(t(o).currentlyImportedTableAadharValues,e.Aadhar)||t(o).isValidAadhar(e.Aadhar)?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},[t(o).isAadharExists(e.Aadhar)?_((s(),n("i",ie,null,512)),[[V,"Aadhar number is already exists",void 0,{right:!0}]]):g("",!0),y(" "+r(t(o).splitNumberWithSpaces(e.Aadhar)),1)],2)):l.includes("Employee Name")?(s(),n("p",{key:3,class:u([[t(o).isLetter(e["Employee Name"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e["Employee Name"]?e["Employee Name"]:"-"),3)):l.includes("Email")?(s(),n("p",{key:4,class:u([[t(o).findCurrentTableDups(t(o).currentlyImportedTableEmailValues,e.Email)||t(o).isEmail(e.Email)?"bg-red-100 p-2 rounded-lg":""],"flex items-center font-semibold fs-6"])},[t(o).existingEmails.includes(e.Email)?_((s(),n("i",ue,null,512)),[[V,"Email is already exists",void 0,{right:!0}]]):g("",!0),i("span",de,r(e.Email?e.Email:"-"),1)],2)):l.includes("Mobile Number")?(s(),n("p",{key:5,class:u([[t(o).findCurrentTableDups(t(o).currentlyImportedTableMobileNumberValues,e[l])||t(o).existingMobileNumbers.includes(e[l])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},[t(o).existingMobileNumbers.includes(e[l])?_((s(),n("i",ce,null,512)),[[V,"Mobile number is already exists",void 0,{right:!0}]]):g("",!0),y(" "+r(e["Mobile Number"]?e["Mobile Number"]:"-"),1)],2)):l.includes("Account No")?(s(),n("p",{key:6,class:u([[t(o).findCurrentTableDups(t(o).currentlyImportedTableAccNoValues,e["Account No"])||t(o).isValidBankAccountNo(e["Account No"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},[t(o).existingMobileNumbers.includes(e[l])?_((s(),n("i",me,null,512)),[[V,"Account number is already exists",void 0,{right:!0}]]):g("",!0),y(" "+r(e["Account No"]?e["Account No"]:"-"),1)],2)):l.includes("Bank Name")?(s(),n("p",{key:7,class:u([[t(o).isBankExists(e["Bank Name"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e["Bank Name"]?e["Bank Name"]:"-"),3)):l.includes("Pan No")?(s(),n("p",{key:8,class:u([[t(o).findCurrentTableDups(t(o).currentlyImportedTablePanValues,e["Pan No"])||!t(o).isValidPancard(e["Pan No"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},[t(o).isValidPancard(e["Pan No"])?g("",!0):_((s(),n("i",pe,null,512)),[[V,"Pan number is already exists",void 0,{right:!0}]]),y(" "+r(e["Pan No"]?e["Pan No"].toUpperCase():"-"),1)],2)):l.includes("Father DOB")?(s(),n("p",be,r(e[l]?e[l]:"-"),1)):l.includes("Mother DOB")?(s(),n("p",ye,r(e[l]?e[l]:"-"),1)):l.includes("Spouse DOB")?(s(),n("p",ge,r(e[l]?e[l]:"-"),1)):l.includes("DOB")?(s(),n("p",{key:12,class:u([[t(o).isValidDate(e.DOB)?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e.DOB?e[l]:"-"),3)):l.includes("DOJ")?(s(),n("p",{key:13,class:u([[t(o).isValidDate(e.DOJ)?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e.DOJ?e[l]:"-"),3)):l.includes("Bank ifsc")?(s(),n("p",{key:14,class:u([[t(o).isValidBankIfsc(e["Bank ifsc"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e["Bank ifsc"]?e["Bank ifsc"].toUpperCase():"-"),3)):l.includes("Official Mail")?(s(),n("p",{key:15,class:u([[t(o).isOfficialMailExists(e["Official Mail"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e["Official Mail"]?e["Official Mail"]:"-"),3)):l.includes("Marital Status")?(s(),n("p",{key:16,class:u([[t(o).isExistsOrNot(t(o).existingMartialStatus,e["Marital Status"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e["Marital Status"]?e["Marital Status"]:"-"),3)):l.includes("Blood Group")?(s(),n("p",{key:17,class:u([[t(o).isExistsOrNot(t(o).existingBloodgroups,e["Blood Group"])?"bg-red-100 p-2 rounded-lg":""],"font-semibold fs-6"])},r(e["Blood Group"]?e["Blood Group"]:"-"),3)):l.includes("Department")?(s(),n("p",{key:18,class:u([[t(o).isDepartmentExists(e.Department)?"":"bg-red-100 p-2 rounded-lg"],"font-semibold fs-6"])},r(e.Department?e.Department:"-"),3)):(s(),n("p",he,r(e[l]?e[l]:"-"),1))]),editor:b(({data:e,field:l})=>[l=="Aadhar"?(s(),d(D,{key:0,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,minLength:"12",maxLength:"12",onKeypress:c[1]||(c[1]=a=>t(o).isEnteredNos(a))},null,8,["modelValue","onUpdate:modelValue"])):l=="Gender"?(s(),d(h,{key:1,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,options:I.value,optionLabel:"name",optionValue:"name",placeholder:"Select Gender",class:"w-full"},null,8,["modelValue","onUpdate:modelValue","options"])):l=="Pan No"?(s(),d(L,{key:2,id:"serial",mask:"aaaPa9999a",modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,class:"uppercase"},null,8,["modelValue","onUpdate:modelValue"])):l=="Email"?(s(),d(D,{key:3,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a},null,8,["modelValue","onUpdate:modelValue"])):l=="Mobile Number"?(s(),d(D,{key:4,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,minLength:"10",maxLength:"10",onKeypress:c[2]||(c[2]=a=>t(o).isEnteredNos(a))},null,8,["modelValue","onUpdate:modelValue"])):l=="Legal Entity"?(s(),d(h,{key:5,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,options:t(o).legalEntityDropdown,optionLabel:"client_fullname",optionValue:"client_fullname",placeholder:"Select Legal Entity"},null,8,["modelValue","onUpdate:modelValue","options"])):l=="Bank Name"?(s(),d(h,{key:6,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,options:t(N).bankList,optionLabel:"bank_name",optionValue:"bank_name",placeholder:"Select Bank Name"},null,8,["modelValue","onUpdate:modelValue","options"])):l=="Marital Status"?(s(),d(h,{key:7,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,options:t(N).maritalDetails,optionLabel:"name",optionValue:"name",placeholder:"Select Martial Status"},null,8,["modelValue","onUpdate:modelValue","options"])):l=="Blood Group"?(s(),d(h,{key:8,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,options:t(N).bloodGroups,optionLabel:"name",optionValue:"name",placeholder:"Select Bloodgroup",class:"p-error"},null,8,["modelValue","onUpdate:modelValue","options"])):l=="Department"?(s(),d(h,{key:9,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,options:t(N).departmentDetails,optionLabel:"name",optionValue:"name",placeholder:"Select Department",class:"p-error"},null,8,["modelValue","onUpdate:modelValue","options"])):(s(),d(D,{key:10,modelValue:e[l],"onUpdate:modelValue":a=>e[l]=a,readonly:B(l)},null,8,["modelValue","onUpdate:modelValue","readonly"]))]),_:2},1032,["field","header"]))),128))]),_:1},8,["value","rows"])):g("",!0)])],64)}}};export{De as default};
